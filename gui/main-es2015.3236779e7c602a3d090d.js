(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("bHdf");function r(){return Object(i.a)(1)}},"128B":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("Kqap"),r=n("BFxc"),s=n("xbPD"),o=n("mCNh");function a(t,e){return arguments.length>=2?function(n){return Object(o.a)(Object(i.a)(t,e),Object(r.a)(1),Object(s.a)(e))(n)}:function(e){return Object(o.a)(Object(i.a)((e,n,i)=>t(e,n,i+1)),Object(r.a)(1))(e)}}},"1G5W":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("l7GE"),r=n("ZUHj");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.notifier=t}call(t,e){const n=new a(t),i=Object(r.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class a extends i.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}},"1uah":function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var i=n("yCtX"),r=n("DH7j"),s=n("7o/Q"),o=n("l7GE"),a=n("ZUHj"),l=n("Lhse");function u(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(i.a)(t,void 0).lift(new c(e))}class c{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;Object(r.a)(t)?e.push(new p(t)):e.push("function"==typeof t[l.a]?new d(t[l.a]()):new f(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let i=!1;const r=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(i=!0),o.done)return void n.complete();r.push(o.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class d{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class p{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[l.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class f extends o.a{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[l.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,i,r){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(a.a)(this,this.observable,this,e)}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("9ppp");class s extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("D0XW"),r=n("mlxB"),s=n("7o/Q"),o=n("WMd4");function a(t,e=i.a){const n=Object(r.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new l(n,e))}class l{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new u(t,this.delay,this.scheduler))}}class u extends s.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(u.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new c(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(o.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.time=t,this.notification=e}}},"3N8a":function(t,e,n){"use strict";var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",function(){return s});class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"4I5i":function(t,e,n){"use strict";function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ZUHj"),r=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function l(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(l((n,i)=>Object(a.a)(t(n,i)).pipe(Object(o.a)((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends r.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");class r extends i.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";let i=1;const r={},s={setImmediate(t){const e=i++;return r[e]=t,Promise.resolve().then(()=>(function(t){const e=r[t];e&&e()})(e)),e},clearImmediate(t){delete r[t]}};var o=n("3N8a");class a extends o.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=s.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(s.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class u extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}n.d(e,"a",function(){return c});const c=new u(a)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class c extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(l.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},"A1R+":function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n("YcpW");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function s(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=e;o<n;o++)s=t.children[o],l(r,t.leaf?i(s):s);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,r,s){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,i(t,o,e,n,s),a.push(e,o,o,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!f(t,e))return n;for(var r,s,o,a,l=[];e;){for(r=0,s=e.children.length;r<s;r++)o=e.children[r],f(t,a=e.leaf?i(o):o)&&(e.leaf?n.push(o):p(t,a)?this._all(o,n):l.push(o));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!f(t,e))return!1;for(var i,r,s,o,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(s=e.children[i],f(t,o=e.leaf?n(s):s)){if(e.leaf||p(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,a=this.data,l=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=c.pop(),o=!0),a.leaf&&-1!==(r=s(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!p(a,l)?i?(a=i.children[++n],o=!1):a=null:(u.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var l,u,c,h,d=Math.ceil(s/a),p=d*Math.ceil(Math.sqrt(a));for(m(t,e,n,p,this.compareMinX),l=e;l<=n;l+=p)for(m(t,l,c=Math.min(l+p-1,n),d,this.compareMinY),u=l;u<=c;u+=d)h=Math.min(u+d-1,c),r.children.push(this._build(t,u,h,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,s,o,a,l,u,c,d,p,f;i.push(e),!e.leaf&&i.length-1!==n;){for(c=d=1/0,r=0,s=e.children.length;r<s;r++)l=h(o=e.children[r]),p=t,f=o,(u=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l)<d?(d=u,c=l<c?l:c,a=o):u===d&&l<c&&(c=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],s=this._chooseSubtree(i,this.data,e,r);for(s.children.push(t),l(s,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,s,o,l,u,c,d,p,f,g,m,_,y;for(u=c=1/0,i=e;i<=n-e;i++)p=r=a(t,0,i,this.toBBox),f=s=a(t,i,n,this.toBBox),g=Math.max(p.minX,f.minX),m=Math.max(p.minY,f.minY),_=Math.min(p.maxX,f.maxX),y=Math.min(p.maxY,f.maxY),o=Math.max(0,_-g)*Math.max(0,y-m),l=h(r)+h(s),o<u?(u=o,d=i,c=l<c?l:c):o===u&&l<c&&(c=l,d=i);return d},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,s,o=this.toBBox,u=a(t,0,e,o),c=a(t,n-e,n,o),h=d(u)+d(c);for(r=e;r<n-e;r++)s=t.children[r],l(u,t.leaf?o(s):s),h+=d(u);for(r=n-e-1;r>=e;r--)s=t.children[r],l(c,t.leaf?o(s):s),h+=d(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},BFxc:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return function(e){return 0===t?Object(s.b)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new l(t,this.total))}}class l extends i.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}},CRDf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("kJWO");const r=t=>e=>{const n=t[i.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Cfvw:function(t,e,n){"use strict";var i=n("HDdC"),r=n("c2HN"),s=n("I55L"),o=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),p=n("SeVD");function f(t,e){if(!e)return t instanceof i.a?t:new i.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(e?n=>{const i=new u.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:Object(d.a)(t))}(t,e);if(Object(r.a)(t))return function(t,e){return new i.a(e?n=>{const i=new u.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:Object(c.a)(t))}(t,e);if(Object(s.a)(t))return Object(l.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(e?n=>{const i=new u.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[a.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const s=r.next();t=s.value,e=s.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return f})},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("3N8a");const r=new(n("IjjT").a)(i.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=Array.isArray||(t=>t&&"number"==typeof t.length)},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var i=n("XNiG"),r=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t}refCount(){return Object(o.a)()(this)}}const l=a.prototype,u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};class c extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},Gi4w:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return n=>n.lift(new s(t,e,n))}class s{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg,this.source))}}class o extends i.a{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("LRne"),r=n("0EUg");function s(...t){return Object(r.a)()(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";var i=n("8Qeq"),r=n("7o/Q"),s=n("2QA8"),o=n("gRHU"),a=n("kJWO"),l=n("mCNh"),u=n("2fFW");n.d(e,"a",function(){return c});let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(i?i.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(i.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:Object(l.b)(t)(this)}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},Hlea:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("qCKp"),r=n("kU1M"),s={attempts:9,backoffStrategy:"exponential",exponentialUnit:1e3,randomRange:[1e3,1e4]};e.default=function(t,e){var n=Object.assign({},s,e),o=0,a=0;return i.fromEvent(document,"visibilitychange").pipe(r.startWith(null),r.switchMap(function(){if(!Boolean(document.hidden)){var e=t,s=i.interval(n.interval).pipe(r.take(1),r.switchMap(function(){return t}),r.repeat());return i.concat(e,s).pipe(r.retryWhen(function(t){return t.pipe(r.scan(function(t,e){return{errorCount:t.errorCount+1,error:e}},{errorCount:0,error:null}),r.switchMap(function(t){var e=(o=t.errorCount)-a;if(e>n.attempts)throw t.error;var r=function(t,e){switch(e.backoffStrategy){case"exponential":return Math.pow(2,t-1)*e.exponentialUnit;case"random":var n=e.randomRange,i=n[0],r=n[1]-i;return Math.floor(Math.random()*r)+i;case"consecutive":return e.constantTime||e.interval;default:return console.error(e.backoffStrategy+" is not a backoff strategy supported by rx-polling"),e.constantTime||e.interval}}(e,n);return i.timer(r,null)}))}))}return i.empty()}),r.tap(function(){a=o}))}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Y/cZ");class r extends i.a{constructor(t,e=i.a.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new l(t,this.total))}}class l extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj");function o(t){return function(e){const n=new a(t),i=e.lift(n);return n.caught=i}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new l(t,this.selector,this.caught))}}class l extends i.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this,void 0,void 0);this.add(i),Object(s.a)(this,n,void 0,void 0,i)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("yCtX"),r=n("XUOw"),s=n("EY2u"),o=n("GyhO"),a=n("z+Ro");function l(...t){return e=>{let n=t[t.length-1];Object(a.a)(n)?t.pop():n=null;const l=t.length;return 1!==l||n?l>0?Object(o.a)(Object(i.a)(t,n),e):Object(o.a)(Object(s.b)(n),e):Object(o.a)(Object(r.a)(t[0]),e)}}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("z+Ro"),r=n("yCtX"),s=n("EY2u"),o=n("XUOw");function a(...t){let e=t[t.length-1];switch(Object(i.a)(e)?t.pop():e=void 0,t.length){case 0:return Object(s.b)(e);case 1:return e?Object(r.a)(t,e):Object(o.a)(t[0]);default:return Object(r.a)(t,e)}}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},"NHP+":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XNiG"),r=n("quSY");class s extends i.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),r.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),r.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t})}n.d(e,"a",function(){return i})},NJ9Y:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("sVev"),r=n("pLZG"),s=n("BFxc"),o=n("XDbj"),a=n("xbPD"),l=n("SpAZ");function u(t,e){const n=arguments.length>=2;return u=>u.pipe(t?Object(r.a)((e,n)=>t(e,n,u)):l.a,Object(s.a)(1),n?Object(a.a)(e):Object(o.a)(()=>new i.a))}},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("Cfvw"),s=n("EY2u");function o(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(r.a)(n):Object(s.b)()).subscribe(e)})}},Nv8m:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("yCtX"),s=n("l7GE"),o=n("ZUHj");function a(...t){if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(r.a)(t,void 0).lift(new l)}class l{call(t,e){return e.subscribe(new u(t))}}class u extends s.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],i=Object(o.a)(this,e,e,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},OQgR:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return h});var i=n("7o/Q"),r=n("quSY"),s=n("HDdC"),o=n("XNiG");function a(t,e,n,i){return r=>r.lift(new l(t,e,n,i))}class l{constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new u(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class u extends i.a{constructor(t,e,n,i,r){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(s){this.error(s)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,r);const t=new h(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new h(e,r))}catch(s){return void this.error(s)}this.add(t.subscribe(new c(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class c extends i.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class h extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new r.a,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new d(n)),e.add(i.subscribe(t)),e}}class d extends r.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},PqYM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("D0XW"),s=n("Y7HM"),o=n("z+Ro");function a(t=0,e,n){let a=-1;return Object(s.a)(e)?a=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=r.a),new i.a(e=>{const i=Object(s.a)(t)?t:+t-n.now();return n.schedule(l,i,{index:0,period:a,subscriber:e})})}function l(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("HDdC"),r=n("ngJS"),s=n("a7t3"),o=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const p=t=>{if(t instanceof i.a)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[d.a])return Object(a.a)(t);if(Object(l.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return Object(s.a)(t);if(t&&"function"==typeof t[h.a])return Object(o.a)(t);{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("sVev"),r=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),l=n("SpAZ");function u(t,e){const n=arguments.length>=2;return u=>u.pipe(t?Object(r.a)((e,n)=>t(e,n,u)):l.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new i.a))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("EY2u"),r=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("vkgz"),r=n("sVev");const s=(t=function(){return new r.a})=>Object(i.a)({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}})},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends r.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XUOw:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t){const e=new i.a(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},"Y/cZ":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})()},Y6u4:function(t,e,n){"use strict";function i(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},YcpW:function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,s,o){!function e(n,i,r,s,o){for(;s>r;){if(s-r>600){var a=s-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-l*c/a+h)),Math.min(s,Math.floor(i+(a-l)*c/a+h)),o)}var d=n[i],p=r,f=s;for(t(n,r,i),o(n[s],d)>0&&t(n,r,s);p<f;){for(t(n,p,f),p++,f--;o(n[p],d)<0;)p++;for(;o(n[f],d)>0;)f--}0===o(n[r],d)?t(n,r,f):t(n,++f,s),f<=i&&(r=f+1),i<=f&&(s=f-1)}}(n,i,r||0,s||n.length-1,o||e)}}()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("51Dv"),r=n("SeVD");function s(t,e,n,s,o=new i.a(t,n,s)){if(!o.closed)return Object(r.a)(e)(o)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("NJ4a");const r=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.a),e)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("5+tZ");function r(t,e){return Object(i.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("DH7j"),s=n("EY2u"),o=n("ZUHj"),a=n("l7GE"),l=n("lJxs");function u(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),0===t.length?s.a:e?u(t).pipe(Object(l.a)(t=>e(...t))):new i.a(e=>new c(e,t))}class c extends a.a{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=e[i],n=Object(o.a)(this,t,null,i);n&&this.add(n)}}notifyNext(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("l7GE"),r=n("51Dv"),s=n("ZUHj"),o=n("lJxs"),a=n("Cfvw");function l(t,e){return"function"==typeof e?n=>n.pipe(l((n,i)=>Object(a.a)(t(n,i)).pipe(Object(o.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new u(t))}class u{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends i.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const o=new r.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(s.a)(this,t,e,n,o)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},itXk:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var i=n("z+Ro"),r=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const l={};function u(...t){let e=null,n=null;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new c(e))}class c{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(l),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===l?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jtHE:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("XNiG"),r=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),l=n("Ylt2");class u extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new c(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=s.a.EMPTY:(this.observers.push(t),u=new l.a(this,t)),i&&t.add(t=new o.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||r.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class c{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},kU1M:function(t,e,n){"use strict";n.r(e);var i=n("l7GE"),r=n("ZUHj");function s(t){return function(e){return e.lift(new o(t))}}class o{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new a(t,this.durationSelector))}}class a extends i.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:i}=this;n=i(t)}catch(e){return this.destination.error(e)}const i=Object(r.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var l=n("D0XW"),u=n("PqYM");function c(t,e=l.a){return s(()=>Object(u.a)(t,e))}function h(t){return function(e){return e.lift(new d(t))}}class d{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new p(t,this.closingNotifier))}}class p extends i.a{constructor(t,e){super(t),this.buffer=[],this.add(Object(r.a)(this,e))}_next(t){this.buffer.push(t)}notifyNext(t,e,n,i,r){const s=this.buffer;this.buffer=[],this.destination.next(s)}}var f=n("7o/Q");function g(t,e=null){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?y:_}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class _ extends f.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class y extends f.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:i,count:r}=this;this.count++,r%n==0&&i.push([]);for(let s=i.length;s--;){const n=i[s];n.push(t),n.length===e&&(i.splice(s,1),this.destination.next(n))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var v=n("z+Ro");function b(t){let e=arguments.length,n=l.a;Object(v.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let i=null;e>=2&&(i=arguments[1]);let r=Number.POSITIVE_INFINITY;return e>=3&&(r=arguments[2]),function(e){return e.lift(new w(t,i,r,n))}}class w{constructor(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}call(t,e){return e.subscribe(new C(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class x{constructor(){this.buffer=[]}}class C extends f.a{constructor(t,e,n,i,r){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=r,this.contexts=[];const s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly)this.add(s.closeAction=r.schedule(E,e,{subscriber:this,context:s,bufferTimeSpan:e}));else{const t={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:r};this.add(s.closeAction=r.schedule(T,e,{subscriber:this,context:s})),this.add(r.schedule(S,n,t))}}_next(t){const e=this.contexts,n=e.length;let i;for(let r=0;r<n;r++){const n=e[r],s=n.buffer;s.push(t),s.length==this.maxBufferSize&&(i=n)}i&&this.onBufferFull(i)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(E,e,{subscriber:this,context:t,bufferTimeSpan:e}))}}openContext(){const t=new x;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function E(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function S(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:i,scheduler:r}=t,s=i.openContext();i.closed||(i.add(s.closeAction=r.schedule(T,n,{subscriber:i,context:s})),this.schedule(t,e))}function T(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var O=n("quSY");function R(t,e){return function(n){return n.lift(new I(t,e))}}class I{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new k(t,this.openings,this.closingSelector))}}class k extends i.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(Object(r.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let i=0;i<n;i++)e[i].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e,n,i,r){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const n=this.closingSelector.call(this,t);n&&this.trySubscribe(n)}catch(e){this._error(e)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:i}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new O.a,i={buffer:[],subscription:n};e.push(i);const s=Object(r.a)(this,t,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),n.add(s))}}function D(t){return function(e){return e.lift(new A(t))}}class A{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new P(t,this.closingSelector))}}class P extends i.a{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=null,this.subscribing=!1}notifyNext(t,e,n,i,r){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(n){return this.error(n)}e=new O.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(r.a)(this,t)),this.subscribing=!1}}var N=n("JIr8"),M=n("itXk");function L(t){return e=>e.lift(new M.a(t))}var j=n("DH7j"),F=n("Cfvw");function V(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(j.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(F.a)([n,...t]),new M.a(e))}var G=n("GyhO");function U(...t){return e=>e.lift.call(Object(G.a)(e,...t))}var z=n("0EUg"),H=n("bOdf");function W(t,e){return Object(H.a)(()=>t,e)}function Y(t){return e=>e.lift(new B(t,e))}class B{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new X(t,this.predicate,this.source))}}class X extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function K(t){return e=>e.lift(new $(t))}class ${constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new q(t,this.durationSelector))}}class q extends i.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1,this.durationSubscription=null}_next(t){try{const n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(r.a)(this,e))&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(t,e,n,i,r){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,super._next(t)}}}function Z(t,e=l.a){return n=>n.lift(new Q(t,e))}class Q{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new J(t,this.dueTime,this.scheduler))}}class J extends f.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function tt(t){t.debouncedNext()}var et=n("xbPD"),nt=n("3E0/"),it=n("HDdC");function rt(t,e){return e?n=>new at(n,e).lift(new st(t)):e=>e.lift(new st(t))}class st{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new ot(t,this.delayDurationSelector))}}class ot extends i.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,i,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const i=this.delayDurationSelector(t,e);i&&this.tryDelay(i,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(r.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class at extends it.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new lt(t,this.source))}}class lt extends f.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function ut(){return function(t){return t.lift(new ct)}}class ct{call(t,e){return e.subscribe(new ht(t))}}class ht extends f.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function dt(t,e){return n=>n.lift(new pt(t,e))}class pt{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new ft(t,this.keySelector,this.flushes))}}class ft extends i.a{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(r.a)(this,n))}notifyNext(t,e,n,i,r){this.values.clear()}notifyError(t,e){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(i){return void n.error(i)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}function gt(t,e){return n=>n.lift(new mt(t,e))}class mt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new _t(t,this.compare,this.keySelector))}}class _t extends f.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function yt(t,e){return gt((n,i)=>e?e(n[t],i[t]):n[t]===i[t])}var vt=n("4I5i"),bt=n("pLZG"),wt=n("XDbj"),xt=n("IzEk");function Ct(t,e){if(t<0)throw new vt.a;const n=arguments.length>=2;return i=>i.pipe(Object(bt.a)((e,n)=>n===t),Object(xt.a)(1),n?Object(et.a)(e):Object(wt.a)(()=>new vt.a))}var Et=n("yCtX"),St=n("XUOw"),Tt=n("EY2u");function Ot(...t){return e=>{let n=t[t.length-1];Object(v.a)(n)?t.pop():n=null;const i=t.length;return 1!==i||n?i>0?Object(G.a)(e,Object(Et.a)(t,n)):Object(G.a)(e,Object(Tt.b)(n)):Object(G.a)(e,Object(St.a)(t[0]))}}var Rt=n("Gi4w");function It(){return t=>t.lift(new kt)}class kt{call(t,e){return e.subscribe(new Dt(t))}}class Dt extends i.a{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(r.a)(this,t)))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var At=n("51Dv"),Pt=n("lJxs");function Nt(t,e){return e?n=>n.pipe(Nt((n,i)=>Object(F.a)(t(n,i)).pipe(Object(Pt.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new Mt(t))}class Mt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Lt(t,this.project))}}class Lt extends i.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new At.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function jt(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,i=>i.lift(new Ft(t,e,n))}class Ft{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new Vt(t,this.project,this.concurrent,this.scheduler))}}class Vt extends i.a{constructor(t,e,n,i){super(t),this.project=e,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:i,index:r}=t;e.subscribeToProjection(n,i,r)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:r}=this,s=r(t,n);this.scheduler?this.destination.add(this.scheduler.schedule(Vt.dispatch,0,{subscriber:this,result:s,value:t,index:n})):this.subscribeToProjection(s,t,n)}catch(i){e.error(i)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++,this.destination.add(Object(r.a)(this,t,e,n))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this._next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Gt=n("nYR2");function Ut(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new zt(t,n,!1,e))}class zt{constructor(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}call(t,e){return e.subscribe(new Ht(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class Ht extends f.a{constructor(t,e,n,i,r){super(t),this.predicate=e,this.source=n,this.yieldIndex=i,this.thisArg=r,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,i=this.index++;try{e.call(n||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(r){this.destination.error(r)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function Wt(t,e){return n=>n.lift(new zt(t,n,!0,e))}var Yt=n("SxV6"),Bt=n("OQgR");function Xt(){return function(t){return t.lift(new Kt)}}class Kt{call(t,e){return e.subscribe(new $t(t))}}class $t extends f.a{_next(t){}}function qt(){return t=>t.lift(new Zt)}class Zt{call(t,e){return e.subscribe(new Qt(t))}}class Qt extends f.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Jt=n("NJ9Y");function te(t){return e=>e.lift(new ee(t))}class ee{constructor(t){this.value=t}call(t,e){return e.subscribe(new ne(t,this.value))}}class ne extends f.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var ie=n("WMd4");function re(){return function(t){return t.lift(new se)}}class se{call(t,e){return e.subscribe(new oe(t))}}class oe extends f.a{constructor(t){super(t)}_next(t){this.destination.next(ie.a.createNext(t))}_error(t){const e=this.destination;e.next(ie.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(ie.a.createComplete()),t.complete()}}var ae=n("128B");function le(t){const e="function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e;return Object(ae.a)(e)}var ue=n("VRyK");function ce(...t){return e=>e.lift.call(Object(ue.a)(e,...t))}var he=n("bHdf"),de=n("5+tZ");function pe(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(de.a)(()=>t,e,n):("number"==typeof e&&(n=e),Object(de.a)(()=>t,n))}function fe(t,e,n=Number.POSITIVE_INFINITY){return i=>i.lift(new ge(t,e,n))}class ge{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new me(t,this.accumulator,this.seed,this.concurrent))}}class me extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const n=this.index++,i=this.destination;let r;try{const{accumulator:s}=this;r=s(this.acc,t,n)}catch(e){return i.error(e)}this.active++,this._innerSub(r,t,n)}else this.buffer.push(t)}_innerSub(t,e,n){const i=new At.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t,e,n,i,r){const{destination:s}=this;this.acc=e,this.hasValue=!0,s.next(e)}notifyComplete(t){const e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function _e(t){const e="function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e;return Object(ae.a)(e)}var ye=n("oB13"),ve=n("pxpQ");function be(...t){return 1===t.length&&Object(j.a)(t[0])&&(t=t[0]),e=>e.lift(new we(t))}class we{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new xe(t,this.nextSources))}}class xe extends i.a{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(t,e){this.subscribeToNextSource()}notifyComplete(t){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new At.a(this,void 0,void 0);this.destination.add(e),Object(r.a)(this,t,void 0,void 0,e)}else this.destination.complete()}}function Ce(){return t=>t.lift(new Ee)}class Ee{call(t,e){return e.subscribe(new Se(t))}}class Se extends f.a{constructor(t){super(t),this.hasPrev=!1}_next(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}function Te(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function Oe(t,e){return n=>[Object(bt.a)(t,e)(n),Object(bt.a)(Te(t,e))(n)]}function Re(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(Pt.a)(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=i[t[r]];if(void 0===e)return;i=e}return i}}(t,e))(n)}var Ie=n("XNiG");function ke(t){return t?Object(ye.a)(()=>new Ie.a,t):Object(ye.a)(new Ie.a)}var De=n("2Vo4");function Ae(t){return e=>Object(ye.a)(new De.a(t))(e)}var Pe=n("NHP+");function Ne(){return t=>Object(ye.a)(new Pe.a)(t)}var Me=n("jtHE");function Le(t,e,n,i){n&&"function"!=typeof n&&(i=n);const r="function"==typeof n?n:void 0,s=new Me.a(t,e,i);return t=>Object(ye.a)(()=>s,r)(t)}var je=n("Nv8m");function Fe(...t){return function(e){return 1===t.length&&Object(j.a)(t[0])&&(t=t[0]),e.lift.call(Object(je.a)(e,...t))}}function Ve(t=-1){return e=>0===t?Object(Tt.b)():e.lift(new Ge(t<0?-1:t-1,e))}class Ge{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Ue(t,this.count,this.source))}}class Ue extends f.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function ze(t){return e=>e.lift(new He(t))}class He{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new We(t,this.notifier,e))}}class We extends i.a{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(t,e,n,i,r){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(t){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next()}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new Ie.a;try{const{notifier:n}=this;t=n(this.notifications)}catch(e){return super.complete()}this.retries=t,this.retriesSubscription=Object(r.a)(this,t)}}function Ye(t=-1){return e=>e.lift(new Be(t,e))}class Be{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Xe(t,this.count,this.source))}}class Xe extends f.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function Ke(t){return e=>e.lift(new $e(t,e))}class $e{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new qe(t,this.notifier,this.source))}}class qe extends i.a{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{n=new Ie.a;try{const{notifier:t}=this;i=t(n)}catch(e){return super.error(e)}s=Object(r.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(t,e,n,i,r){const{_unsubscribe:s}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=s,this.source.subscribe(this)}}var Ze=n("x+ZX");function Qe(t){return e=>e.lift(new Je(t))}class Je{constructor(t){this.notifier=t}call(t,e){const n=new tn(t),i=e.subscribe(n);return i.add(Object(r.a)(n,this.notifier)),i}}class tn extends i.a{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(t,e,n,i,r){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function en(t,e=l.a){return n=>n.lift(new nn(t,e))}class nn{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new rn(t,this.period,this.scheduler))}}class rn extends f.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(sn,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function sn(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}var on=n("Kqap");function an(t,e){return n=>n.lift(new ln(t,e))}class ln{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new un(t,this.compareTo,this.comparator))}}class un extends f.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new cn(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let r=t.shift(),s=e.shift(),o=!1;try{o=n?n(r,s):r===s}catch(i){this.destination.error(i)}o||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class cn extends f.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var hn=n("w1tV");function dn(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(u){o++,r&&!a||(a=!1,r=new Me.a(t,e,i),s=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,r.complete()}}));const c=r.subscribe(this);this.add(()=>{o--,c.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}var pn=n("sVev");function fn(t){return e=>e.lift(new gn(t,e))}class gn{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new mn(t,this.predicate,this.source))}}class mn extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new pn.a)}}function _n(t){return e=>e.lift(new yn(t))}class yn{constructor(t){this.total=t}call(t,e){return e.subscribe(new vn(t,this.total))}}class vn extends f.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function bn(t){return e=>e.lift(new wn(t))}class wn{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new vt.a}call(t,e){return e.subscribe(0===this._skipCount?new f.a(t):new xn(t,this._skipCount))}}class xn extends f.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const i=n%e,r=this._ring,s=r[i];r[i]=t,this.destination.next(s)}}}function Cn(t){return e=>e.lift(new En(t))}class En{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Sn(t,this.notifier))}}class Sn extends i.a{constructor(t,e){super(t),this.hasValue=!1;const n=new At.a(this,void 0,void 0);this.add(n),this.innerSubscription=n,Object(r.a)(this,e,void 0,void 0,n)}_next(t){this.hasValue&&super._next(t)}notifyNext(t,e,n,i,r){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function Tn(t){return e=>e.lift(new On(t))}class On{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Rn(t,this.predicate))}}class Rn extends f.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const n=this.predicate(t,this.index++);this.skipping=Boolean(n)}catch(e){this.destination.error(e)}}}var In=n("JX91"),kn=n("7Hc7"),Dn=n("Y7HM");class An extends it.a{constructor(t,e=0,n=kn.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(Dn.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=kn.a)}static create(t,e=0,n=kn.a){return new An(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(An.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function Pn(t,e=0){return function(n){return n.lift(new Nn(t,e))}}class Nn{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new An(e,this.delay,this.scheduler).subscribe(t)}}var Mn=n("eIep"),Ln=n("SpAZ");function jn(){return Object(Mn.a)(Ln.a)}function Fn(t,e){return e?Object(Mn.a)(()=>t,e):Object(Mn.a)(()=>t)}var Vn=n("BFxc"),Gn=n("1G5W");function Un(t,e=!1){return n=>n.lift(new zn(t,e))}class zn{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Hn(t,this.predicate,this.inclusive))}}class Hn extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var Wn=n("vkgz");const Yn={leading:!0,trailing:!1};function Bn(t,e=Yn){return n=>n.lift(new Xn(t,e.leading,e.trailing))}class Xn{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new Kn(t,this.durationSelector,this.leading,this.trailing))}}class Kn extends i.a{constructor(t,e,n,i){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(r.a)(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,n,i,r){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function $n(t,e=l.a,n=Yn){return i=>i.lift(new qn(t,e,n.leading,n.trailing))}class qn{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new Zn(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Zn extends f.a{constructor(t,e,n,i,r){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Qn,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Qn(t){const{subscriber:e}=t;e.clearThrottle()}var Jn=n("NXyV");function ti(t=l.a){return e=>Object(Jn.a)(()=>e.pipe(Object(on.a)(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(Pt.a)(({current:t,last:e,value:n})=>new ei(n,t-e))))}class ei{constructor(t,e){this.value=t,this.interval=e}}var ni=n("Y6u4"),ii=n("mlxB");function ri(t,e,n=l.a){return i=>{let r=Object(ii.a)(t),s=r?+t-n.now():Math.abs(t);return i.lift(new si(s,r,e,n))}}class si{constructor(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}call(t,e){return e.subscribe(new oi(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class oi extends i.a{constructor(t,e,n,i,r){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=i,this.scheduler=r,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(r.a)(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(oi.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var ai=n("z6cu");function li(t,e=l.a){return ri(t,Object(ai.a)(new ni.a),e)}function ui(t=l.a){return Object(Pt.a)(e=>new ci(e,t.now()))}class ci{constructor(t,e){this.value=t,this.timestamp=e}}function hi(t,e,n){return 0===n?[e]:(t.push(e),t)}function di(){return Object(ae.a)(hi,[])}function pi(t){return function(e){return e.lift(new fi(t))}}class fi{constructor(t){this.windowBoundaries=t}call(t,e){const n=new gi(t),i=e.subscribe(n);return i.closed||n.add(Object(r.a)(n,this.windowBoundaries)),i}}class gi extends i.a{constructor(t){super(t),this.window=new Ie.a,t.next(this.window)}notifyNext(t,e,n,i,r){this.openWindow()}notifyError(t,e){this._error(t)}notifyComplete(t){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new Ie.a;e.next(n)}}function mi(t,e=0){return function(n){return n.lift(new _i(t,e))}}class _i{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new yi(t,this.windowSize,this.startWindowEvery))}}class yi extends f.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new Ie.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,r=this.windows,s=r.length;for(let a=0;a<s&&!this.closed;a++)r[a].next(t);const o=this.count-i+1;if(o>=0&&o%e==0&&!this.closed&&r.shift().complete(),++this.count%e==0&&!this.closed){const t=new Ie.a;r.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function vi(t){let e=l.a,n=null,i=Number.POSITIVE_INFINITY;return Object(v.a)(arguments[3])&&(e=arguments[3]),Object(v.a)(arguments[2])?e=arguments[2]:Object(Dn.a)(arguments[2])&&(i=arguments[2]),Object(v.a)(arguments[1])?e=arguments[1]:Object(Dn.a)(arguments[1])&&(n=arguments[1]),function(r){return r.lift(new bi(t,n,i,e))}}class bi{constructor(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}call(t,e){return e.subscribe(new xi(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class wi extends Ie.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class xi extends f.a{constructor(t,e,n,i,r){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=r,this.windows=[];const s=this.openWindow();if(null!==n&&n>=0){const t={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:r};this.add(r.schedule(Si,e,{subscriber:this,window:s,context:null})),this.add(r.schedule(Ei,n,t))}else this.add(r.schedule(Ci,e,{subscriber:this,window:s,windowTimeSpan:e}))}_next(t){const e=this.windows,n=e.length;for(let i=0;i<n;i++){const n=e[i];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new wi;return this.windows.push(t),this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function Ci(t){const{subscriber:e,windowTimeSpan:n,window:i}=t;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,n)}function Ei(t){const{windowTimeSpan:e,subscriber:n,scheduler:i,windowCreationInterval:r}=t,s=n.openWindow();let o={action:this,subscription:null};o.subscription=i.schedule(Si,e,{subscriber:n,window:s,context:o}),this.add(o.subscription),this.schedule(t,r)}function Si(t){const{subscriber:e,window:n,context:i}=t;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(n)}function Ti(t,e){return n=>n.lift(new Oi(t,e))}class Oi{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new Ri(t,this.openings,this.closingSelector))}}class Ri extends i.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(r.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let i=0;i<n;i++)e[i].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let i=-1;for(;++i<n;){const n=e[i];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,i,s){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(o){return this.error(o)}const n=new Ie.a,i=new O.a,s={window:n,subscription:i};this.contexts.push(s);const a=Object(r.a)(this,t,s);a.closed?this.closeWindow(this.contexts.length-1):(a.context=s,i.add(a)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:i,subscription:r}=n;e.splice(t,1),i.complete(),r.unsubscribe()}}function Ii(t){return function(e){return e.lift(new ki(t))}}class ki{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new Di(t,this.closingSelector))}}class Di extends i.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,i,r){this.openWindow(r)}notifyError(t,e){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new Ie.a;let i;this.destination.next(n);try{const{closingSelector:t}=this;i=t()}catch(s){return this.destination.error(s),void this.window.error(s)}this.add(this.closingNotification=Object(r.a)(this,i))}}var Ai=n("zp1y"),Pi=n("1uah");function Ni(...t){return function(e){return e.lift.call(Object(Pi.b)(e,...t))}}function Mi(t){return e=>e.lift(new Pi.a(t))}n.d(e,"audit",function(){return s}),n.d(e,"auditTime",function(){return c}),n.d(e,"buffer",function(){return h}),n.d(e,"bufferCount",function(){return g}),n.d(e,"bufferTime",function(){return b}),n.d(e,"bufferToggle",function(){return R}),n.d(e,"bufferWhen",function(){return D}),n.d(e,"catchError",function(){return N.a}),n.d(e,"combineAll",function(){return L}),n.d(e,"combineLatest",function(){return V}),n.d(e,"concat",function(){return U}),n.d(e,"concatAll",function(){return z.a}),n.d(e,"concatMap",function(){return H.a}),n.d(e,"concatMapTo",function(){return W}),n.d(e,"count",function(){return Y}),n.d(e,"debounce",function(){return K}),n.d(e,"debounceTime",function(){return Z}),n.d(e,"defaultIfEmpty",function(){return et.a}),n.d(e,"delay",function(){return nt.a}),n.d(e,"delayWhen",function(){return rt}),n.d(e,"dematerialize",function(){return ut}),n.d(e,"distinct",function(){return dt}),n.d(e,"distinctUntilChanged",function(){return gt}),n.d(e,"distinctUntilKeyChanged",function(){return yt}),n.d(e,"elementAt",function(){return Ct}),n.d(e,"endWith",function(){return Ot}),n.d(e,"every",function(){return Rt.a}),n.d(e,"exhaust",function(){return It}),n.d(e,"exhaustMap",function(){return Nt}),n.d(e,"expand",function(){return jt}),n.d(e,"filter",function(){return bt.a}),n.d(e,"finalize",function(){return Gt.a}),n.d(e,"find",function(){return Ut}),n.d(e,"findIndex",function(){return Wt}),n.d(e,"first",function(){return Yt.a}),n.d(e,"groupBy",function(){return Bt.b}),n.d(e,"ignoreElements",function(){return Xt}),n.d(e,"isEmpty",function(){return qt}),n.d(e,"last",function(){return Jt.a}),n.d(e,"map",function(){return Pt.a}),n.d(e,"mapTo",function(){return te}),n.d(e,"materialize",function(){return re}),n.d(e,"max",function(){return le}),n.d(e,"merge",function(){return ce}),n.d(e,"mergeAll",function(){return he.a}),n.d(e,"mergeMap",function(){return de.a}),n.d(e,"flatMap",function(){return de.a}),n.d(e,"mergeMapTo",function(){return pe}),n.d(e,"mergeScan",function(){return fe}),n.d(e,"min",function(){return _e}),n.d(e,"multicast",function(){return ye.a}),n.d(e,"observeOn",function(){return ve.b}),n.d(e,"onErrorResumeNext",function(){return be}),n.d(e,"pairwise",function(){return Ce}),n.d(e,"partition",function(){return Oe}),n.d(e,"pluck",function(){return Re}),n.d(e,"publish",function(){return ke}),n.d(e,"publishBehavior",function(){return Ae}),n.d(e,"publishLast",function(){return Ne}),n.d(e,"publishReplay",function(){return Le}),n.d(e,"race",function(){return Fe}),n.d(e,"reduce",function(){return ae.a}),n.d(e,"repeat",function(){return Ve}),n.d(e,"repeatWhen",function(){return ze}),n.d(e,"retry",function(){return Ye}),n.d(e,"retryWhen",function(){return Ke}),n.d(e,"refCount",function(){return Ze.a}),n.d(e,"sample",function(){return Qe}),n.d(e,"sampleTime",function(){return en}),n.d(e,"scan",function(){return on.a}),n.d(e,"sequenceEqual",function(){return an}),n.d(e,"share",function(){return hn.a}),n.d(e,"shareReplay",function(){return dn}),n.d(e,"single",function(){return fn}),n.d(e,"skip",function(){return _n}),n.d(e,"skipLast",function(){return bn}),n.d(e,"skipUntil",function(){return Cn}),n.d(e,"skipWhile",function(){return Tn}),n.d(e,"startWith",function(){return In.a}),n.d(e,"subscribeOn",function(){return Pn}),n.d(e,"switchAll",function(){return jn}),n.d(e,"switchMap",function(){return Mn.a}),n.d(e,"switchMapTo",function(){return Fn}),n.d(e,"take",function(){return xt.a}),n.d(e,"takeLast",function(){return Vn.a}),n.d(e,"takeUntil",function(){return Gn.a}),n.d(e,"takeWhile",function(){return Un}),n.d(e,"tap",function(){return Wn.a}),n.d(e,"throttle",function(){return Bn}),n.d(e,"throttleTime",function(){return $n}),n.d(e,"throwIfEmpty",function(){return wt.a}),n.d(e,"timeInterval",function(){return ti}),n.d(e,"timeout",function(){return li}),n.d(e,"timeoutWith",function(){return ri}),n.d(e,"timestamp",function(){return ui}),n.d(e,"toArray",function(){return di}),n.d(e,"window",function(){return pi}),n.d(e,"windowCount",function(){return mi}),n.d(e,"windowTime",function(){return vi}),n.d(e,"windowToggle",function(){return Ti}),n.d(e,"windowWhen",function(){return Ii}),n.d(e,"withLatestFrom",function(){return Ai.a}),n.d(e,"zip",function(){return Ni}),n.d(e,"zipAll",function(){return Mi})},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");class r extends i.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("KqfI");function r(...t){return s(t)}function s(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:i.a}},mlxB:function(t,e,n){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",function(){return i})},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("quSY");function s(t){return e=>e.lift(new o(t))}class o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends i.a{constructor(t,e){super(t),this.add(new r.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("EQ5u");function r(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(r,e));const o=Object.create(n,i.b);return o.source=n,o.subjectFactory=r,o}}class s{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pLzU:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Lhse");const r=t=>e=>{const n=t[i.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e}},pjAE:function(t,e,n){"use strict";function i(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.notification=t,this.destination=e}}},qCKp:function(t,e,n){"use strict";n.r(e);var i=n("HDdC"),r=n("EQ5u"),s=n("OQgR"),o=n("kJWO"),a=n("XNiG"),l=n("2Vo4"),u=n("jtHE"),c=n("NHP+"),h=n("7Hc7"),d=n("D0XW"),p=n("qgXg"),f=n("3N8a");class g extends f.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var m=n("IjjT");class _ extends m.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const y=new _(g);let v=(()=>{class t extends m.a{constructor(t=b,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,i;for(;(i=t[0])&&i.delay<=e&&(t.shift(),this.frame=i.delay,!(n=i.execute(i.state,i.delay))););if(n){for(;i=t.shift();)i.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})();class b extends f.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new b(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:i}=t;return i.push(this),i.sort(b.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var w=n("Y/cZ"),x=n("quSY"),C=n("7o/Q"),E=n("WMd4"),S=n("mCNh"),T=n("KqfI"),O=n("SpAZ");function R(t){return!!t&&(t instanceof i.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var I=n("4I5i"),k=n("sVev"),D=n("9ppp"),A=n("pjAE"),P=n("Y6u4"),N=n("lJxs"),M=n("8Qeq"),L=n("DH7j"),j=n("z+Ro");function F(t,e,n){if(e){if(!Object(j.a)(e))return(...i)=>F(t,n)(...i).pipe(Object(N.a)(t=>Object(L.a)(t)?e(...t):e(t)));n=e}return function(...e){const r=this;let s;const o={context:r,subject:s,callbackFunc:t,scheduler:n};return new i.a(i=>{if(n)return n.schedule(V,0,{args:e,subscriber:i,params:o});if(!s){s=new c.a;const n=(...t)=>{s.next(t.length<=1?t[0]:t),s.complete()};try{t.apply(r,[...e,n])}catch(a){Object(M.a)(s)?s.error(a):console.warn(a)}}return s.subscribe(i)})}}function V(t){const{args:e,subscriber:n,params:i}=t,{callbackFunc:r,context:s,scheduler:o}=i;let{subject:a}=i;if(!a){a=i.subject=new c.a;const t=(...t)=>{this.add(o.schedule(G,0,{value:t.length<=1?t[0]:t,subject:a}))};try{r.apply(s,[...e,t])}catch(l){a.error(l)}}this.add(a.subscribe(n))}function G(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function U(t,e,n){if(e){if(!Object(j.a)(e))return(...i)=>U(t,n)(...i).pipe(Object(N.a)(t=>Object(L.a)(t)?e(...t):e(t)));n=e}return function(...e){const r={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new i.a(i=>{const{context:s}=r;let{subject:o}=r;if(n)return n.schedule(z,0,{params:r,subscriber:i,context:s});if(!o){o=r.subject=new c.a;const n=(...t)=>{const e=t.shift();e?o.error(e):(o.next(t.length<=1?t[0]:t),o.complete())};try{t.apply(s,[...e,n])}catch(a){Object(M.a)(o)?o.error(a):console.warn(a)}}return o.subscribe(i)})}}function z(t){const{params:e,subscriber:n,context:i}=t,{callbackFunc:r,args:s,scheduler:o}=e;let a=e.subject;if(!a){a=e.subject=new c.a;const t=(...t)=>{const e=t.shift();this.add(e?o.schedule(W,0,{err:e,subject:a}):o.schedule(H,0,{value:t.length<=1?t[0]:t,subject:a}))};try{r.apply(i,[...s,t])}catch(l){this.add(o.schedule(W,0,{err:l,subject:a}))}}this.add(a.subscribe(n))}function H(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function W(t){const{err:e,subject:n}=t;n.error(e)}var Y=n("itXk"),B=n("GyhO"),X=n("NXyV"),K=n("EY2u"),$=n("cp0P"),q=n("Cfvw"),Z=n("xgIS"),Q=n("n6bG");function J(t,e,n){return n?J(t,e).pipe(Object(N.a)(t=>Object(L.a)(t)?n(...t):n(t))):new i.a(n=>{const i=(...t)=>n.next(1===t.length?t[0]:t);let r;try{r=t(i)}catch(s){return void n.error(s)}if(Object(Q.a)(e))return()=>e(i,r)})}function tt(t,e,n,r,s){let o,a;return 1==arguments.length?(a=t.initialState,e=t.condition,n=t.iterate,o=t.resultSelector||O.a,s=t.scheduler):void 0===r||Object(j.a)(r)?(a=t,o=O.a,s=r):(a=t,o=r),new i.a(t=>{let i=a;if(s)return s.schedule(et,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:i});for(;;){if(e){let n;try{n=e(i)}catch(r){return void t.error(r)}if(!n){t.complete();break}}let s;try{s=o(i)}catch(r){return void t.error(r)}if(t.next(s),t.closed)break;try{i=n(i)}catch(r){return void t.error(r)}}})}function et(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(r){return void e.error(r)}else t.needIterate=!0;if(n){let i;try{i=n(t.state)}catch(r){return void e.error(r)}if(!i)return void e.complete();if(e.closed)return}let i;try{i=t.resultSelector(t.state)}catch(r){return void e.error(r)}return e.closed||(e.next(i),e.closed)?void 0:this.schedule(t)}function nt(t,e=K.a,n=K.a){return Object(X.a)(()=>t()?e:n)}var it=n("Y7HM");function rt(t=0,e=d.a){return(!Object(it.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new i.a(n=>(n.add(e.schedule(st,t,{subscriber:n,counter:0,period:t})),n))}function st(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var ot=n("VRyK");const at=new i.a(T.a);function lt(){return at}var ut=n("LRne");function ct(...t){if(0===t.length)return K.a;const[e,...n]=t;return 1===t.length&&Object(L.a)(e)?ct(...e):new i.a(t=>{const i=()=>t.add(ct(...n).subscribe(t));return Object(q.a)(e).subscribe({next(e){t.next(e)},error:i,complete:i})})}function ht(t,e){return new i.a(e?n=>{const i=Object.keys(t),r=new x.a;return r.add(e.schedule(dt,0,{keys:i,index:0,subscriber:n,subscription:r,obj:t})),r}:e=>{const n=Object.keys(t);for(let i=0;i<n.length&&!e.closed;i++){const r=n[i];t.hasOwnProperty(r)&&e.next([r,t[r]])}e.complete()})}function dt(t){const{keys:e,index:n,subscriber:i,subscription:r,obj:s}=t;if(!i.closed)if(n<e.length){const t=e[n];i.next([t,s[t]]),r.add(this.schedule({keys:e,index:n+1,subscriber:i,subscription:r,obj:s}))}else i.complete()}var pt=n("Nv8m");function ft(t=0,e,n){return new i.a(i=>{void 0===e&&(e=t,t=0);let r=0,s=t;if(n)return n.schedule(gt,0,{index:r,count:e,start:t,subscriber:i});for(;;){if(r++>=e){i.complete();break}if(i.next(s++),i.closed)break}})}function gt(t){const{start:e,index:n,count:i,subscriber:r}=t;n>=i?r.complete():(r.next(e),r.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var mt=n("z6cu"),_t=n("PqYM");function yt(t,e){return new i.a(n=>{let i,r;try{i=t()}catch(o){return void n.error(o)}try{r=e(i)}catch(o){return void n.error(o)}const s=(r?Object(q.a)(r):K.a).subscribe(n);return()=>{s.unsubscribe(),i&&i.unsubscribe()}})}var vt=n("1uah"),bt=n("2fFW");n.d(e,"Observable",function(){return i.a}),n.d(e,"ConnectableObservable",function(){return r.a}),n.d(e,"GroupedObservable",function(){return s.a}),n.d(e,"observable",function(){return o.a}),n.d(e,"Subject",function(){return a.a}),n.d(e,"BehaviorSubject",function(){return l.a}),n.d(e,"ReplaySubject",function(){return u.a}),n.d(e,"AsyncSubject",function(){return c.a}),n.d(e,"asapScheduler",function(){return h.a}),n.d(e,"asyncScheduler",function(){return d.a}),n.d(e,"queueScheduler",function(){return p.a}),n.d(e,"animationFrameScheduler",function(){return y}),n.d(e,"VirtualTimeScheduler",function(){return v}),n.d(e,"VirtualAction",function(){return b}),n.d(e,"Scheduler",function(){return w.a}),n.d(e,"Subscription",function(){return x.a}),n.d(e,"Subscriber",function(){return C.a}),n.d(e,"Notification",function(){return E.a}),n.d(e,"pipe",function(){return S.a}),n.d(e,"noop",function(){return T.a}),n.d(e,"identity",function(){return O.a}),n.d(e,"isObservable",function(){return R}),n.d(e,"ArgumentOutOfRangeError",function(){return I.a}),n.d(e,"EmptyError",function(){return k.a}),n.d(e,"ObjectUnsubscribedError",function(){return D.a}),n.d(e,"UnsubscriptionError",function(){return A.a}),n.d(e,"TimeoutError",function(){return P.a}),n.d(e,"bindCallback",function(){return F}),n.d(e,"bindNodeCallback",function(){return U}),n.d(e,"combineLatest",function(){return Y.b}),n.d(e,"concat",function(){return B.a}),n.d(e,"defer",function(){return X.a}),n.d(e,"empty",function(){return K.b}),n.d(e,"forkJoin",function(){return $.a}),n.d(e,"from",function(){return q.a}),n.d(e,"fromEvent",function(){return Z.a}),n.d(e,"fromEventPattern",function(){return J}),n.d(e,"generate",function(){return tt}),n.d(e,"iif",function(){return nt}),n.d(e,"interval",function(){return rt}),n.d(e,"merge",function(){return ot.a}),n.d(e,"never",function(){return lt}),n.d(e,"of",function(){return ut.a}),n.d(e,"onErrorResumeNext",function(){return ct}),n.d(e,"pairs",function(){return ht}),n.d(e,"race",function(){return pt.a}),n.d(e,"range",function(){return ft}),n.d(e,"throwError",function(){return mt.a}),n.d(e,"timer",function(){return _t.a}),n.d(e,"using",function(){return yt}),n.d(e,"zip",function(){return vt.b}),n.d(e,"EMPTY",function(){return K.a}),n.d(e,"NEVER",function(){return at}),n.d(e,"config",function(){return bt.a})},qgXg:function(t,e,n){"use strict";var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}n.d(e,"a",function(){return a});const a=new o(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG"),o=n("pjAE");let a=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:a,_unsubscribe:u,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=a?a.length:0;for(;n;)n.remove(this),n=++h<d&&a[h]||null;if(Object(s.a)(u))try{u.call(this)}catch(p){e=!0,t=p instanceof o.a?l(p.errors):[p]}if(Object(i.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(r.a)(n))try{n.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof o.a?t=t.concat(l(p.errors)):t.push(p)}}if(e)throw new o.a(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o.a?e.errors:e),[])}},sVev:function(t,e,n){"use strict";function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);const r=i},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r.a,this._tapError=r.a,this._tapComplete=r.a,this._tapError=n||r.a,this._tapComplete=i||r.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r.a,this._tapError=e.error||r.a,this._tapComplete=e.complete||r.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("oB13"),r=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>Object(r.a)()(Object(i.a)(o)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class o extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends i.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,l){return Object(s.a)(n)&&(l=n,n=void 0),l?a(t,e,n).pipe(Object(o.a)(t=>Object(r.a)(t)?l(...t):l(t))):new i.a(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("quSY"),s=n("ngJS");function o(t,e){return new i.a(e?n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i}:Object(s.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");const l="__parameters__";function u(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const c=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),p=u("SkipSelf");var f=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const _=m;function y(t){return t&&t.hasOwnProperty(v)?t[v]:null}const v=g({ngInjectableDef:g});function b(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const w=g({__forward_ref__:g});function x(t){return t.__forward_ref__=x,t.toString=function(){return b(this())},t}function C(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(w)&&e.__forward_ref__===x?e():t}function E(){const t="undefined"!=typeof globalThis&&globalThis,e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof global&&global;return t||i||e||n}const S=E();let T,O=void 0;function R(t){const e=O;return O=t,e}function I(t,e=f.Default){return(T||function(t,e=f.Default){if(void 0===O)throw new Error("inject() must be called from an injection context");return null===O?function(t,e,n){const i=y(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&f.Optional)return null;throw new Error(`Injector: NOT_FOUND [${b(t)}]`)}(t,0,e):O.get(t,e&f.Optional?null:void 0,e)})(t,e)}const k=I;class D{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=m({providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const A="__source",P=new Object,N=new D("INJECTOR",-1);class M{get(t,e=P){if(e===P){const e=new Error(`NullInjectorError: No provider for ${b(t)}!`);throw e.name="NullInjectorError",e}return e}}let L=(()=>{class t{static create(t,e){return Array.isArray(t)?new B(t,e):new B(t.providers,t.parent,t.name||null)}}return t.THROW_IF_NOT_FOUND=P,t.NULL=new M,t.ngInjectableDef=m({providedIn:"any",factory:()=>I(N)}),t.__NG_ELEMENT_ID__=-1,t})();const j=function(t){return t},F=[],V=j,G=function(){return Array.prototype.slice.call(arguments)},U=g({provide:String,useValue:g}),z="ngTokenPath",H="ngTempTokenPath",W=/\n/gm,Y="\u0275";class B{constructor(t,e=L.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(L,{token:L,fn:j,deps:F,value:this,useNew:!1}),i.set(N,{token:N,fn:j,deps:F,value:this,useNew:!1}),function t(e,n){if(n)if((n=C(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw $("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw $("Unexpected provider",n);{let t=C(n.provide);const i=function(t){const e=function(t){let e=F;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=C(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof h||n==h?i|=1:n instanceof p||n==p?i&=-3:n instanceof d||n==d?i&=-5:r=n instanceof c?n.token:C(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:C(t.useExisting),options:6}];else if(!(n||U in t))throw $("'deps' required",t);return e}(t);let n=j,i=F,r=!1,s=C(t.provide);if(U in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=C(t.useClass);else{if("function"!=typeof s)throw $("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=s}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==G)throw X(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:G,value:F});i.deps.push({token:t=n,options:6})}const r=e.get(t);if(r&&r.fn==G)throw X(t);e.set(t,i)}}}(i,t)}get(t,e,n=f.Default){const i=this._records.get(t);try{return function t(e,n,i,r,s,o){try{return function(e,n,i,r,s,o){let a;if(!n||o&f.SkipSelf)o&f.Self||(a=r.get(e,s,f.Default));else{if((a=n.value)==V)throw Error(Y+"Circular dependency");if(a===F){n.value=V;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=F;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?i.get(n.token):void 0;u.push(t(n.token,o,i,o||4&s?r:L.NULL,1&s?null:L.THROW_IF_NOT_FOUND,f.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,i,r,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[H]=a[H]||[]).unshift(e),n&&n.value==V&&(n.value=F),a}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){const r=t[H];throw e[A]&&r.unshift(e[A]),t.message=K("\n"+t.message,r,"StaticInjectorError",i),t[z]=r,t[H]=null,t}(r,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(b(n))),`StaticInjector[${t.join(", ")}]`}}function X(t){return $("Cannot mix multi providers and regular providers",t)}function K(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Y?t.substr(2):t;let r=b(e);if(e instanceof Array)r=e.map(b).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):b(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(W,"\n  ")}`}function $(t,e){return new Error(K(t,e,"StaticInjectorError"))}const q="ngDebugContext",Z="ngOriginalError",Q="ngErrorLogger",J=new D("AnalyzeForEntryComponents"),tt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),et=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(S))();function nt(t){return t[q]}function it(t){return t[Z]}function rt(t,...e){t.error(...e)}class st{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Q]||rt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?nt(t)?nt(t):this._findContext(it(t)):null}_findOriginalError(t){let e=it(t);for(;e&&it(e);)e=it(e);return e}}let ot=!0,at=!1;function lt(){return at=!0,ot}class ut{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ct=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ht=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function dt(t){return(t=String(t)).match(ct)||t.match(ht)?t:(lt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function pt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ft(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const gt=pt("area,br,col,hr,img,wbr"),mt=pt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_t=pt("rp,rt"),yt=ft(_t,mt),vt=ft(gt,ft(mt,pt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ft(_t,pt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yt),bt=pt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wt=pt("srcset"),xt=ft(bt,wt,pt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ct=pt("script,style,template");class Et{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!vt.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ct.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!xt.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;bt[s]&&(o=dt(o)),wt[s]&&(i=o,o=(i=String(i)).split(",").map(t=>dt(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ot(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();vt.hasOwnProperty(e)&&!gt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ot(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const St=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tt=/([^\#-~ |!])/g;function Ot(t){return t.replace(/&/g,"&amp;").replace(St,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Tt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rt;function It(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const kt=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Dt{}const At=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Pt=/^url\(([^)]+)\)$/,Nt=/([A-Z])/g;function Mt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Lt(t){return!!t&&"function"==typeof t.then}function jt(t){return!!t&&"function"==typeof t.subscribe}let Ft=null;function Vt(){if(!Ft){const t=S.Symbol;if(t&&t.iterator)Ft=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ft=n)}}}return Ft}function Gt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ut(t,e){const n=Ht(t),i=Ht(e);if(n&&i)return function(t,e,n){const i=t[Vt()](),r=e[Vt()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ut);{const r=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!s)||Gt(t,e)}}class zt{constructor(t){this.wrapped=t}static wrap(t){return new zt(t)}static unwrap(t){return zt.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof zt}}function Ht(t){return!!Wt(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vt()in t)}function Wt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}const Bt=new D("The presence of this token marks an injector as being the root injector.");class Xt{}class Kt{}function $t(t){const e=Error(`No component factory found for ${b(t)}. Did you add it to @NgModule.entryComponents?`);return e[qt]=t,e}const qt="ngComponent";class Zt{resolveComponentFactory(t){throw $t(t)}}let Qt=(()=>{class t{}return t.NULL=new Zt,t})();class Jt{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw $t(t);return new te(e,this._ngModule)}}class te extends Kt{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}class ee{}class ne{}function ie(...t){}let re=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>se(t),t})();const se=ie;class oe{}class ae{}const le=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ue=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ce(),t})();const ce=ie;class he{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const de=new he("8.0.3");class pe{constructor(){}supports(t){return Ht(t)}create(t){return new ge(t)}}const fe=(t,e)=>e;class ge{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<ve(n,i,r)?e:n,o=ve(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ht(t))throw new Error(`Error trying to diff '${b(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=this._trackByFn(e,n=t[e]),null!==r&&Gt(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Gt(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Vt()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Gt(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Gt(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Gt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Gt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new me(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ye),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ye),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class me{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _e{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Gt(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ye{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new _e,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ve(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class be{constructor(){}supports(t){return t instanceof Map||Wt(t)}create(){return new we}}class we{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Wt(t)))throw new Error(`Error trying to diff '${b(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new xe(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Gt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ce=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=m({providedIn:"root",factory:()=>new t([new pe])}),t})(),Ee=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=m({providedIn:"root",factory:()=>new t([new be])}),t})(),Se=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Te(),t})();const Te=(...t)=>{},Oe=[new be],Re=new Ce([new pe]),Ie=new Ee(Oe);let ke=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>De(t,re),t})();const De=ie;let Ae=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pe(t,re),t})();const Pe=ie;function Ne(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Me(n,e),n}(r,t)}function Me(t,e){t[q]=e,t[Q]=e.logError.bind(e)}function Le(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function je(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Fe(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ve(t,e){return t.nodes[e]}function Ge(t,e){return t.nodes[e]}function Ue(t,e){return t.nodes[e]}function ze(t,e){return t.nodes[e]}function He(t,e){return t.nodes[e]}const We={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ye=()=>{},Be=new Map;function Xe(t){let e=Be.get(t);return e||(e=b(t)+"_"+Be.size,Be.set(t,e)),e}const Ke="$$undefined",$e="$$empty";function qe(t){return{id:Ke,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Ze=0;function Qe(t,e,n,i){return!(!(2&t.state)&&Gt(t.oldValues[e.bindingIndex+n],i))}function Je(t,e,n,i){return!!Qe(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function tn(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ut(r,i)){const s=e.bindings[n].name;throw Ne(We.createDebugContext(t,e.nodeIndex),`${s}: ${r}`,`${s}: ${i}`,0!=(1&t.state))}}function en(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function nn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function rn(t,e,n,i){try{return en(33554432&t.def.nodes[e].flags?Ge(t,e).componentView:t),We.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function sn(t){return t.parent?Ge(t.parent,t.parentNodeDef.nodeIndex):null}function on(t){return t.parent?t.parentNodeDef.parent:null}function an(t,e){switch(201347067&e.flags){case 1:return Ge(t,e.nodeIndex).renderElement;case 2:return Ve(t,e.nodeIndex).renderText}}function ln(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function un(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function cn(t){return 1<<t%32}function hn(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=cn(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function dn(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,A,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Xe(n)}})}function pn(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===tt.Native?Ge(t,n.renderParent.nodeIndex).renderElement:void 0:e}const fn=new WeakMap;function gn(t){let e=fn.get(t);return e||((e=t(()=>Ye)).factory=t,fn.set(t,e)),e}function mn(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(an(t,t.def.lastRenderRootNode))),_n(t,e,0,t.def.nodes.length-1,n,i,r)}function _n(t,e,n,i,r,s,o){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&vn(t,n,e,r,s,o),a+=n.childCount}}function yn(t,e,n,i,r,s){let o=t;for(;o&&!ln(o);)o=o.parent;const a=o.parent,l=on(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&vn(a,t,n,i,r,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)bn(t,o[e],n,i,r,s)}}function vn(t,e,n,i,r,s){if(8&e.flags)yn(t,e.ngContent.index,n,i,r,s);else{const o=an(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&bn(t,o,n,i,r,s),32&e.bindingFlags&&bn(Ge(t,e.nodeIndex).componentView,o,n,i,r,s)):bn(t,o,n,i,r,s),16777216&e.flags){const o=Ge(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)mn(o[t],n,i,r,s)}1&e.flags&&!e.element.name&&_n(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,s)}}function bn(t,e,n,i,r,s){const o=t.renderer;switch(n){case 1:o.appendChild(i,e);break;case 2:o.insertBefore(i,e,r);break;case 3:o.removeChild(i,e);break;case 0:s.push(e)}}const wn=/^:([^:]+):(.+)$/;function xn(t){if(":"===t[0]){const e=t.match(wn);return[e[1],e[2]]}return["",t]}function Cn(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function En(t){return null!=t?t.toString():""}const Sn=new Object,Tn=Xe(L),On=Xe(N),Rn=Xe(ee);function In(t,e,n,i){return n=C(n),{index:-1,deps:dn(i,b(e)),flags:t,token:e,value:n}}function kn(t,e,n=L.THROW_IF_NOT_FOUND){const i=R(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Tn:case On:case Rn:return t}const a=t._def.providersByKey[o];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Dn(t,a)),e===Sn?void 0:e}if((l=y(e.token))&&(r=t,null!=(s=l).providedIn&&(function(t,e){return t._def.modules.indexOf(s.providedIn)>-1}(r)||"root"===s.providedIn&&r._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Sn,t._providers[n]=Dn(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{R(i)}var r,s}function Dn(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(kn(t,n[0]));case 2:return new e(kn(t,n[0]),kn(t,n[1]));case 3:return new e(kn(t,n[0]),kn(t,n[1]),kn(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=kn(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(kn(t,n[0]));case 2:return e(kn(t,n[0]),kn(t,n[1]));case 3:return e(kn(t,n[0]),kn(t,n[1]),kn(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=kn(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=kn(t,e.deps[0]);break;case 256:n=e.value}return n===Sn||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Sn:n}function An(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Ln(n,e),We.dirtyParentQueries(i),Nn(i),i}function Pn(t,e,n){const i=e?an(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),s=n.renderer.nextSibling(i);mn(n,2,r,s,void 0)}function Nn(t){mn(t,3,null,null,void 0)}function Mn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ln(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const jn=new Object;function Fn(t,e,n,i,r,s){return new Vn(t,e,n,i,r,s)}class Vn extends Kt{constructor(t,e,n,i,r,s){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=gn(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=We.createRootView(t,e||[],n,r,i,jn),a=Ue(o,s).instance;return n&&o.renderer.setAttribute(Ge(o,0).renderElement,"ng-version",de.full),new Gn(o,new Wn(o),a)}}class Gn extends Xt{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new re(Ge(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Kn(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Un(t,e,n){return new zn(t,e,n)}class zn{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new re(this._data.renderElement)}get injector(){return new Kn(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=on(t),t=t.parent;return t?new Kn(t,e):new Kn(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=An(this._data,t);We.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Wn(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;r||t instanceof te||(r=s.get(ee));const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,Mn(r,n,i),function(t,e){const n=sn(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let i=n.parent;for(;i;)i.childFlags|=4,i=i.parent}(0,e.parentNodeDef)}(e,i),We.dirtyParentQueries(i),Pn(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,i){const r=t.viewContainer._embeddedViews,s=r[n];Ln(r,n),null==i&&(i=r.length),Mn(r,i,s),We.dirtyParentQueries(s),Nn(s),Pn(t,i>0?r[i-1]:null,s)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=An(this._data,t);e&&We.destroyView(e)}detach(t){const e=An(this._data,t);return e?new Wn(e):null}}function Hn(t){return new Wn(t)}class Wn{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return mn(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){en(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{We.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){We.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),We.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Nn(this._view),We.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Yn(t,e){return new Bn(t,e)}class Bn extends ke{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Wn(We.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new re(Ge(this._parentView,this._def.nodeIndex).renderElement)}}function Xn(t,e){return new Kn(t,e)}class Kn{constructor(t,e){this.view=t,this.elDef=e}get(t,e=L.THROW_IF_NOT_FOUND){return We.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Xe(t)},e)}}function $n(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Ge(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Ve(t,n.nodeIndex).renderText;if(20240&n.flags)return Ue(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function qn(t){return new Zn(t.renderer)}class Zn{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=xn(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=xn(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Qn(t,e,n,i){return new Jn(t,e,n,i)}class Jn{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Dn(t,r))}}(this)}get(t,e=L.THROW_IF_NOT_FOUND,n=f.Default){let i=0;return n&f.SkipSelf?i|=1:n&f.Self&&(i|=4),kn(this,{token:t,tokenKey:Xe(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${b(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==Sn){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const ti=Xe(oe),ei=Xe(ue),ni=Xe(re),ii=Xe(Ae),ri=Xe(ke),si=Xe(Se),oi=Xe(L),ai=Xe(N);function li(t,e,n,i,r,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return ci(t,e|=16384,n,i,r,r,s,l,u)}function ui(t,e,n,i,r){return ci(-1,t,e,0,n,i,r)}function ci(t,e,n,i,r,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=hn(n);l||(l=[]),a||(a=[]),s=C(s);const d=dn(o,b(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Cn(a),outputs:l,element:null,provider:{token:r,value:s,deps:d},text:null,query:null,ngContent:null}}function hi(t,e){return gi(t,e)}function di(t,e){let n=t;for(;n.parent&&!ln(n);)n=n.parent;return mi(n.parent,on(n),!0,e.provider.value,e.provider.deps)}function pi(t,e){const n=mi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],s=n[r.propName];if(!jt(s))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(fi(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function fi(t,e,n){return i=>rn(t,e,n,i)}function gi(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return mi(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(yi(t,e,n,r[0]));case 2:return i(yi(t,e,n,r[0]),yi(t,e,n,r[1]));case 3:return i(yi(t,e,n,r[0]),yi(t,e,n,r[1]),yi(t,e,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=yi(t,e,n,r[i]);return i(...o)}}(t,e.parent,n,i.value,i.deps);case 2048:return yi(t,e.parent,n,i.deps[0]);case 256:return i.value}}function mi(t,e,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(yi(t,e,n,r[0]));case 2:return new i(yi(t,e,n,r[0]),yi(t,e,n,r[1]));case 3:return new i(yi(t,e,n,r[0]),yi(t,e,n,r[1]),yi(t,e,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=yi(t,e,n,r[i]);return new i(...o)}}const _i={};function yi(t,e,n,i,r=L.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=t;2&i.flags&&(r=null);const o=i.tokenKey;o===si&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case ti:return qn(vi(a,e,n));case ei:return vi(a,e,n).renderer;case ni:return new re(Ge(a,e.nodeIndex).renderElement);case ii:return Ge(a,e.nodeIndex).viewContainer;case ri:if(e.element.template)return Ge(a,e.nodeIndex).template;break;case si:return Hn(vi(a,e,n));case oi:case ai:return Xn(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Ue(a,t.nodeIndex);return e||(e={instance:gi(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=ln(a),e=on(a),a=a.parent,4&i.flags&&(a=null)}const l=s.root.injector.get(i.token,_i);return l!==_i||r===_i?l:s.root.ngModule.injector.get(i.token,r)}function vi(t,e,n){let i;if(n)i=Ge(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ln(i);)i=i.parent;return i}function bi(t,e,n,i,r,s){if(32768&n.flags){const e=Ge(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};const e=zt.unwrap(t.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new Yt(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,s}function wi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&e&&Ci(t,r,s.flags&e,i++),0==(s.childFlags&e)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(i=xi(t,o,e,i)),o=o.parent}}function xi(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&Ci(t,r,e.flags&n,i++),r+=e.childCount}return i}function Ci(t,e,n,i){const r=Ue(t,e);if(!r)return;const s=r.instance;s&&(We.setCurrentNode(t,e),1048576&n&&Fe(t,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Fe(t,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const Ei=new D("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>et});class Si extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,s=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return t instanceof r.a&&t.add(a),a}}class Ti{constructor(){this.dirty=!0,this._results=[],this.changes=new Si,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[Vt()](){return this._results[Vt()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Oi{}const Ri=new D("Application Initializer");let Ii=(()=>(class{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Lt(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}))();const ki=new D("AppId");function Di(){return`${Ai()}${Ai()}${Ai()}`}function Ai(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pi=new D("Platform Initializer"),Ni=new D("Platform ID"),Mi=new D("appBootstrapListener");let Li=(()=>(class{log(t){console.log(t)}warn(t){console.warn(t)}}))();function ji(){throw new Error("Runtime compiler is not loaded")}const Fi=ji,Vi=ji,Gi=ji,Ui=ji;let zi,Hi,Wi=(()=>(class{constructor(){this.compileModuleSync=Fi,this.compileModuleAsync=Vi,this.compileModuleAndAllComponentsSync=Gi,this.compileModuleAndAllComponentsAsync=Ui}clearCache(){}clearCacheFor(t){}getModuleId(t){}}))();class Yi{}function Bi(){const t=S.wtf;return!(!t||!(zi=t.trace)||(Hi=zi.events,0))}const Xi=Bi(),Ki=Xi?function(t,e=null){return Hi.createScope(t,e)}:(t,e)=>(function(t,e){return null}),$i=Xi?function(t,e){return zi.leaveScope(t,e),e}:(t,e)=>e,qi=(()=>Promise.resolve(0))();function Zi(t){"undefined"==typeof Zone?qi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Qi{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,s,o)=>{try{return nr(e),t.invokeTask(i,r,s,o)}finally{ir(e)}},onInvoke:(t,n,i,r,s,o,a)=>{try{return nr(e),t.invoke(i,r,s,o,a)}finally{ir(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,er(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,tr,Ji,Ji);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ji(){}const tr={};function er(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ir(t){t._nesting--,er(t)}class rr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si,this.onMicrotaskEmpty=new Si,this.onStable=new Si,this.onError=new Si}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}let sr=(()=>(class{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),Zi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}))(),or=(()=>{class t{constructor(){this._applications=new Map,ur.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ur.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class ar{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let lr,ur=new ar,cr=function(t){return t instanceof te};const hr=new D("AllowMultipleToken");class dr{constructor(t,e){this.name=t,this.token=e}}function pr(t,e,n=[]){const i=`Platform: ${e}`,r=new D(i);return(e=[])=>{let s=fr();if(!s||s.injector.get(hr,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(lr&&!lr.destroyed&&!lr.injector.get(hr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lr=t.get(gr);const e=t.get(Pi,null);e&&e.forEach(t=>t())}(L.create({providers:t,name:i}))}return function(t){const e=fr();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function fr(){return lr&&!lr.destroyed?lr:null}let gr=(()=>(class{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(r=e?e.ngZone:void 0)?new rr:("zone.js"===r?void 0:r)||new Qi({enableLongStackTrace:lt()}),i=[{provide:Qi,useValue:n}];var r;return n.run(()=>{const e=L.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(st,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>yr(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Lt(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Ii);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=mr({},e);return function(t,e,n){return t.get(Yi).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(_r);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${b(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function mr(t,e){return Array.isArray(e)?e.reduce(mr,t):Object.assign({},t,e)}let _r=(()=>{class t{constructor(t,e,n,i,r,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=lt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),Zi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Kt?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=cr(n)?null:this._injector.get(ee),r=n.create(L.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(sr,null);return s&&r.injector.get(or).registerApplication(r.location.nativeElement,s),this._loadComponent(r),lt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,$i(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;yr(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),yr(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ki("ApplicationRef#tick()"),t})();function yr(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vr{}const br={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let wr=(()=>(class{constructor(t,e){this._compiler=t,this._config=e||br}load(t){return this._compiler instanceof Wi?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>xr(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>xr(t,e,i))}}))();function xr(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Cr{constructor(t,e){this.name=t,this.callback=e}}class Er{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Sr&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Sr extends Er{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof Sr&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof Sr&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof Sr&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Sr)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Tr=new Map,Or=function(t){return Tr.get(t)||null};function Rr(t){Tr.set(t.nativeNode,t)}const Ir=pr(null,"core",[{provide:Ni,useValue:"unknown"},{provide:gr,deps:[L]},{provide:or,deps:[]},{provide:Li,deps:[]}]),kr=new D("LocaleId");function Dr(){return Re}function Ar(){return Ie}function Pr(t){return t||"en-US"}function Nr(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}let Mr=(()=>(class{constructor(t){}}))();function Lr(t,e,n,i,r,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=hn(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?gn(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Ye},provider:null,text:null,query:null,ngContent:null}}function jr(t,e,n,i,r,s,o=[],a,l,u,c,h){u||(u=Ye);const{matchedQueries:d,references:p,matchedQueryIds:f}=hn(n);let g=null,m=null;s&&([g,m]=xn(s)),a=a||[];const _=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[i,r]=xn(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}_[b]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e]=l[b];y[b]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,i]=xn(t);return[n,i,e]});return h=function(t){if(t&&t.id===Ke){const e=null!=t.encapsulation&&t.encapsulation!==tt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Ze++}`:$e}return t&&t.id===$e&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:_,bindingFlags:Cn(_),outputs:y,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Ye},provider:null,text:null,query:null,ngContent:null}}function Fr(t,e,n){const i=n.element,r=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=pn(t,e,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===tt.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];s.setAttribute(o,e,n,t)}return o}function Vr(t,e,n,i){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Gr(t,n.nodeIndex,(s=a.eventName,(r=a.target)?`${r}:${s}`:s));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||i,a.eventName,l);t.disposables[n.outputIndex+o]=h}var r,s}function Gr(t,e,n){return i=>rn(t,e,n,i)}function Ur(t,e,n,i){if(!Je(t,e,n,i))return!1;const r=e.bindings[n],s=Ge(t,e.nodeIndex),o=s.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,o,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,o,a,i);break;case 4:!function(t,e,n,i,r){let s=t.root.sanitizer.sanitize(kt.STYLE,r);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(t,r,o,a,i);break;case 8:!function(t,e,n,i,r){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,r):r;t.renderer.setProperty(n,i,o)}(33554432&e.flags&&32&r.flags?s.componentView:t,r,o,a,i)}return!0}function zr(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:cn(e),bindings:i},ngContent:null}}function Hr(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&un(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&He(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&He(t,n).setDirty(),n+=e.childCount}}function Wr(t,e){const n=He(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=Yr(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=Ue(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Yr(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}i[t.propName]=e}o&&n.notifyOnChanges()}function Yr(t,e,n,i,r){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[i.id];if(null!=n&&r.push(Br(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Ge(t,s);if((e.childMatchedQueries&i.filterId)===i.filterId&&(Yr(t,s+1,s+e.childCount,i,r),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=sn(s);o&&o===n&&Yr(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Yr(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(s+=e.childCount)}return r}function Br(t,e,n){if(null!=n)switch(n){case 1:return Ge(t,e.nodeIndex).renderElement;case 0:return new re(Ge(t,e.nodeIndex).renderElement);case 2:return Ge(t,e.nodeIndex).template;case 3:return Ge(t,e.nodeIndex).viewContainer;case 4:return Ue(t,e.nodeIndex).instance}}function Xr(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Kr(t,e,n){const i=pn(t,e,n);i&&yn(t,n.ngContent.index,1,i,null,void 0)}function $r(t,e){const n=Object.keys(e),i=n.length,r=new Array(i);for(let s=0;s<i;s++){const t=n[s];r[e[t]]=t}return function(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const t=n[r];i[r]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Cn(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function qr(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Zr(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const s=pn(t,e,n);return s&&r.appendChild(s,i),{renderText:i}}function Qr(t,e){return(null!=t?t.toString():"")+e.suffix}function Jr(t,e,n,i){let r=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=r,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(es(u,t,e.length),r+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Xe(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Xe(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,ts(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&ts(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Ye,updateRenderer:i||Ye,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:p}}function ts(t){return 0!=(1&t.flags)&&null===t.element.name}function es(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ns(t,e,n,i){const r=ss(t.root,t.renderer,t,e,n);return os(r,t.component,i),as(r),r}function is(t,e,n){const i=ss(t,t.renderer,null,null,e);return os(i,n,n),as(i),i}function rs(t,e,n,i){const r=e.element.componentRendererType;let s;return s=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,ss(t.root,s,t,e.element.componentProvider,n)}function ss(t,e,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function os(t,e,n){t.component=e,t.context=n}function as(t){let e;ln(t)&&(e=Ge(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];let o;switch(We.setCurrentNode(t,r),201347067&s.flags){case 1:const n=Fr(t,e,s);let a=void 0;if(33554432&s.flags){const e=gn(s.element.componentView);a=We.createComponentView(t,s,e,n)}Vr(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Yn(t,s):void 0},16777216&s.flags&&(o.viewContainer=Un(t,s,o));break;case 2:o=Zr(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=i[r])||4096&s.flags||(o={instance:hi(t,s)});break;case 16:o={instance:di(t,s)};break;case 16384:(o=i[r])||(o={instance:pi(t,s)}),32768&s.flags&&os(Ge(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ti;break;case 8:Kr(t,e,s),o=void 0}i[r]=o}ms(t,gs.CreateViewNodes),bs(t,201326592,268435456,0)}function ls(t){hs(t),We.updateDirectives(t,1),_s(t,gs.CheckNoChanges),We.updateRenderer(t,1),ms(t,gs.CheckNoChanges),t.state&=-97}function us(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,je(t,0,256),hs(t),We.updateDirectives(t,0),_s(t,gs.CheckAndUpdate),bs(t,67108864,536870912,0);let e=je(t,256,512);wi(t,2097152|(e?1048576:0)),We.updateRenderer(t,0),ms(t,gs.CheckAndUpdate),bs(t,134217728,536870912,0),wi(t,8388608|((e=je(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,je(t,768,1024)}function cs(t,e,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Ur(t,e,0,n)&&(p=!0),d>1&&Ur(t,e,1,i)&&(p=!0),d>2&&Ur(t,e,2,r)&&(p=!0),d>3&&Ur(t,e,3,s)&&(p=!0),d>4&&Ur(t,e,4,o)&&(p=!0),d>5&&Ur(t,e,5,a)&&(p=!0),d>6&&Ur(t,e,6,l)&&(p=!0),d>7&&Ur(t,e,7,u)&&(p=!0),d>8&&Ur(t,e,8,c)&&(p=!0),d>9&&Ur(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,s,o,a,l,u,c,h);case 2:return function(t,e,n,i,r,s,o,a,l,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Je(t,e,0,n)&&(d=!0),f>1&&Je(t,e,1,i)&&(d=!0),f>2&&Je(t,e,2,r)&&(d=!0),f>3&&Je(t,e,3,s)&&(d=!0),f>4&&Je(t,e,4,o)&&(d=!0),f>5&&Je(t,e,5,a)&&(d=!0),f>6&&Je(t,e,6,l)&&(d=!0),f>7&&Je(t,e,7,u)&&(d=!0),f>8&&Je(t,e,8,c)&&(d=!0),f>9&&Je(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Qr(n,p[0])),f>1&&(d+=Qr(i,p[1])),f>2&&(d+=Qr(r,p[2])),f>3&&(d+=Qr(s,p[3])),f>4&&(d+=Qr(o,p[4])),f>5&&(d+=Qr(a,p[5])),f>6&&(d+=Qr(l,p[6])),f>7&&(d+=Qr(u,p[7])),f>8&&(d+=Qr(c,p[8])),f>9&&(d+=Qr(h,p[9]));const g=Ve(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,i,r,s,o,a,l,u,c,h);case 16384:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=Ue(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Qe(t,e,0,n)&&(f=!0,g=bi(t,d,e,0,n,g)),m>1&&Qe(t,e,1,i)&&(f=!0,g=bi(t,d,e,1,i,g)),m>2&&Qe(t,e,2,r)&&(f=!0,g=bi(t,d,e,2,r,g)),m>3&&Qe(t,e,3,s)&&(f=!0,g=bi(t,d,e,3,s,g)),m>4&&Qe(t,e,4,o)&&(f=!0,g=bi(t,d,e,4,o,g)),m>5&&Qe(t,e,5,a)&&(f=!0,g=bi(t,d,e,5,a,g)),m>6&&Qe(t,e,6,l)&&(f=!0,g=bi(t,d,e,6,l,g)),m>7&&Qe(t,e,7,u)&&(f=!0,g=bi(t,d,e,7,u,g)),m>8&&Qe(t,e,8,c)&&(f=!0,g=bi(t,d,e,8,c,g)),m>9&&Qe(t,e,9,h)&&(f=!0,g=bi(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&Fe(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Je(t,e,0,n)&&(p=!0),f>1&&Je(t,e,1,i)&&(p=!0),f>2&&Je(t,e,2,r)&&(p=!0),f>3&&Je(t,e,3,s)&&(p=!0),f>4&&Je(t,e,4,o)&&(p=!0),f>5&&Je(t,e,5,a)&&(p=!0),f>6&&Je(t,e,6,l)&&(p=!0),f>7&&Je(t,e,7,u)&&(p=!0),f>8&&Je(t,e,8,c)&&(p=!0),f>9&&Je(t,e,9,h)&&(p=!0),p){const p=ze(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=i),f>2&&(g[2]=r),f>3&&(g[3]=s),f>4&&(g[4]=o),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=i),f>2&&(g[d[2].name]=r),f>3&&(g[d[3].name]=s),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(i);break;case 3:g=t.transform(i,r);break;case 4:g=t.transform(i,r,s);break;case 5:g=t.transform(i,r,s,o);break;case 6:g=t.transform(i,r,s,o,a);break;case 7:g=t.transform(i,r,s,o,a,l);break;case 8:g=t.transform(i,r,s,o,a,l,u);break;case 9:g=t.transform(i,r,s,o,a,l,u,c);break;case 10:g=t.transform(i,r,s,o,a,l,u,c,h)}}p.value=g}return p}(t,e,n,i,r,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)Ur(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)Je(t,e,s,n[s])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Qr(n[t],i[t]);r=e.text.prefix+r;const s=Ve(t,e.nodeIndex).renderText;t.renderer.setValue(s,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=Ue(t,e.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Qe(t,e,a,n[a])&&(s=!0,o=bi(t,i,e,a,n[a],o));return o&&r.ngOnChanges(o),65536&e.flags&&Fe(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)Je(t,e,s,n[s])&&(r=!0);if(r){const r=ze(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[i[e].name]=n[e];break;case 128:const t=n[0],r=n.slice(1);s=t.transform(...r)}r.value=s}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function hs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=Ge(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,nn(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function ds(t,e,n,i,r,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&tn(t,e,0,n),d>1&&tn(t,e,1,i),d>2&&tn(t,e,2,r),d>3&&tn(t,e,3,s),d>4&&tn(t,e,4,o),d>5&&tn(t,e,5,a),d>6&&tn(t,e,6,l),d>7&&tn(t,e,7,u),d>8&&tn(t,e,8,c),d>9&&tn(t,e,9,h)}(t,e,i,r,s,o,a,l,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)tn(t,e,i,n[i])}(t,e,i),!1}function ps(t,e){if(He(t,e.nodeIndex).dirty)throw Ne(We.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function fs(t){if(!(128&t.state)){if(_s(t,gs.Destroy),ms(t,gs.Destroy),wi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=sn(t);if(e){const n=e.template._projectedViews;n&&(Ln(n,n.indexOf(t)),We.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Ge(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Ve(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&He(t,n).destroy()}}(t),ln(t)&&t.renderer.destroy(),t.state|=128}}const gs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ms(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?ys(Ge(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function _s(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=Ge(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ys(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ys(t,e){const n=t.state;switch(e){case gs.CheckNoChanges:0==(128&n)&&(12==(12&n)?ls(t):64&n&&vs(t,gs.CheckNoChangesProjectedViews));break;case gs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ls(t):64&n&&vs(t,e));break;case gs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?us(t):64&n&&vs(t,gs.CheckAndUpdateProjectedViews));break;case gs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?us(t):64&n&&vs(t,e));break;case gs.Destroy:fs(t);break;case gs.CreateViewNodes:as(t)}}function vs(t,e){_s(t,e),ms(t,e)}function bs(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let s=0;s<r;s++){const r=t.def.nodes[s];if(r.flags&e&&r.flags&n)switch(We.setCurrentNode(t,r.nodeIndex),i){case 0:Wr(t,r);break;case 1:ps(t,r)}r.childFlags&e&&r.childFlags&n||(s+=r.childCount)}}let ws=!1;function xs(t,e,n,i,r,s){const o=r.injector.get(ae);return is(Es(t,r,o,e,n),i,s)}function Cs(t,e,n,i,r,s){const o=r.injector.get(ae),a=Es(t,r,new no(o),e,n),l=Ns(i);return to(Gs.create,is,null,[a,l,s])}function Es(t,e,n,i,r){const s=e.injector.get(Dt),o=e.injector.get(st),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function Ss(t,e,n,i){const r=Ns(n);return to(Gs.create,ns,null,[t,e,r,i])}function Ts(t,e,n,i){return n=ks.get(e.element.componentProvider.provider.token)||Ns(n),to(Gs.create,rs,null,[t,e,n,i])}function Os(t,e,n,i){return Qn(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Rs.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=Rs.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{Is.forEach((i,r)=>{y(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=Rs.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=dn(r.deps),i.value=r.value)}if(Is.size>0){let e=new Set(t.modules);Is.forEach((i,r)=>{if(e.has(y(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:dn(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Xe(r)]=e}})}}(t=t.factory(()=>Ye)),t):t}(i))}const Rs=new Map,Is=new Map,ks=new Map;function Ds(t){let e;Rs.set(t.token,t),"function"==typeof t.token&&(e=y(t.token))&&"function"==typeof e.providedIn&&Is.set(t.token,t)}function As(t,e){const n=gn(e.viewDefFactory),i=gn(n.nodes[0].element.componentView);ks.set(t,i)}function Ps(){Rs.clear(),Is.clear(),ks.clear()}function Ns(t){if(0===Rs.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Rs.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Ye);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Rs.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=dn(n.deps),t.value=n.value)}}}}function Ms(t,e,n,i,r,s,o,a,l,u,c,h,d){const p=t.def.nodes[e];return cs(t,p,n,i,r,s,o,a,l,u,c,h,d),224&p.flags?ze(t,e).value:void 0}function Ls(t,e,n,i,r,s,o,a,l,u,c,h,d){const p=t.def.nodes[e];return ds(t,p,n,i,r,s,o,a,l,u,c,h,d),224&p.flags?ze(t,e).value:void 0}function js(t){return to(Gs.detectChanges,us,null,[t])}function Fs(t){return to(Gs.checkNoChanges,ls,null,[t])}function Vs(t){return to(Gs.destroy,fs,null,[t])}const Gs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Us,zs,Hs;function Ws(t,e){zs=t,Hs=e}function Ys(t,e,n,i){return Ws(t,e),to(Gs.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Bs(t,e){if(128&t.state)throw Le(Gs[Us]);return Ws(t,qs(t,0)),t.def.updateDirectives(function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ks(t,s,i,r):$s(t,s,i,r),16384&s.flags&&Ws(t,qs(t,n)),224&s.flags?ze(t,s.nodeIndex).value:void 0},t)}function Xs(t,e){if(128&t.state)throw Le(Gs[Us]);return Ws(t,Zs(t,0)),t.def.updateRenderer(function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Ks(t,s,i,r):$s(t,s,i,r),3&s.flags&&Ws(t,Zs(t,n)),224&s.flags?ze(t,s.nodeIndex).value:void 0},t)}function Ks(t,e,n,i){if(cs(t,e,n,...i)){const o=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],a=o[t];8&i.flags&&(n[(r=i.nonMinifiedName,s=void 0,s=r.replace(/[$@]/g,"_"),`ng-reflect-${r=s.replace(Nt,(...t)=>"-"+t[1].toLowerCase())}`)]=Mt(a))}const i=e.parent,a=Ge(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(a,e,i):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var r,s}function $s(t,e,n,i){ds(t,e,n,...i)}function qs(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Zs(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Qs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=on(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Ge(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Xn(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Js(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Js(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!ln(t);)t=t.parent;return t.parent?Ge(t.parent,on(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?an(this.view,this.nodeDef):an(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===r?t.error.bind(t,...e):Ye),s<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Js(t,e,n){for(let i in e.references)n[i]=Br(t,e,e.references[i])}function to(t,e,n,i){const r=Us,s=zs,o=Hs;try{Us=t;const l=e.apply(n,i);return zs=s,Hs=o,Us=r,l}catch(a){if(nt(a)||!zs)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Me(t,e),t}(a,eo())}}function eo(){return zs?new Qs(zs,Hs):null}class no{constructor(t){this.delegate=t}createRenderer(t,e){return new io(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class io{constructor(t){this.delegate=t,this.debugContextFactory=eo,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){Tr.delete(t.nativeNode)}(Or(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new Sr(n,null,i);e.name=t,Rr(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Rr(new Er(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Rr(new Er(e,null,n)),e}appendChild(t,e){const n=Or(t),i=Or(e);n&&i&&n instanceof Sr&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=Or(t),r=Or(e),s=Or(n);i&&r&&i instanceof Sr&&i.insertBefore(s,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Or(t),i=Or(e);n&&i&&n instanceof Sr&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=eo();return i&&Rr(new Sr(n,null,i)),n}setAttribute(t,e,n,i){const r=Or(t);r&&r instanceof Sr&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=Or(t);i&&i instanceof Sr&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Or(t);n&&n instanceof Sr&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Or(t);n&&n instanceof Sr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=Or(t);r&&r instanceof Sr&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=Or(t);i&&i instanceof Sr&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=Or(t);i&&i instanceof Sr&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=Or(t);i&&i.listeners.push(new Cr(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ro(t,e,n){return new so(t,e,n)}class so extends ne{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(ws)return;ws=!0;const t=lt()?{setCurrentNode:Ws,createRootView:Cs,createEmbeddedView:Ss,createComponentView:Ts,createNgModuleRef:Os,overrideProvider:Ds,overrideComponentView:As,clearOverrides:Ps,checkAndUpdateView:js,checkNoChangesView:Fs,destroyView:Vs,createDebugContext:(t,e)=>new Qs(t,e),handleEvent:Ys,updateDirectives:Bs,updateRenderer:Xs}:{setCurrentNode:()=>{},createRootView:xs,createEmbeddedView:ns,createComponentView:rs,createNgModuleRef:Qn,overrideProvider:Ye,overrideComponentView:Ye,clearOverrides:Ye,checkAndUpdateView:us,checkNoChangesView:ls,destroyView:fs,createDebugContext:(t,e)=>new Qs(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Ms:Ls,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Ms:Ls,t)};We.setCurrentNode=t.setCurrentNode,We.createRootView=t.createRootView,We.createEmbeddedView=t.createEmbeddedView,We.createComponentView=t.createComponentView,We.createNgModuleRef=t.createNgModuleRef,We.overrideProvider=t.overrideProvider,We.overrideComponentView=t.overrideComponentView,We.clearOverrides=t.clearOverrides,We.checkAndUpdateView=t.checkAndUpdateView,We.checkNoChangesView=t.checkNoChangesView,We.destroyView=t.destroyView,We.resolveDep=yi,We.createDebugContext=t.createDebugContext,We.handleEvent=t.handleEvent,We.updateDirectives=t.updateDirectives,We.updateRenderer=t.updateRenderer,We.dirtyParentQueries=Hr}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(gn(this._ngModuleDefFactory));return We.createNgModuleRef(this.moduleType,t||L.NULL,this._bootstrapComponents,e)}}const oo={production:!0,serverUrl:"http://localhost",serverPort:8090};class ao{}class lo{constructor(){this.title="gui"}}class uo{}const co=new D("Location Initialized");class ho{}const po=new D("appBaseHref");let fo=(()=>{class t{constructor(e,n){this._subject=new Si,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(go(i)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+t.normalizeQueryParams(n))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,go(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(e,n="",i=null){this._platformStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}replaceState(e,n="",i=null){this._platformStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}return t})();function go(t){return t.replace(/\/index.html$/,"")}let mo=(()=>(class extends ho{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=fo.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+fo.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+fo.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),_o=(()=>(class extends ho{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fo.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+fo.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+fo.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+fo.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();const yo=void 0;var vo=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const bo={},wo=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),xo=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),Co=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Eo=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),So=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function To(t,e,n){const i=Mo(t),r=Po([i[3],i[4]],e);return Po(r,n)}function Oo(t,e,n){const i=Mo(t),r=Po([i[5],i[6]],e);return Po(r,n)}function Ro(t,e){return Po(Mo(t)[10],e)}function Io(t,e){return Po(Mo(t)[11],e)}function ko(t,e){return Po(Mo(t)[12],e)}function Do(t,e){const n=Mo(t),i=n[13][e];if(void 0===i){if(e===So.CurrencyDecimal)return n[13][So.Decimal];if(e===So.CurrencyGroup)return n[13][So.Group]}return i}function Ao(t){if(!t[19])throw new Error(`Missing extra locale data for the locale "${t[0]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Po(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function No(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}function Mo(t){const e=t.toLowerCase().replace(/_/g,"-");let n=bo[e];if(n)return n;const i=e.split("-")[0];if(n=bo[i])return n;if("en"===i)return vo;throw new Error(`Missing locale data for the locale "${t}".`)}const Lo=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jo={},Fo=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vo=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Go=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Uo=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function zo(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Ho(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function Wo(t,e,n=0,i=!1,r=!1){return function(s,o){let a=function(t,e){switch(t){case Go.FullYear:return e.getFullYear();case Go.Month:return e.getMonth();case Go.Date:return e.getDate();case Go.Hours:return e.getHours();case Go.Minutes:return e.getMinutes();case Go.Seconds:return e.getSeconds();case Go.FractionalSeconds:return e.getMilliseconds();case Go.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Go.Hours)0===a&&-12===n&&(a=12);else if(t===Go.FractionalSeconds)return l=e,Ho(a,3).substr(0,l);var l;const u=Do(o,So.MinusSign);return Ho(a,e,u,i,r)}}function Yo(t,e,n=xo.Format,i=!1){return function(r,s){return function(t,e,n,i,r,s){switch(n){case Uo.Months:return Oo(e,r,i)[t.getMonth()];case Uo.Days:return To(e,r,i)[t.getDay()];case Uo.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=Mo(t);return Ao(e),(e[19][2]||[]).map(t=>"string"==typeof t?No(t):[No(t[0]),No(t[1])])}(e),n=function(t,e,n){const i=Mo(t);Ao(i);const r=Po([i[19][0],i[19][1]],e)||[];return Po(r,n)||[]}(e,r,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:r}=t[0],{hours:l,minutes:u}=t[1];o>=i&&a>=r&&(o<l||o===l&&a<u)&&(s=n[e])}else{const{hours:i,minutes:r}=t;i===o&&r===a&&(s=n[e])}}),s)return s}return function(t,e,n){const i=Mo(t),r=Po([i[1],i[2]],e);return Po(r,n)}(e,r,i)[o<12?0:1];case Uo.Eras:return function(t,e){return Po(Mo(t)[7],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,s,t,e,n,i)}}function Bo(t){return function(e,n,i){const r=-1*i,s=Do(n,So.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Vo.Short:return(r>=0?"+":"")+Ho(o,2,s)+Ho(Math.abs(r%60),2,s);case Vo.ShortGMT:return"GMT"+(r>=0?"+":"")+Ho(o,1,s);case Vo.Long:return"GMT"+(r>=0?"+":"")+Ho(o,2,s)+":"+Ho(Math.abs(r%60),2,s);case Vo.Extended:return 0===i?"Z":(r>=0?"+":"")+Ho(o,2,s)+":"+Ho(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const Xo=0,Ko=4;function $o(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,Xo,1).getDay();return new Date(t,0,1+(e<=Ko?Ko:Ko+7)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(Ko-s.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var s;return Ho(r,t,Do(i,So.MinusSign))}}const qo={};function Zo(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Qo(t){return t instanceof Date&&!isNaN(t.valueOf())}const Jo=new D("UseV4Plurals");class ta{}let ea=(()=>(class extends ta{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return Mo(t)[18]}(e||this.locale)(t)){case wo.Zero:return"zero";case wo.One:return"one";case wo.Two:return"two";case wo.Few:return"few";case wo.Many:return"many";default:return"other"}}}))();function na(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class ia{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ra=(()=>(class{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){lt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ia(null,this._ngForOf,-1,-1),i),r=new sa(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(n);else{const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new sa(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}))();class sa{constructor(t,e){this.record=t,this.view=e}}let oa=(()=>(class{constructor(t,e){this._viewContainer=t,this._context=new aa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){la("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){la("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(t,e){return!0}}))();class aa{constructor(){this.$implicit=null,this.ngIf=null}}function la(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${b(e)}'.`)}let ua=(()=>(class{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}))(),ca=(()=>(class{}))();const ha=new D("DocumentToken");let da=(()=>{class t{}return t.ngInjectableDef=m({providedIn:"root",factory:()=>new pa(I(ha),window,I(st))}),t})();class pa{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const i=this.document.querySelector(`[name='${t}']`);if(i)return void this.scrollToElement(i)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}var fa=n("LRne"),ga=n("Cfvw"),ma=n("2Vo4"),_a=n("sVev"),ya=n("itXk"),va=n("NXyV"),ba=n("EY2u"),wa=n("lJxs"),xa=n("0EUg"),Ca=n("NJ9Y"),Ea=n("JIr8"),Sa=n("SxV6"),Ta=n("5+tZ"),Oa=n("Gi4w"),Ra=n("eIep"),Ia=n("IzEk"),ka=n("JX91"),Da=n("Kqap"),Aa=n("pLZG"),Pa=n("bOdf"),Na=n("128B"),Ma=n("vkgz"),La=n("nYR2"),ja=n("bHdf");let Fa=null;function Va(){return Fa}class Ga{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Ua extends Ga{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const za={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ha=3,Wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ya={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ba=(()=>{if(S.Node)return S.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Xa extends Ua{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Xa,Fa||(Fa=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return za}contains(t,e){return Ba.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Ha&&Ya.hasOwnProperty(e)&&(e=Ya[e]))}return Wa[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$a||($a=document.querySelector("base"))?$a.getAttribute("href"):null;return null==e?null:(n=e,Ka||(Ka=document.createElement("a")),Ka.setAttribute("href",n),"/"===Ka.pathname.charAt(0)?Ka.pathname:"/"+Ka.pathname);var n}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return na(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Ka,$a=null;function qa(){return!!window.history.pushState}let Za=(()=>{class t extends uo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Va().getLocation(),this._history=Va().getHistory()}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(t){Va().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Va().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){qa()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){qa()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:c,args:[ha]}]}],t})();const Qa=new D("TRANSITION_ID"),Ja=[{provide:Ri,useFactory:function(t,e,n){return()=>{n.get(Ii).donePromise.then(()=>{const n=Va();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Qa,ha,L],multi:!0}];class tl{static init(){var t;t=new tl,ur=t}addToWindow(t){S.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},S.getAllAngularTestabilities=()=>t.getAllTestabilities(),S.getAllAngularRootElements=()=>t.getAllRootElements(),S.frameworkStabilizers||(S.frameworkStabilizers=[]),S.frameworkStabilizers.push(t=>{const e=S.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Va().isShadowRoot(e)?this.findTestabilityInTree(t,Va().getHost(e),!0):this.findTestabilityInTree(t,Va().parentElement(e),!0):null}}function el(t,e){"undefined"!=typeof COMPILED&&COMPILED||((S.ng=S.ng||{})[t]=e)}const nl=(()=>({ApplicationRef:_r,NgZone:Qi}))();function il(t){return Or(t)}const rl=new D("EventManagerPlugins");let sl=(()=>(class{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}))();class ol{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Va().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let al=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}))(),ll=(()=>(class extends al{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Va().remove(t))}}))();const ul={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cl=/%COMP%/g,hl="_nghost-%COMP%",dl="_ngcontent-%COMP%";function pl(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pl(t,r,n):(r=r.replace(cl,t),n.push(r))}return n}function fl(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gl=(()=>(class{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ml(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case tt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case tt.Native:case tt.ShadowDom:return new bl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class ml{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ul[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=`${i}:${e}`;const r=ul[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=ul[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&le.DashCase?t.style.setProperty(e,n,i&le.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&le.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){yl(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return yl(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fl(n)):this.eventManager.addEventListener(t,e,fl(n))}}const _l=(()=>"@".charCodeAt(0))();function yl(t,e){if(t.charCodeAt(0)===_l)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class vl extends ml{constructor(t,e,n,i){super(t),this.component=n;const r=pl(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr=dl.replace(cl,i+"-"+n.id),this.hostAttr=hl.replace(cl,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class bl extends ml{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===tt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=pl(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const wl=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),xl=wl("addEventListener"),Cl=wl("removeEventListener"),El={},Sl="__zone_symbol__propagationStopped",Tl=(()=>{const t="undefined"!=typeof Zone&&Zone[wl("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Ol=function(t){return!!Tl&&Tl.hasOwnProperty(t)},Rl=function(t){const e=El[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Sl];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};let Il=(()=>(class extends ol{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return"server"===t}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Sl]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[xl]||Qi.isInAngularZone()&&!Ol(e))t.addEventListener(e,i,!1);else{let n=El[e];n||(n=El[e]=wl("ANGULAR"+e+"FALSE"));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=Ol(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[xl](e,Rl,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[Cl];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);let r=El[e],s=r&&t[r];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&i.apply(t,[e,Rl,!1]):t.removeEventListener.apply(t,[e,n,!1])}}))();const kl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Dl=new D("HammerGestureConfig"),Al=new D("HammerLoader");let Pl=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}))(),Nl=(()=>(class extends ol{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!kl.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return r.on(e,s),()=>{r.off(e,s),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}))();const Ml=["alt","control","meta","shift"],Ll={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let jl=(()=>{class t extends ol{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(Ml.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=Va().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ml.forEach(i=>{i!=n&&(0,Ll[i])(t)&&(e+=i+".")}),e+=n}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t})();class Fl{}let Vl=(()=>(class extends Fl{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case kt.NONE:return e;case kt.HTML:return e instanceof Ul?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Rt=Rt||new ut(t);let i=e?String(e):"";n=Rt.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Rt.getInertBodyElement(i)}while(i!==s);const o=new Et,a=o.sanitizeChildren(It(n)||n);return lt()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=It(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case kt.STYLE:return e instanceof zl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Pt);return e&&dt(e[1])===e[1]||t.match(At)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(lt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case kt.SCRIPT:if(e instanceof Hl)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case kt.URL:return e instanceof Yl||e instanceof Wl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),dt(String(e)));case kt.RESOURCE_URL:if(e instanceof Yl)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Gl)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Ul(t)}bypassSecurityTrustStyle(t){return new zl(t)}bypassSecurityTrustScript(t){return new Hl(t)}bypassSecurityTrustUrl(t){return new Wl(t)}bypassSecurityTrustResourceUrl(t){return new Yl(t)}}))();class Gl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Ul extends Gl{getTypeName(){return"HTML"}}class zl extends Gl{getTypeName(){return"Style"}}class Hl extends Gl{getTypeName(){return"Script"}}class Wl extends Gl{getTypeName(){return"URL"}}class Yl extends Gl{getTypeName(){return"ResourceURL"}}const Bl=pr(Ir,"browser",[{provide:Ni,useValue:"browser"},{provide:Pi,useValue:function(){Xa.makeCurrent(),tl.init()},multi:!0},{provide:uo,useClass:Za,deps:[ha]},{provide:ha,useFactory:function(){return document},deps:[]}]);function Xl(){return new st}let Kl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ki,useValue:e.appId},{provide:Qa,useExisting:ki},Ja]}}}return t})();"undefined"!=typeof window&&window;class $l{constructor(t,e){this.id=t,this.url=e}}class ql extends $l{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zl extends $l{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ql extends $l{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jl extends $l{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tu extends $l{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends $l{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu extends $l{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iu extends $l{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends $l{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class su{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ou{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class au{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lu{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let du=(()=>(class{}))();const pu="primary";class fu{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gu(t){return new fu(t)}const mu="ngNavigationCancelingError";function _u(t){const e=Error("NavigationCancelingError: "+t);return e[mu]=!0,e}function yu(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class vu{constructor(t,e){this.routes=t,this.module=e}}function bu(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];wu(i,xu(e,i))}}function wu(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==pu)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&bu(t.children,e)}function xu(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Cu(t){const e=t.children&&t.children.map(Cu),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pu&&(n.component=du),n}function Eu(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(t[r=n[s]]!==e[r])return!1;return!0}function Su(t){return Array.prototype.concat.apply([],t)}function Tu(t){return t.length>0?t[t.length-1]:null}function Ou(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ru(t){return jt(t)?t:Lt(t)?Object(ga.a)(Promise.resolve(t)):Object(fa.a)(t)}function Iu(t,e,n){return n?function(t,e){return Eu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Pu(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length){return!!Pu(n.segments.slice(0,r.length),r)&&!i.hasChildren()}if(n.segments.length===r.length){if(!Pu(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Pu(n.segments,t)&&!!n.children[pu]&&e(n.children[pu],i,s)}}(e,n,n.segments)}(t.root,e.root)}class ku{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return ju.serialize(this)}}class Du{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ou(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fu(this)}}class Au{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return Wu(this)}}function Pu(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Nu(t,e){let n=[];return Ou(t.children,(t,i)=>{i===pu&&(n=n.concat(e(t,i)))}),Ou(t.children,(t,i)=>{i!==pu&&(n=n.concat(e(t,i)))}),n}class Mu{}class Lu{parse(t){const e=new $u(t);return new ku(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Fu(e);if(n){const n=e.children[pu]?t(e.children[pu],!1):"",i=[];return Ou(e.children,(e,n)=>{n!==pu&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Nu(e,(n,i)=>i===pu?[t(e.children[pu],!1)]:[`${i}:${t(n,!1)}`]);return`${Fu(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gu(e)}=${Gu(t)}`).join("&"):`${Gu(e)}=${Gu(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ju=new Lu;function Fu(t){return t.segments.map(t=>Wu(t)).join("/")}function Vu(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gu(t){return Vu(t).replace(/%3B/gi,";")}function Uu(t){return Vu(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(t){return decodeURIComponent(t)}function Hu(t){return zu(t.replace(/\+/g,"%20"))}function Wu(t){return`${Uu(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Uu(t)}=${Uu(e[t])}`).join("")}`;var e}const Yu=/^[^\/()?;=#]+/;function Bu(t){const e=t.match(Yu);return e?e[0]:""}const Xu=/^[^=?&#]+/,Ku=/^[^?&#]+/;class $u{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Du([],{}):new Du([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[pu]=new Du(t,e)),n}parseSegment(){const t=Bu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Au(zu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bu(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Bu(this.remaining);t&&this.capture(n=t)}t[zu(e)]=zu(n)}parseQueryParam(t){const e=function(t){const e=t.match(Xu);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ku);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const i=Hu(e),r=Hu(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(t[i]=e=[e]),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Bu(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=pu);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s[pu]:new Du([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class qu{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zu(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Zu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qu(t,this._root).map(t=>t.value)}}function Zu(t,e){if(t===e.value)return e;for(const n of e.children){const e=Zu(t,n);if(e)return e}return null}function Qu(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Qu(t,n);if(i.length)return i.unshift(e),i}return[]}class Ju{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tc(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ec extends qu{constructor(t,e){super(t),this.snapshot=e,ac(this,t)}toString(){return this.snapshot.toString()}}function nc(t,e){const n=function(t,e){const n=new sc([],{},{},"",{},pu,e,null,t.root,-1,{});return new oc("",new Ju(n,[]))}(t,e),i=new ma.a([new Au("",{})]),r=new ma.a({}),s=new ma.a({}),o=new ma.a({}),a=new ma.a(""),l=new ic(i,r,o,a,s,pu,e,n.root);return l.snapshot=n.root,new ec(new Ju(l,[]),n)}class ic{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(wa.a)(t=>gu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(wa.a)(t=>gu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rc(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class sc{constructor(t,e,n,i,r,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oc extends qu{constructor(t,e){super(e),this.url=t,ac(this,e)}toString(){return lc(this._root)}}function ac(t,e){e.value._routerState=t,e.children.forEach(e=>ac(t,e))}function lc(t){const e=t.children.length>0?` { ${t.children.map(lc).join(", ")} } `:"";return`${t.value}${e}`}function uc(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Eu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Eu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Eu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Eu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function cc(t,e){var n,i;return Eu(t.params,e.params)&&Pu(n=t.url,i=e.url)&&n.every((t,e)=>Eu(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||cc(t.parent,e.parent))}function hc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dc(t,e,n,i,r){let s={};return i&&Ou(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ku(n.root===t?e:function t(e,n,i){const r={};return Ou(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new Du(e.segments,r)}(n.root,t,e),s,r)}class pc{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hc(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==Tu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fc{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gc(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[pu]:`${t}`}function mc(t,e,n){if(t||(t=new Du([],{})),0===t.segments.length&&t.hasChildren())return _c(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=gc(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wc(o,a,e))return s;i+=2}else{if(!wc(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Du(t.segments.slice(0,i.pathIndex),{});return e.children[pu]=new Du(t.segments.slice(i.pathIndex),t.children),_c(e,0,r)}return i.match&&0===r.length?new Du(t.segments,{}):i.match&&!t.hasChildren()?yc(t,e,n):i.match?_c(t,0,r):yc(t,e,n)}function _c(t,e,n){if(0===n.length)return new Du(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{[pu]:t}:void 0===t[0].outlets?{[pu]:t}:t[0].outlets}(n),r={};return Ou(i,(n,i)=>{null!==n&&(r[i]=mc(t.children[i],e,n))}),Ou(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Du(t.segments,r)}}function yc(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=vc(n[r].outlets);return new Du(i,t)}if(0===r&&hc(n[0])){i.push(new Au(t.segments[e].path,n[0])),r++;continue}const s=gc(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&hc(o)?(i.push(new Au(s,bc(o))),r+=2):(i.push(new Au(s,{})),r++)}return new Du(i,{})}function vc(t){const e={};return Ou(t,(t,n)=>{null!==t&&(e[n]=yc(new Du([],{}),0,t))}),e}function bc(t){const e={};return Ou(t,(t,n)=>e[n]=`${t}`),e}function wc(t,e,n){return t==n.path&&Eu(e,n.parameters)}const xc=(t,e,n)=>Object(wa.a)(i=>(new Cc(e,i.targetRouterState,i.currentRouterState,n).activate(t),i));class Cc{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),uc(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=tc(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Ou(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=tc(t),r=t.value.component?n.children:e;Ou(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=tc(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new cu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lu(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(uc(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ec(t.route)}else{const n=function(t){for(let e=i.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ec(t){uc(t.value),t.children.forEach(Ec)}function Sc(t){return"function"==typeof t}function Tc(t){return t instanceof ku}class Oc{constructor(t){this.segmentGroup=t||null}}class Rc{constructor(t){this.urlTree=t}}function Ic(t){return new s.a(e=>e.error(new Oc(t)))}function kc(t){return new s.a(e=>e.error(new Rc(t)))}function Dc(t){return new s.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ac{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ee)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,pu).pipe(Object(wa.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(Ea.a)(t=>{if(t instanceof Rc)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Oc)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pu).pipe(Object(wa.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(Ea.a)(t=>{if(t instanceof Oc)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Du([],{[pu]:t}):t;return new ku(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(wa.a)(t=>new Du([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(fa.a)({});const n=[],i=[],r={};return Ou(t,(t,s)=>{const o=e(s,t).pipe(Object(wa.a)(t=>r[s]=t));s===pu?n.push(o):i.push(o)}),fa.a.apply(null,n.concat(i)).pipe(Object(xa.a)(),Object(Ca.a)(),Object(wa.a)(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return Object(fa.a)(...n).pipe(Object(wa.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(Object(Ea.a)(t=>{if(t instanceof Oc)return Object(fa.a)(null);throw t}))),Object(xa.a)(),Object(Sa.a)(t=>!!t),Object(Ea.a)((t,n)=>{if(t instanceof _a.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Object(fa.a)(new Du([],{}));throw new Oc(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Lc(i)!==s?Ic(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Ic(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kc(r):this.lineralizeSegments(n,r).pipe(Object(Ta.a)(n=>{const r=new Du(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Pc(e,i,r);if(!o)return Ic(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?kc(c):this.lineralizeSegments(i,c).pipe(Object(Ta.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(wa.a)(t=>(n._loadedConfig=t,new Du(i,{})))):Object(fa.a)(new Du(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=Pc(e,n,i);if(!r)return Ic(e);const a=i.slice(o);return this.getChildConfig(t,n,i).pipe(Object(Ta.a)(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(n=>Mc(t,e,n)&&Lc(n)!==pu)}(t,n)?{segmentGroup:Nc(new Du(e,function(t,e){const n={};n[pu]=e;for(const i of t)""===i.path&&Lc(i)!==pu&&(n[Lc(i)]=new Du([],{}));return n}(i,new Du(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(n=>Mc(t,e,n))}(t,n)?{segmentGroup:Nc(new Du(t.segments,function(t,e,n,i){const r={};for(const s of n)Mc(t,e,s)&&!i[Lc(s)]&&(r[Lc(s)]=new Du([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(Object(wa.a)(t=>new Du(s,t))):0===i.length&&0===o.length?Object(fa.a)(new Du(s,{})):this.expandSegment(n,r,i,o,pu,!0).pipe(Object(wa.a)(t=>new Du(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(fa.a)(new vu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(fa.a)(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?Object(ga.a)(i).pipe(Object(wa.a)(i=>{const r=t.get(i);let s;if(function(t){return t&&Sc(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Sc(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return Ru(s)})).pipe(Object(xa.a)(),Object(Oa.a)(t=>!0===t)):Object(fa.a)(!0)}(t.injector,e,n).pipe(Object(Ta.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(wa.a)(t=>(e._loadedConfig=t,t))):function(t){return new s.a(e=>e.error(_u(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(fa.a)(new vu([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(fa.a)(n);if(i.numberOfChildren>1||!i.children[pu])return Dc(t.redirectTo);i=i.children[pu]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new ku(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ou(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return Ou(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Du(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Pc(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||yu)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Nc(t){if(1===t.numberOfChildren&&t.children[pu]){const e=t.children[pu];return new Du(t.segments.concat(e.segments),e.children)}return t}function Mc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Lc(t){return t.outlet||pu}class jc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fc{constructor(t,e){this.component=t,this.route=e}}function Vc(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=tc(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pu(t.url,e.url)||!Eu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cc(t,e)||!Eu(t.queryParams,e.queryParams);case"paramsChange":default:return!cc(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);if(u?s.canActivateChecks.push(new jc(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:i,r,s),u){s.canDeactivateChecks.push(new Fc(l&&l.outlet&&l.outlet.component||null,a))}}else a&&Uc(n,l,s),s.canActivateChecks.push(new jc(r)),t(e,null,o.component?l?l.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),Ou(o,(t,e)=>Uc(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function Gc(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Uc(t,e,n){const i=tc(t),r=t.value;Ou(i,(t,i)=>{Uc(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Fc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const zc=Symbol("INITIAL_VALUE");function Hc(){return Object(Ra.a)(t=>Object(ya.b)(...t.map(t=>t.pipe(Object(Ia.a)(1),Object(ka.a)(zc)))).pipe(Object(Da.a)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==zc)return t;if(i===zc&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Tc(i))return i}return t},t)},zc),Object(Aa.a)(t=>t!==zc),Object(wa.a)(t=>Tc(t)?t:!0===t),Object(Ia.a)(1)))}function Wc(t,e){return null!==t&&e&&e(new uu(t)),Object(fa.a)(!0)}function Yc(t,e){return null!==t&&e&&e(new au(t)),Object(fa.a)(!0)}function Bc(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(fa.a)(!0);const r=i.map(i=>Object(va.a)(()=>{const r=Gc(i,e,n);let s;if(function(t){return t&&Sc(t.canActivate)}(r))s=Ru(r.canActivate(e,t));else{if(!Sc(r))throw new Error("Invalid CanActivate guard");s=Ru(r(e,t))}return s.pipe(Object(Sa.a)())}));return Object(fa.a)(r).pipe(Hc())}function Xc(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>Object(va.a)(()=>{const r=e.guards.map(r=>{const s=Gc(r,e.node,n);let o;if(function(t){return t&&Sc(t.canActivateChild)}(s))o=Ru(s.canActivateChild(i,t));else{if(!Sc(s))throw new Error("Invalid CanActivateChild guard");o=Ru(s(i,t))}return o.pipe(Object(Sa.a)())});return Object(fa.a)(r).pipe(Hc())}));return Object(fa.a)(r).pipe(Hc())}class Kc{}class $c{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const e=Qc(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,pu),i=new sc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pu,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ju(i,n),o=new oc(this.url,r);return this.inheritParamsAndData(o._root),Object(fa.a)(o)}catch(t){return new s.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Nu(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===pu?-1:e.value.outlet===pu?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof Kc))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Kc}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Kc;if((t.outlet||pu)!==i)throw new Kc;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?Tu(n).parameters:{};r=new sc(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eh(t),i,t.component,t,qc(e),Zc(e)+n.length,nh(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Kc;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||yu)(n,t,e);if(!i)throw new Kc;const r={};Ou(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new sc(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eh(t),i,t.component,t,qc(e),Zc(e)+s.length,nh(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Qc(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Ju(r,t)]}if(0===a.length&&0===u.length)return[new Ju(r,[])];const c=this.processSegment(a,l,u,pu);return[new Ju(r,c)]}}function qc(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zc(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qc(t,e,n,i,r){if(n.length>0&&function(t,e,n){return i.some(n=>Jc(t,e,n)&&th(n)!==pu)}(t,n)){const r=new Du(e,function(t,e,n,i){const r={};r[pu]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&th(s)!==pu){const n=new Du([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[th(s)]=n}return r}(t,e,i,new Du(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(n=>Jc(t,e,n))}(t,n)){const s=new Du(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Jc(t,n,a)&&!r[th(a)]){const n=new Du([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[th(a)]=n}return Object.assign({},r,o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Du(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Jc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function th(t){return t.outlet||pu}function eh(t){return t.data||{}}function nh(t){return t.resolve||{}}function ih(t,e,n,i){const r=Gc(t,e,i);return Ru(r.resolve?r.resolve(e,n):r(e,n))}function rh(t){return function(e){return e.pipe(Object(Ra.a)(e=>{const n=t(e);return n?Object(ga.a)(n).pipe(Object(wa.a)(()=>e)):Object(ga.a)([e])}))}}class sh{}class oh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const ah=new D("ROUTES");class lh{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(wa.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new vu(Su(i.injector.get(ah)).map(Cu),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(ga.a)(this.loader.load(t)):Ru(t()).pipe(Object(Ta.a)(t=>t instanceof ne?Object(fa.a)(t):Object(ga.a)(this.compiler.compileModuleAsync(t))))}}class uh{}class ch{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hh(t){throw t}function dh(t,e,n){return e.parse("/")}function ph(t,e){return Object(fa.a)(null)}class fh{constructor(t,e,n,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new i.a,this.errorHandler=hh,this.malformedUriErrorHandler=dh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ph,afterPreactivation:ph},this.urlHandlingStrategy=new ch,this.routeReuseStrategy=new oh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(ee),this.console=s.get(Li);const u=s.get(Qi);this.isNgZoneEnabled=u instanceof Qi,this.resetConfig(l),this.currentUrlTree=new ku(new Du([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lh(o,a,t=>this.triggerEvent(new su(t)),t=>this.triggerEvent(new ou(t))),this.routerState=nc(this.currentUrlTree,this.rootComponentType),this.transitions=new ma.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(Aa.a)(t=>0!==t.id),Object(wa.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(Ra.a)(t=>{let n=!1,i=!1;return Object(fa.a)(t).pipe(Object(Ma.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(Ra.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(fa.a)(t).pipe(Object(Ra.a)(t=>{const n=this.transitions.getValue();return e.next(new ql(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ba.a:[t]}),Object(Ra.a)(t=>Promise.resolve(t)),function(t,e,n,i){return function(r){return r.pipe(Object(Ra.a)(r=>(function(t,e,n,i,s){return new Ac(t,e,n,r.extractedUrl,s).apply()})(t,e,n,0,i).pipe(Object(wa.a)(t=>Object.assign({},r,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Object(Ma.a)(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(Object(Ta.a)(s=>(function(t,e,n,i,r="emptyOnly",s="legacy"){return new $c(t,e,n,i,r,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(wa.a)(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ma.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ma.a)(t=>{const n=new tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new ql(n,this.serializeUrl(i),r,s);e.next(a);const l=nc(i,this.rootComponentType).snapshot;return Object(fa.a)(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ba.a}),rh(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ma.a)(t=>{const e=new eu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(wa.a)(t=>Object.assign({},t,{guards:Vc(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Ta.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(fa.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return Object(ga.a)(t).pipe(Object(Ta.a)(t=>(function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(fa.a)(!0);const o=s.map(s=>{const o=Gc(s,e,r);let a;if(function(t){return t&&Sc(t.canDeactivate)}(o))a=Ru(o.canDeactivate(t,e,n,i));else{if(!Sc(o))throw new Error("Invalid CanDeactivate guard");a=Ru(o(t,e,n,i))}return a.pipe(Object(Sa.a)())});return Object(fa.a)(o).pipe(Hc())})(t.component,t.route,n,e,i)),Object(Sa.a)(t=>!0!==t,!0))}(o,i,r,t).pipe(Object(Ta.a)(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,i){return Object(ga.a)(e).pipe(Object(Pa.a)(e=>Object(ga.a)([Yc(e.route.parent,i),Wc(e.route,i),Xc(t,e.path,n),Bc(t,e.route,n)]).pipe(Object(xa.a)(),Object(Sa.a)(t=>!0!==t,!0))),Object(Sa.a)(t=>!0!==t,!0))}(i,s,t,e):Object(fa.a)(n)),Object(wa.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ma.a)(t=>{if(Tc(t.guardsResult)){const e=_u(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ma.a)(t=>{const e=new nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(Aa.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ql(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rh(t=>{if(t.guards.canActivateChecks.length)return Object(fa.a)(t).pipe(Object(Ma.a)(t=>{const e=new iu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(Object(Ta.a)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;return r.length?Object(ga.a)(r).pipe(Object(Pa.a)(n=>(function(t,e,n,r){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(fa.a)({});if(1===r.length){const s=r[0];return ih(t[s],e,n,i).pipe(Object(wa.a)(t=>({[s]:t})))}const s={};return Object(ga.a)(r).pipe(Object(Ta.a)(r=>ih(t[r],e,n,i).pipe(Object(wa.a)(t=>(s[r]=t,t))))).pipe(Object(Ca.a)(),Object(wa.a)(()=>s))}(t._resolve,t,i,r).pipe(Object(wa.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,rc(t,n).resolve),null)))})(n.route,0,t,e)),Object(Na.a)((t,e)=>t),Object(wa.a)(t=>n)):Object(fa.a)(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Object(Ma.a)(t=>{const e=new ru(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rh(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(wa.a)(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Ju(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new ic(new ma.a((r=n.value).url),new ma.a(r.params),new ma.a(r.queryParams),new ma.a(r.fragment),new ma.a(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new Ju(i,s)}}var r}(t,e._root,n?n._root:void 0);return new ec(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Object(Ma.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),xc(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Object(Ma.a)({next(){n=!0},complete(){n=!0}}),Object(La.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Ql(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(Ea.a)(n=>{if(i=!0,function(t){return n&&n[mu]}()){const i=Tc(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Ql(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Jl(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(r){t.reject(r)}}return ba.a}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bu(t),this.config=t.map(Cu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;lt()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return dc(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pc(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Ou(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new pc(n,e,i)}(n);if(s.toRoot())return dc(e.root,new Du([],{}),e,i,r);const o=function(t,n,i){if(t.isAbsolute)return new fc(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new fc(i.snapshot._urlSegment,!0,0);const r=hc(t.commands[0])?0:1;return function(e,n,s){let o=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new fc(o,!1,a-l)}()}(s,0,t),a=o.processChildren?_c(o.segmentGroup,o.index,s.commands):mc(o.segmentGroup,o.index,s.commands);return dc(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){lt()&&this.isNgZoneEnabled&&!Qi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Tc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Tc(t))return Iu(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Iu(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Zl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}let gh=(()=>(class{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Zl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){lt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:mh(this.skipLocationChange),replaceUrl:mh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mh(this.preserveFragment)})}}))();function mh(t){return""===t||!!t}class _h{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yh,this.attachRef=null}}class yh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _h,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let vh=(()=>(class{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Si,this.deactivateEvents=new Si,this.name=i||pu,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new bh(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class bh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ic?this.route:t===yh?this.childContexts:this.parent.get(t,e)}}class wh{}class xh{preload(t,e){return e().pipe(Object(Ea.a)(()=>Object(fa.a)(null)))}}class Ch{preload(t,e){return Object(fa.a)(null)}}let Eh=(()=>(class{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new lh(e,n,e=>t.triggerEvent(new su(e)),e=>t.triggerEvent(new ou(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(Aa.a)(t=>t instanceof Zl),Object(Pa.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ee);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(ga.a)(n).pipe(Object(ja.a)(),Object(wa.a)(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Ta.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}))();class Sh{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ql?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new hu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Th=new D("ROUTER_CONFIGURATION"),Oh=new D("ROUTER_FORROOT_GUARD"),Rh=[fo,{provide:Mu,useClass:Lu},{provide:fh,useFactory:Mh,deps:[_r,Mu,yh,fo,L,Oi,Wi,ah,Th,[uh,new h],[sh,new h]]},yh,{provide:ic,useFactory:Lh,deps:[fh]},{provide:Oi,useClass:wr},Eh,Ch,xh,{provide:Th,useValue:{enableTracing:!1}}];function Ih(){return new dr("Router",fh)}let kh=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Rh,Nh(e),{provide:Oh,useFactory:Ph,deps:[[fh,new h,new p]]},{provide:Th,useValue:n||{}},{provide:ho,useFactory:Ah,deps:[uo,[new c(po),new h],Th]},{provide:Sh,useFactory:Dh,deps:[fh,da,Th]},{provide:wh,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ch},{provide:dr,multi:!0,useFactory:Ih},[jh,{provide:Ri,multi:!0,useFactory:Fh,deps:[jh]},{provide:Gh,useFactory:Vh,deps:[jh]},{provide:Mi,multi:!0,useExisting:Gh}]]}}static forChild(e){return{ngModule:t,providers:[Nh(e)]}}}return t})();function Dh(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sh(t,e,n)}function Ah(t,e,n={}){return n.useHash?new mo(t,e):new _o(t,e)}function Ph(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Nh(t){return[{provide:J,multi:!0,useValue:t},{provide:ah,multi:!0,useValue:t}]}function Mh(t,e,n,i,r,s,o,a,l={},u,c){const h=new fh(null,e,n,i,r,s,o,Su(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=Va();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Lh(t){return t.routerState.root}let jh=(()=>(class{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new i.a}appInitializer(){return this.injector.get(co,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fh),i=this.injector.get(Th);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(fa.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Th),n=this.injector.get(Eh),i=this.injector.get(Sh),r=this.injector.get(fh),s=this.injector.get(_r);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}))();function Fh(t){return t.appInitializer.bind(t)}function Vh(t){return t.bootstrapListener.bind(t)}const Gh=new D("Router Initializer");var Uh=qe({encapsulation:2,styles:[],data:{}});function zh(t){return Jr(0,[(t()(),jr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),li(1,212992,null,0,vh,[yh,Ae,Qt,[8,null],Se],null,null)],function(t,e){t(e,1,0)},null)}function Hh(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ng-component",[],null,null,null,zh,Uh)),li(1,49152,null,0,du,[],null,null)],null,null)}var Wh=Fn("ng-component",du,Hh,{},{},[]);class Yh{constructor(){}ngOnInit(){}}var Bh=qe({encapsulation:0,styles:[[""]],data:{}});function Xh(t){return Jr(0,[(t()(),jr(0,0,null,null,9,"div",[["class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,2,"h1",[["class","h2"]],null,null,null,null,null)),(t()(),jr(2,0,null,null,0,"img",[["height","40"],["src","/assets/AetherOneLogo.png"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Dashboard"])),(t()(),jr(4,0,null,null,5,"div",[["class","btn-toolbar mb-2 mb-md-0"]],null,null,null,null,null)),(t()(),jr(5,0,null,null,4,"div",[["class","btn-group mr-2"]],null,null,null,null,null)),(t()(),jr(6,0,null,null,1,"button",[["class","btn btn-sm btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(t()(),qr(-1,null,["Share"])),(t()(),jr(8,0,null,null,1,"button",[["class","btn btn-sm btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(t()(),qr(-1,null,["Export"]))],null,null)}function Kh(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"app-dashboard",[],null,null,null,Xh,Bh)),li(1,114688,null,0,Yh,[],null,null)],function(t,e){t(e,1,0)},null)}var $h=Fn("app-dashboard",Yh,Kh,{},{},[]);class qh{constructor(){}ngOnInit(){}}var Zh=qe({encapsulation:0,styles:[[""]],data:{}});function Qh(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qr(-1,null,["session works!"]))],null,null)}function Jh(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"app-session",[],null,null,null,Qh,Zh)),li(1,114688,null,0,qh,[],null,null)],function(t,e){t(e,1,0)},null)}var td=Fn("app-session",qh,Jh,{},{},[]);class ed{}let nd=(()=>{class t{constructor(){this.context=new ed}getContext(){return this.context}setDatabaseName(t){console.log("databaseName = "+t),this.context.databaseName=t}}return t.ngInjectableDef=m({factory:function(){return new t},token:t,providedIn:"root"}),t})();class id{constructor(t){this.contextService=t}ngOnInit(){this.context=this.contextService.getContext()}}var rd=qe({encapsulation:0,styles:[[""]],data:{}});function sd(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"div",[["class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qr(2,null,["Analysis for ",""]))],null,function(t,e){t(e,2,0,e.component.context.databaseName)})}function od(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"app-analysis",[],null,null,null,sd,rd)),li(1,114688,null,0,id,[nd],null,null)],function(t,e){t(e,1,0)},null)}var ad=Fn("app-analysis",id,od,{},{},[]);function ld(){return function(){throw new Error("Unimplemented abstract method.")}()}var ud=0;function cd(t){return t.ol_uid||(t.ol_uid=String(++ud))}var hd="5.3.3",dd=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===hd?hd:"v"+hd.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),pd={ADD:"add",REMOVE:"remove"},fd="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,s=arguments.length;r<s;++r){var o=n[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])}return i};function gd(t){for(var e in t)delete t[e]}function md(t){var e=[];for(var n in t)e.push(t[n]);return e}function _d(t){var e;for(e in t)return!1;return!e}function yd(t,e,n,i){for(var r,s=0,o=t.length;s<o;++s)if((r=t[s]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=s),r}function vd(t,e){var n=bd(t);return n?n[e]:void 0}function bd(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function wd(t,e){var n=vd(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),gd(n[i]);n.length=0;var s=bd(t);s&&(delete s[e],0===Object.keys(s).length&&function(t){delete t.ol_lm}(t))}}function xd(t,e,n,i,r){var s=bd(t,!0),o=s[e];o||(o=s[e]=[]);var a=yd(o,n,i,!1);return a?r||(a.callOnce=!1):(t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&Sd(t),n.call(i,e)};return t.boundListener=e,e}(a={bindTo:i,callOnce:!!r,listener:n,target:t,type:e})),o.push(a)),a}function Cd(t,e,n,i){return xd(t,e,n,i,!0)}function Ed(t,e,n,i){var r=vd(t,e);if(r){var s=yd(r,n,i,!0);s&&Sd(s)}}function Sd(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=vd(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&wd(t.target,t.type)}gd(t)}}var Td=function(){this.disposed_=!1};Td.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},Td.prototype.disposeInternal=function(){};var Od=Td;function Rd(){return!0}function Id(){return!1}function kd(){}var Dd=function(t){this.type=t,this.target=null};function Ad(t){t.stopPropagation()}Dd.prototype.preventDefault=function(){this.propagationStopped=!0},Dd.prototype.stopPropagation=function(){this.propagationStopped=!0};var Pd=Dd,Nd=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Pd(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,o=r.length;s<o;++s)if(!1===r[s].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var a=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];a--;)this.removeEventListener(n,kd);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){!function(t){var e=bd(t);if(e)for(var n in e)wd(t,n)}(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=kd,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(Od),Md={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},Ld=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Md.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=xd(this,t[r],e);return i}return xd(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=Cd(this,t[r],e);return i}return Cd(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)Ed(this,t[n],e);else Ed(this,t,e)},e}(Nd),jd=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),Fd={};function Vd(t){return Fd.hasOwnProperty(t)?Fd[t]:Fd[t]="change:"+t}var Gd=function(t){function e(e){t.call(this),cd(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return fd({},this.values_)},e.prototype.notify=function(t,e){var n;n=Vd(t),this.dispatchEvent(new jd(n,t,e)),this.dispatchEvent(new jd(n="propertychange",t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(Ld),Ud=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),zd=function(t){function e(e,n){if(t.call(this),this.unique_=!!(n||{}).unique,this.array_=e||[],this.unique_)for(var i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ud(pd.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ud(pd.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ud(pd.REMOVE,i)),this.dispatchEvent(new Ud(pd.ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new dd(58)},e}(Gd),Hd=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),Wd=function(t){function e(e,n,i,r,s){t.call(this,e,n,s),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Hd),Yd="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Bd=-1!==Yd.indexOf("firefox"),Xd=-1!==Yd.indexOf("safari")&&-1==Yd.indexOf("chrom"),Kd=-1!==Yd.indexOf("webkit")&&-1==Yd.indexOf("edge"),$d=-1!==Yd.indexOf("macintosh"),qd=window.devicePixelRatio||1,Zd=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}(),Qd=(navigator,"ontouchstart"in window),Jd="PointerEvent"in window,tp=!!navigator.msPointerEnabled,ep={SINGLECLICK:"singleclick",CLICK:Md.CLICK,DBLCLICK:Md.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},np=function(t){function e(e,n,i,r,s){t.call(this,e,n,i.originalEvent,r,s),this.pointerEvent=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Wd),ip={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},rp=function(t,e){this.dispatcher=t,this.mapping_=e};rp.prototype.getEvents=function(){return Object.keys(this.mapping_)},rp.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var sp=rp,op=1,ap="mouse";function lp(t){if(!this.isEventSimulatedFromTouch_(t)){op.toString()in this.pointerMap&&this.cancel(t);var e=pp(t,this.dispatcher);this.pointerMap[op.toString()]=t,this.dispatcher.down(e,t)}}function up(t){if(!this.isEventSimulatedFromTouch_(t)){var e=pp(t,this.dispatcher);this.dispatcher.move(e,t)}}function cp(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[op.toString()];if(e&&e.button===t.button){var n=pp(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function hp(t){if(!this.isEventSimulatedFromTouch_(t)){var e=pp(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function dp(t){if(!this.isEventSimulatedFromTouch_(t)){var e=pp(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function pp(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=op,n.isPrimary=!0,n.pointerType=ap,n}var fp=function(t){function e(e){t.call(this,e,{mousedown:lp,mousemove:up,mouseup:cp,mouseover:hp,mouseout:dp}),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,s=e.length,o=void 0;r<s&&(o=e[r]);r++){var a=Math.abs(n-o[0]),l=Math.abs(i-o[1]);if(a<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=pp(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[op.toString()]},e}(sp),gp=["","unavailable","touch","pen","mouse"];function mp(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function _p(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function yp(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function vp(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function bp(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function wp(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function xp(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function Cp(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var Ep=function(t){function e(e){t.call(this,e,{MSPointerDown:mp,MSPointerMove:_p,MSPointerUp:yp,MSPointerOut:vp,MSPointerOver:bp,MSPointerCancel:wp,MSGotPointerCapture:Cp,MSLostPointerCapture:xp}),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=gp[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(sp);function Sp(t){this.dispatcher.fireNativeEvent(t)}function Tp(t){this.dispatcher.fireNativeEvent(t)}function Op(t){this.dispatcher.fireNativeEvent(t)}function Rp(t){this.dispatcher.fireNativeEvent(t)}function Ip(t){this.dispatcher.fireNativeEvent(t)}function kp(t){this.dispatcher.fireNativeEvent(t)}function Dp(t){this.dispatcher.fireNativeEvent(t)}function Ap(t){this.dispatcher.fireNativeEvent(t)}var Pp=function(t){function e(e){t.call(this,e,{pointerdown:Sp,pointermove:Tp,pointerup:Op,pointerout:Rp,pointerover:Ip,pointercancel:kp,gotpointercapture:Ap,lostpointercapture:Dp})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(sp),Np=!1,Mp=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||Np)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd);function Lp(t,e){return t>e?1:t<e?-1:0}function jp(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function Fp(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Vp(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function Gp(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Up(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function zp(t){this.processTouches_(t,this.moveOverOut_)}function Hp(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Wp(t){this.processTouches_(t,this.cancelOut_)}var Yp=function(t){function e(e,n){t.call(this,e,{touchstart:Up,touchmove:zp,touchend:Hp,touchcancel:Wp}),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.dedupTimeout_=2500}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&op.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var s=0;s<i;++s){var o=this.touchToPointer_(t,n[s]);o.preventDefault=r,e.call(this,t,o)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],s=0;s<i;++s){var o=Number(n[s]),a=this.pointerMap[o];o==op||this.findTouch_(e,o-2)||r.push(a.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,s=i.outTarget;this.dispatcher.move(n,t),r&&s!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=s,r.target=s,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=s,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){var t,n;(n=(t=e).indexOf(i))>-1&&t.splice(n,1)},this.dedupTimeout_)}},e}(sp),Bp=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],Xp=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.registerSources=function(){if(Jd)this.registerSource("native",new Pp(this));else if(tp)this.registerSource("ms",new Ep(this));else{var t=new fp(this);this.registerSource("mouse",t),Qd&&this.registerSource("touch",new Yp(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach((function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}).bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++)this.addEvents_(this.eventSourceList_[e].getEvents())},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++)this.removeEvents_(this.eventSourceList_[e].getEvents())},e.prototype.eventHandler_=function(t){var e=this.eventMap_[t.type];e&&e(t)},e.prototype.addEvents_=function(t){t.forEach((function(t){xd(this.element_,t,this.eventHandler_,this)}).bind(this))},e.prototype.removeEvents_=function(t){t.forEach((function(t){Ed(this.element_,t,this.eventHandler_,this)}).bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=Bp.length;i<r;i++){var s=Bp[i][0];n[s]=t[s]||e[s]||Bp[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(ip.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(ip.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(ip.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(ip.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(ip.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(ip.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(ip.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(ip.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new Mp(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,pp(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(Nd),Kp=function(t){function e(e,n){t.call(this),this.map_=e,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*qd:qd,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new Xp(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=xd(this.pointerEventHandler_,ip.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=xd(this.pointerEventHandler_,ip.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.emulateClick_=function(t){var e=new np(ep.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new np(ep.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new np(ep.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==ep.POINTERUP||e.type==ep.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==ep.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new np(ep.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Sd),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new np(ep.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Xp(document),this.dragListenerKeys_.push(xd(this.documentPointerEventHandler_,ep.POINTERMOVE,this.handlePointerMove_,this),xd(this.documentPointerEventHandler_,ep.POINTERUP,this.handlePointerUp_,this),xd(this.pointerEventHandler_,ep.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new np(ep.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new np(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Sd(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Sd(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Sd),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(Nd),$p={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},qp={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function Zp(t,e){if(!t)throw new dd(e)}var Qp=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};Qp.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,gd(this.queuedElements_)},Qp.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},Qp.prototype.enqueue=function(t){Zp(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},Qp.prototype.getCount=function(){return this.elements_.length},Qp.prototype.getLeftChildIndex_=function(t){return 2*t+1},Qp.prototype.getRightChildIndex_=function(t){return 2*t+2},Qp.prototype.getParentIndex_=function(t){return t-1>>1},Qp.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},Qp.prototype.isEmpty=function(){return 0===this.elements_.length},Qp.prototype.isKeyQueued=function(t){return t in this.queuedElements_},Qp.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},Qp.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],s=n[t],o=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[a]?l:a;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=s,this.siftDown_(o,t)},Qp.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],s=i[e];e>t;){var o=this.getParentIndex_(e);if(!(i[o]>s))break;n[e]=n[o],i[e]=i[o],e=o}n[e]=r,i[e]=s},Qp.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,s=this.priorities_,o=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(s[o]=n,r[o++]=t);r.length=o,s.length=o,this.heapify_()};var Jp=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&xd(e[0],Md.CHANGE,this.handleTileChange,this),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===qp.LOADED||n===qp.ERROR||n===qp.EMPTY||n===qp.ABORT){Ed(e,Md.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,s=0,o=!1;this.tilesLoading_<t&&s<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===qp.ABORT?o=!0:n!==qp.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++s,i.load());0===s&&o&&this.tileChangeCallback_()},e}(Qp),tf=42,ef=256;function nf(t,e,n){return Math.min(Math.max(t,e),n)}var rf=function(){return"cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}}();function sf(t,e,n,i,r,s){var o=r-n,a=s-i;if(0!==o||0!==a){var l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return of(t,e,n,i)}function of(t,e,n,i){var r=n-t,s=i-e;return r*r+s*s}function af(t){return t*Math.PI/180}function lf(t,e){var n=t%e;return n*e<0?n+e:n}function uf(t,e,n){return t+n*(e-t)}function cf(t){return t}function hf(t,e){return void 0!==t?0:void 0}function df(t,e){return void 0!==t?t+e:void 0}function pf(t,e){return t[0]+=e[0],t[1]+=e[1],t}function ff(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=r,t}function gf(t,e){return t[0]*=e,t[1]*=e,t}function mf(t){return Math.pow(t,3)}function _f(t){return 1-mf(1-t)}function yf(t){return 3*t*t-2*t*t*t}function vf(t){return t}var bf={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},wf={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function xf(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)Lf(e,t[n]);return e}function Cf(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Ef(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Sf(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function Tf(t,e){return Rf(t,e[0],e[1])}function Of(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Rf(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function If(t,e){var n=e[0],i=e[1],r=wf.UNKNOWN;return n<t[0]?r|=wf.LEFT:n>t[2]&&(r|=wf.RIGHT),i<t[1]?r|=wf.BELOW:i>t[3]&&(r|=wf.ABOVE),r===wf.UNKNOWN&&(r=wf.INTERSECTING),r}function kf(){return[1/0,1/0,-1/0,-1/0]}function Df(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Af(t){return Df(1/0,1/0,-1/0,-1/0,t)}function Pf(t,e,n,i,r){return jf(Af(r),t,e,n,i)}function Nf(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Mf(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Lf(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function jf(t,e,n,i,r){for(;n<i;n+=r)Ff(t,e[n],e[n+1]);return t}function Ff(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Vf(t,e,n){var i;return(i=e.call(n,Uf(t)))?i:(i=e.call(n,zf(t)))?i:(i=e.call(n,$f(t)))?i:(i=e.call(n,Kf(t)))||!1}function Gf(t){var e=0;return Qf(t)||(e=qf(t)*Bf(t)),e}function Uf(t){return[t[0],t[1]]}function zf(t){return[t[2],t[1]]}function Hf(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Wf(t,e){var n;return e===bf.BOTTOM_LEFT?n=Uf(t):e===bf.BOTTOM_RIGHT?n=zf(t):e===bf.TOP_LEFT?n=Kf(t):e===bf.TOP_RIGHT?n=$f(t):Zp(!1,13),n}function Yf(t,e,n,i,r){var s=e*i[0]/2,o=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),u=s*a,c=s*l,h=o*a,d=o*l,p=t[0],f=t[1],g=p-u+d,m=p-u-d,_=p+u-d,y=p+u+d,v=f-c-h,b=f-c+h,w=f+c+h,x=f+c-h;return Df(Math.min(g,m,_,y),Math.min(v,b,w,x),Math.max(g,m,_,y),Math.max(v,b,w,x),r)}function Bf(t){return t[3]-t[1]}function Xf(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return Zf(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):Af(i),i}function Kf(t){return[t[0],t[3]]}function $f(t){return[t[2],t[3]]}function qf(t){return t[2]-t[0]}function Zf(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Qf(t){return t[2]<t[0]||t[3]<t[1]}var Jf={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},tg={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function eg(t,e,n,i,r,s){for(var o=s||[],a=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];o[a++]=r[0]*u+r[2]*c+r[4],o[a++]=r[1]*u+r[3]*c+r[5]}return s&&o.length!=a&&(o.length=a),o}var ng=6371008.8;function ig(t,e,n){var i=n||ng,r=af(t[1]),s=af(e[1]),o=(s-r)/2,a=af(e[0]-t[0])/2,l=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var rg={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},sg={};sg[rg.DEGREES]=2*Math.PI*6370997/360,sg[rg.FEET]=.3048,sg[rg.METERS]=1,sg[rg.USFEET]=1200/3937;var og=rg,ag=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};ag.prototype.canWrapX=function(){return this.canWrapX_},ag.prototype.getCode=function(){return this.code_},ag.prototype.getExtent=function(){return this.extent_},ag.prototype.getUnits=function(){return this.units_},ag.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||sg[this.units_]},ag.prototype.getWorldExtent=function(){return this.worldExtent_},ag.prototype.getAxisOrientation=function(){return this.axisOrientation_},ag.prototype.isGlobal=function(){return this.global_},ag.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},ag.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},ag.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},ag.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},ag.prototype.setWorldExtent=function(t){this.worldExtent_=t},ag.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},ag.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var lg,ug,cg,hg=ag,dg=6378137,pg=Math.PI*dg,fg=[-pg,-pg,pg,pg],gg=[-180,-85,180,85],mg=function(t){function e(e){t.call(this,{code:e,units:og.METERS,extent:fg,global:!0,worldExtent:gg,getPointResolution:function(t,e){return t/rf(e[1]/dg)}})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(hg),_g=[new mg("EPSG:3857"),new mg("EPSG:102100"),new mg("EPSG:102113"),new mg("EPSG:900913"),new mg("urn:ogc:def:crs:EPSG:6.18:3:3857"),new mg("urn:ogc:def:crs:EPSG::3857"),new mg("http://www.opengis.net/gml/srs/epsg.xml#3857")],yg=[-180,-90,180,90],vg=6378137*Math.PI/180,bg=function(t){function e(e,n){t.call(this,{code:e,units:og.DEGREES,extent:yg,axisOrientation:n,global:!0,metersPerUnit:vg,worldExtent:yg})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(hg),wg=[new bg("CRS:84"),new bg("EPSG:4326","neu"),new bg("urn:ogc:def:crs:EPSG::4326","neu"),new bg("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new bg("urn:ogc:def:crs:OGC:1.3:CRS84"),new bg("urn:ogc:def:crs:OGC:2:84"),new bg("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new bg("urn:x-ogc:def:crs:EPSG:4326","neu")],xg={},Cg={};function Eg(t,e,n){var i=t.getCode(),r=e.getCode();i in Cg||(Cg[i]={}),Cg[i][r]=n}function Sg(t,e,n){var i;if(void 0!==e){for(var r=0,s=t.length;r<s;++r)e[r]=t[r];i=e}else i=t.slice();return i}function Tg(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function Og(t){!function(t,e){xg[t]=e}(t.getCode(),t),Eg(t,t,Sg)}function Rg(t){return"string"==typeof t?xg[t]||null:t||null}function Ig(t,e,n,i){var r,s=(t=Rg(t)).getPointResolutionFunc();if(s)r=s(e,n);else if(t.getUnits()==og.DEGREES&&!i||i==og.DEGREES)r=e;else{var o=Pg(t,Rg("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(ig((a=o(a,a,2)).slice(0,2),a.slice(2,4))+ig(a.slice(4,6),a.slice(6,8)))/2;var l=i?sg[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r}function kg(t){!function(t){t.forEach(Og)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Eg(e,t,Sg)})})}function Dg(t,e){return t?"string"==typeof t?Rg(t):t:Rg(e)}function Ag(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Pg(t,e)===Sg&&n}function Pg(t,e){var n=function(t,e){var n;return t in Cg&&e in Cg[t]&&(n=Cg[t][e]),n}(t.getCode(),e.getCode());return n||(n=Tg),n}function Ng(t,e){return Pg(Rg(t),Rg(e))}kg(_g),kg(wg),lg=_g,ug=function(t,e,n){var i=t.length,r=n>1?n:2,s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(var o=pg,a=0;a<i;a+=r){s[a]=o*t[a]/180;var l=dg*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));l>o?l=o:l<-o&&(l=-o),s[a+1]=l}return s},cg=function(t,e,n){var i=t.length,r=n>1?n:2,s=e;void 0===s&&(s=r>2?t.slice():new Array(i));for(var o=0;o<i;o+=r)s[o]=180*t[o]/pg,s[o+1]=360*Math.atan(Math.exp(t[o+1]/dg))/Math.PI-90;return s},wg.forEach(function(t){lg.forEach(function(e){Eg(t,e,ug),Eg(e,t,cg)})});var Mg=new Array(6);function Lg(){return[1,0,0,1,0,0]}function jg(t){return Vg(t,1,0,0,1,0,0)}function Fg(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],d=e[4],p=e[5];return t[0]=n*l+r*u,t[1]=i*l+s*u,t[2]=n*c+r*h,t[3]=i*c+s*h,t[4]=n*d+r*p+o,t[5]=i*d+s*p+a,t}function Vg(t,e,n,i,r,s,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t}function Gg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ug(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function zg(t,e,n){return Fg(t,Vg(Mg,e,0,0,n,0,0))}function Hg(t,e,n){return Fg(t,Vg(Mg,1,0,0,1,e,n))}function Wg(t,e,n,i,r,s,o,a){var l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=o*i*u-a*i*l+e,t[5]=o*r*l+a*r*u+n,t}var Yg=Lg();function Bg(t){var e;return t==tg.XY?e=2:t==tg.XYZ||t==tg.XYM?e=3:t==tg.XYZM&&(e=4),e}var Xg=function(t){function e(){t.call(this),this.layout=tg.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeExtent=function(t){return Pf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return ld()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(gd(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Bg(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){ld()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=Bg(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=tg.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=tg.XY:3==t?e=tg.XYZ:4==t&&(e=tg.XYZM),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,s,o){for(var a=o||[],l=Math.cos(r),u=Math.sin(r),c=s[0],h=s[1],d=0,p=0;p<n;p+=i){var f=t[p]-c,g=t[p+1]-h;a[d++]=c+f*l-g*u,a[d++]=h+f*u+g*l;for(var m=p+2;m<p+i;++m)a[d++]=t[m]}o&&a.length!=d&&(a.length=d)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=Hf(this.getExtent()));var s=this.getFlatCoordinates();if(s){var o=this.getStride();!function(t,e,n,i,r,s,o,a){for(var l=a||[],u=o[0],c=o[1],h=0,d=0;d<n;d+=i){var p=t[d+1]-c;l[h++]=u+r*(t[d]-u),l[h++]=c+s*p;for(var f=d+2;f<d+i;++f)l[h++]=t[f]}a&&l.length!=h&&(l.length=h)}(s,0,s.length,o,t,i,r,s),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,s,o){for(var a=o||[],l=0,u=0;u<n;u+=i){a[l++]=t[u]+r,a[l++]=t[u+1]+s;for(var c=u+2;c<u+i;++c)a[l++]=t[c]}o&&a.length!=l&&(a.length=l)}(n,0,n.length,i,t,e,n),this.changed()}},e}(function(t){function e(){t.call(this),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return ld()},e.prototype.closestPointXY=function(t,e,n,i){return ld()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return ld()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){ld()},e.prototype.scale=function(t,e,n){ld()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return ld()},e.prototype.getType=function(){return ld()},e.prototype.applyTransform=function(t){ld()},e.prototype.intersectsExtent=function(t){return ld()},e.prototype.translate=function(t,e){ld()},e.prototype.transform=function(t,e){var n=Rg(t),i=n.getUnits()==og.TILE_PIXELS?function(t,i,r){var s=n.getExtent(),o=n.getWorldExtent(),a=Bf(o)/Bf(s);return Wg(Yg,o[0],o[3],a,-a,0,0,0),eg(t,0,t.length,r,Yg,i),Ng(n,e)(t,i,r)}:Ng(n,e);return this.applyTransform(i),this},e}(Gd));function Kg(t,e,n,i){for(var r=0,s=t[n-i],o=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=o*a-s*l,s=a,o=l}return r/2}function $g(t,e,n,i){for(var r=0,s=0,o=n.length;s<o;++s){var a=n[s];r+=Kg(t,e,a,i),e=a}return r}function qg(t,e,n,i,r,s,o){var a,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0===c&&0===h)a=e;else{var d=((r-l)*c+(s-u)*h)/(c*c+h*h);if(d>1)a=n;else{if(d>0){for(var p=0;p<i;++p)o[p]=uf(t[e+p],t[n+p],d);return void(o.length=i)}a=e}}for(var f=0;f<i;++f)o[f]=t[a+f];o.length=i}function Zg(t,e,n,i,r){var s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],l=t[e+1],u=of(s,o,a,l);u>r&&(r=u),s=a,o=l}return r}function Qg(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s];r=Zg(t,e,a,i,r),e=a}return r}function Jg(t,e,n,i,r,s,o,a,l,u,c){if(e==n)return u;var h,d;if(0===r){if((d=of(o,a,t[e],t[e+1]))<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,d}return u}for(var p=c||[NaN,NaN],f=e+i;f<n;)if(qg(t,f-i,f,i,o,a,p),(d=of(o,a,p[0],p[1]))<u){for(u=d,h=0;h<i;++h)l[h]=p[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(s&&(qg(t,n-i,e,i,o,a,p),(d=of(o,a,p[0],p[1]))<u)){for(u=d,h=0;h<i;++h)l[h]=p[h];l.length=i}return u}function tm(t,e,n,i,r,s,o,a,l,u,c){for(var h=c||[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];u=Jg(t,e,f,i,r,s,o,a,l,u,h),e=f}return u}function em(t,e,n,i){for(var r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function nm(t,e,n,i){for(var r=0,s=n.length;r<s;++r)for(var o=n[r],a=0;a<i;++a)t[e++]=o[a];return e}function im(t,e,n,i,r){for(var s=r||[],o=0,a=0,l=n.length;a<l;++a){var u=nm(t,e,n[a],i);s[o++]=u,e=u}return s.length=o,s}function rm(t,e,n,i,r){for(var s=void 0!==r?r:[],o=0,a=e;a<n;a+=i)s[o++]=t.slice(a,a+i);return s.length=o,s}function sm(t,e,n,i,r){for(var s=void 0!==r?r:[],o=0,a=0,l=n.length;a<l;++a){var u=n[a];s[o++]=rm(t,e,u,i,s[o]),e=u}return s.length=o,s}function om(t,e,n,i,r){for(var s=void 0!==r?r:[],o=0,a=0,l=n.length;a<l;++a){var u=n[a];s[o++]=sm(t,e,u,i,s[o]),e=u[u.length-1]}return s.length=o,s}function am(t,e,n,i,r,s,o){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}var l=new Array(a);l[0]=1,l[a-1]=1;for(var u=[e,n-i],c=0;u.length>0;){for(var h=u.pop(),d=u.pop(),p=0,f=t[d],g=t[d+1],m=t[h],_=t[h+1],y=d+i;y<h;y+=i){var v=sf(t[y],t[y+1],f,g,m,_);v>p&&(c=y,p=v)}p>r&&(l[(c-e)/i]=1,d+i<c&&u.push(d,c),c+i<h&&u.push(c,h))}for(var b=0;b<a;++b)l[b]&&(s[o++]=t[e+b*i],s[o++]=t[e+b*i+1]);return o}function lm(t,e){return e*Math.round(t/e)}function um(t,e,n,i,r,s,o){if(e==n)return o;var a,l,u=lm(t[e],r),c=lm(t[e+1],r);e+=i,s[o++]=u,s[o++]=c;do{if(a=lm(t[e],r),l=lm(t[e+1],r),(e+=i)==n)return s[o++]=a,s[o++]=l,o}while(a==u&&l==c);for(;e<n;){var h=lm(t[e],r),d=lm(t[e+1],r);if(e+=i,h!=a||d!=l){var p=a-u,f=l-c,g=h-u,m=d-c;p*m==f*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(f<0&&m<f||f==m||f>0&&m>f)?(a=h,l=d):(s[o++]=a,s[o++]=l,u=a,c=l,a=h,l=d)}}return s[o++]=a,s[o++]=l,o}function cm(t,e,n,i,r,s,o,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];o=um(t,e,c,i,r,s,o),a.push(o),e=c}return o}var hm=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Sf(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Kg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=am(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,tg.XY)},e.prototype.getType=function(){return Jf.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nm(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Xg),dm=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,s=of(t,e,r[0],r[1]);if(s<i){for(var o=this.stride,a=0;a<o;++a)n[a]=r[a];return n.length=o,s}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Df(n=(e=this.flatCoordinates)[0],i=e[1],n,i,t);var e,n,i},e.prototype.getType=function(){return Jf.POINT},e.prototype.intersectsExtent=function(t){return Rf(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=em(this.flatCoordinates,0,t),this.changed()},e}(Xg);function pm(t,e,n,i,r){return!Vf(r,function(r){return!fm(t,e,n,i,r[0],r[1])})}function fm(t,e,n,i,r,s){for(var o=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(r-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(r-a)*(c-l)<0&&o--,a=u,l=c}return 0!==o}function gm(t,e,n,i,r,s){if(0===n.length)return!1;if(!fm(t,e,n[0],i,r,s))return!1;for(var o=1,a=n.length;o<a;++o)if(fm(t,n[o-1],n[o],i,r,s))return!1;return!0}function mm(t,e,n,i,r,s,o){for(var a,l,u,c,h,d,p,f=r[s+1],g=[],m=0,_=n.length;m<_;++m){var y=n[m];for(c=t[y-i],d=t[y-i+1],a=e;a<y;a+=i)h=t[a],p=t[a+1],(f<=d&&p<=f||d<=f&&f<=p)&&g.push(u=(f-d)/(p-d)*(h-c)+c),c=h,d=p}var v=NaN,b=-1/0;for(g.sort(Lp),c=g[0],a=1,l=g.length;a<l;++a){h=g[a];var w=Math.abs(h-c);w>b&&gm(t,e,n,i,u=(c+h)/2,f)&&(v=u,b=w),c=h}return isNaN(v)&&(v=r[s]),o?(o.push(v,f,b),o):[v,f,b]}function _m(t,e,n,i,r,s){for(var o,a=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],o=r.call(s,a,l))return o;a[0]=l[0],a[1]=l[1]}return!1}function ym(t,e,n,i,r){var s=jf([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Zf(r,s)&&(!!Of(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]||_m(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,r=If(t,e),s=If(t,n);if(r===wf.INTERSECTING||s===wf.INTERSECTING)i=!0;else{var o,a,l=t[0],u=t[1],c=t[2],h=t[3],d=n[0],p=n[1],f=(p-e[1])/(d-e[0]);s&wf.ABOVE&&!(r&wf.ABOVE)&&(i=(o=d-(p-h)/f)>=l&&o<=c),i||!(s&wf.RIGHT)||r&wf.RIGHT||(i=(a=p-(d-c)*f)>=u&&a<=h),i||!(s&wf.BELOW)||r&wf.BELOW||(i=(o=d-(p-u)/f)>=l&&o<=c),i||!(s&wf.LEFT)||r&wf.LEFT||(i=(a=p-(d-l)*f)>=u&&a<=h)}return i}(r,t,e)}))}function vm(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(ym(t,e,n,i,r)||fm(t,e,n,i,r[0],r[1])||fm(t,e,n,i,r[0],r[3])||fm(t,e,n,i,r[2],r[1])||fm(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var s=1,o=n.length;s<o;++s)if(pm(t,n[s-1],n[s],i,r)&&!ym(t,n[s-1],n[s],i,r))return!1;return!0}function bm(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function wm(t,e,n,i){for(var r=0,s=t[n-i],o=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return r>0}function xm(t,e,n,i,r){for(var s=void 0!==r&&r,o=0,a=n.length;o<a;++o){var l=n[o],u=wm(t,e,l,i);if(0===o){if(s&&u||!s&&!u)return!1}else if(s&&!u||!s&&u)return!1;e=l}return!0}function Cm(t,e,n,i,r){for(var s=void 0!==r&&r,o=0,a=n.length;o<a;++o){var l=n[o],u=wm(t,e,l,i);(0===o?s&&u||!s&&!u:s&&!u||!s&&u)&&bm(t,e,l,i),e=l}return e}function Em(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s)e=Cm(t,e,n[s],i,r);return e}var Sm=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Vp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Sf(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return gm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return $g(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Cm(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,sm(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Hf(this.getExtent());this.flatInteriorPoint_=mm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new dm(this.getFlatInteriorPoint(),tg.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new hm(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,s=0,o=n.length;s<o;++s){var a=n[s],l=new hm(e.slice(r,a),t);i.push(l),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;xm(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Cm(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=cm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,tg.XY,i)},e.prototype.getType=function(){return Jf.POLYGON},e.prototype.intersectsExtent=function(t){return vm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=im(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Xg),Tm=Sm;function Om(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new Sm(s,tg.XY,[s.length])}function Rm(t,e){setTimeout(function(){t(e)},0)}function Im(t){return!(t.sourceCenter&&t.targetCenter&&!function(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}var km=function(t){function e(e){t.call(this);var n=fd({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Dg(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.applyOptions_=function(t){var e={};e.center=void 0!==t.center?t.center:null;var n=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,o=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var a=t.resolutions;n=a[r],i=void 0!==a[s]?a[s]:a[a.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=jp(t,e,i);r=nf(r+n,0,t.length-1);var s=Math.floor(r);return r!=s&&s<t.length-1?t[s]/Math.pow(t[s]/t[s+1],r-s):t[s]}}}(a)}else{var l=Dg(t.projection,"EPSG:3857"),u=l.getExtent(),c=(u?Math.max(qf(u),Bf(u)):360*sg[og.DEGREES]/l.getMetersPerUnit())/ef/Math.pow(2,0),h=c/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=c/Math.pow(o,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(o,s):c/Math.pow(o,s):h),s=r+Math.floor(Math.log(n/i)/Math.log(o)),i=n/Math.pow(o,s-r),e=function(t,e,n){return function(i,r,s){if(void 0!==i){var o=-s/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+o),l=Math.max(a+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}(o,n,s-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:o}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[nf(t[0],e[0],e[2]),nf(t[1],e[1],e[3])]:void 0}):cf;var e}(t),r=n.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=af(5),function(t,e){return void 0!==t?Math.abs(t+e)<=i?0:t+e:void 0}):!1===e?df:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return void 0!==t?t=Math.floor((t+e)/n+.5)*n:void 0}):df}return hf;var n,i}(t);this.constraints_={center:i,resolution:r,rotation:s},void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e.resolution=nf(Number(this.getResolution()||e.resolution),this.minResolution_,this.maxResolution_))),e.rotation=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=fd({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),fd({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Rm(e,!0))}for(var s=Date.now(),o=this.getCenter().slice(),a=this.getResolution(),l=this.getRotation(),u=[],c=0;c<i;++c){var h=n[c],d={start:s,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||yf};if(h.center&&(d.sourceCenter=o,d.targetCenter=h.center,o=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=a,d.targetResolution=this.constrainResolution(this.maxResolution_,h.zoom-this.minZoom_,0),a=d.targetResolution):h.resolution&&(d.sourceResolution=a,d.targetResolution=h.resolution,a=d.targetResolution),void 0!==h.rotation){d.sourceRotation=l;var p=lf(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+p,l=d.targetRotation}d.callback=e,Im(d)?d.complete=!0:s+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&Rm(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,s=0,o=i.length;s<o;++s){var a=i[s];if(!a.complete){var l=a.duration>0?(t-a.start)/a.duration:1;l>=1?(a.complete=!0,l=1):r=!1;var u=a.easing(l);if(a.sourceCenter){var c=a.sourceCenter[0],h=a.sourceCenter[1];this.set("center",[c+u*(a.targetCenter[0]-c),h+u*(a.targetCenter[1]-h)])}if(a.sourceResolution&&a.targetResolution){var d=1===u?a.targetResolution:a.sourceResolution+u*(a.targetResolution-a.sourceResolution);a.anchor&&this.set("center",this.calculateCenterZoom(d,a.anchor)),this.set("resolution",d)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var p=1===u?lf(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+u*(a.targetRotation-a.sourceRotation);a.anchor&&this.set("center",this.calculateCenterRotate(p,a.anchor)),this.set("rotation",p)}if(e=!0,!a.complete)break}}if(r){this.animations_[n]=null,this.setHint(0,-1);var f=i[0].callback;f&&Rm(f,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(ff(n=[i[0]-e[0],i[1]-e[1]],t-this.getRotation()),pf(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+cd(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){return this.constraints_.resolution(t,e||0,n||0)},e.prototype.constrainRotation=function(t,e){return this.constraints_.rotation(t,e||0)},e.prototype.getCenter=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Zp(n,1);var i=this.getResolution();Zp(void 0!==i,2);var r=this.getRotation();return Zp(void 0!==r,3),Yf(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=qf(t)/n[0],r=Bf(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,s=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:s,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=jp(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),Zp(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Zp(!Qf(t),25),n=Om(t)):t.getType()===Jf.CIRCLE?(n=Om(t=t.getExtent())).rotate(this.getRotation(),Hf(t)):n=t;var s,o=void 0!==i.padding?i.padding:[0,0,0,0],a=void 0===i.constrainResolution||i.constrainResolution,l=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var u=n.getFlatCoordinates(),c=this.getRotation(),h=Math.cos(-c),d=Math.sin(-c),p=1/0,f=1/0,g=-1/0,m=-1/0,_=n.getStride(),y=0,v=u.length;y<v;y+=_){var b=u[y]*h-u[y+1]*d,w=u[y]*d+u[y+1]*h;p=Math.min(p,b),f=Math.min(f,w),g=Math.max(g,b),m=Math.max(m,w)}var x=this.getResolutionForExtent([p,f,g,m],[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);if(x=isNaN(x)?s:Math.max(x,s),a){var C=this.constrainResolution(x,0,0);!l&&C<x&&(C=this.constrainResolution(C,-1,0)),x=C}var E=(p+g)/2,S=(f+m)/2,T=[(E+=(o[1]-o[3])/2*x)*h-(S+=(o[0]-o[2])/2*x)*(d=-d),S*h+E*d],O=i.callback?i.callback:kd;void 0!==i.duration?this.animate({resolution:x,center:T,duration:i.duration,easing:i.easing},O):(this.setResolution(x),this.setCenter(T),Rm(O,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),s=Math.sin(-i),o=t[0]*r-t[1]*s,a=t[1]*r+t[0]*s,l=this.getResolution();this.setCenter([(o+=(e[0]/2-n[0])*l)*r-(a+=(n[1]-e[1]/2)*l)*(s=-s),a*r+o*s])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set("center",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set("resolution",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set("rotation",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(Gd);function Dm(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Am(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Pm(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var Nm={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},Mm=function(t){function e(e){t.call(this);var n=fd({},e);n[Nm.OPACITY]=void 0!==e.opacity?e.opacity:1,n[Nm.VISIBLE]=void 0===e.visible||e.visible,n[Nm.Z_INDEX]=e.zIndex,n[Nm.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[Nm.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=nf(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return ld()},e.prototype.getLayerStatesArray=function(t){return ld()},e.prototype.getExtent=function(){return this.get(Nm.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Nm.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Nm.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(Nm.OPACITY)},e.prototype.getSourceState=function(){return ld()},e.prototype.getVisible=function(){return this.get(Nm.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Nm.Z_INDEX)},e.prototype.setExtent=function(t){this.set(Nm.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Nm.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Nm.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(Nm.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Nm.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Nm.Z_INDEX,t)},e}(Gd),Lm={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},jm={LAYERS:"layers"},Fm=function(t){function e(e){var n=e||{},i=fd({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},xd(this,Vd(jm.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new zd(r.slice(),{unique:!0}):Zp("function"==typeof r.getArray,43):r=new zd(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Sd),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(xd(t,pd.ADD,this.handleLayersAdd_,this),xd(t,pd.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Sd);gd(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var s=n[i];this.listenerKeys_[cd(s)]=[xd(s,"propertychange",this.handleLayerChange_,this),xd(s,Md.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[cd(e)]=[xd(e,"propertychange",this.handleLayerChange_,this),xd(e,Md.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=cd(t.element);this.listenerKeys_[e].forEach(Sd),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(jm.LAYERS)},e.prototype.setLayers=function(t){this.set(jm.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,s=e.length;r<s;r++){var o=e[r];o.opacity*=i.opacity,o.visible=o.visible&&i.visible,o.maxResolution=Math.min(o.maxResolution,i.maxResolution),o.minResolution=Math.max(o.minResolution,i.minResolution),void 0!==i.extent&&(o.extent=void 0!==o.extent?Xf(o.extent,i.extent):i.extent)}return e},e.prototype.getSourceState=function(){return Lm.READY},e}(Mm);function Vm(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}var Gm=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,s={},o=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Fm({layers:t.layers});return s[$p.LAYERGROUP]=o,s[$p.TARGET]=t.target,s[$p.VIEW]=void 0!==t.view?t.view:new km,void 0!==t.controls&&(Array.isArray(t.controls)?n=new zd(t.controls.slice()):(Zp("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new zd(t.interactions.slice()):(Zp("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new zd(t.overlays.slice()):(Zp("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new zd,{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:qd,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}).bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(Qd?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[Md.CLICK,Md.DBLCLICK,Md.MOUSEDOWN,Md.TOUCHSTART,Md.MSPOINTERDOWN,ep.POINTERDOWN,Md.MOUSEWHEEL,Md.WHEEL],r=0,s=i.length;r<s;++r)xd(this.overlayContainerStopEvent_,i[r],Ad);for(var o in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new Kp(this,e.moveTolerance),ep)xd(this.mapBrowserEventHandler_,ep[o],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,xd(this.viewport_,Md.CONTEXTMENU,this.handleBrowserEvent,this),xd(this.viewport_,Md.WHEEL,this.handleBrowserEvent,this),xd(this.viewport_,Md.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new zd,this.interactions=n.interactions||new zd,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Jp(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},xd(this,Vd($p.LAYERGROUP),this.handleLayerGroupChanged_,this),xd(this,Vd($p.VIEW),this.handleViewChanged_,this),xd(this,Vd($p.SIZE),this.handleSizeChanged_,this),xd(this,Vd($p.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach((function(t){t.setMap(this)}).bind(this)),xd(this.controls,pd.ADD,function(t){t.element.setMap(this)},this),xd(this.controls,pd.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach((function(t){t.setMap(this)}).bind(this)),xd(this.interactions,pd.ADD,function(t){t.element.setMap(this)},this),xd(this.interactions,pd.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),xd(this.overlays_,pd.ADD,function(t){this.addOverlayInternal_(t.element)},this),xd(this.overlays_,pd.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Ed(this.viewport_,Md.CONTEXTMENU,this.handleBrowserEvent,this),Ed(this.viewport_,Md.WHEEL,this.handleBrowserEvent,this),Ed(this.viewport_,Md.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(Md.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,e,null,void 0!==n.layerFilter?n.layerFilter:Rd,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,e,null,i.layerFilter||Rd,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:Rd,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get($p.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Ug(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get($p.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Ug(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get($p.SIZE)},e.prototype.getView=function(){return this.get($p.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var s=n[0]-r.focus[0],o=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(s*s+o*o)/i},e.prototype.handleBrowserEvent=function(t,e){var n=new Wd(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[0]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[1]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var s=r.getSource();if(s&&s.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var s=this.postRenderFunctions_,o=0,a=s.length;o<a;++o)s[o](this,t);s.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Sd(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[xd(i,Md.KEYDOWN,this.handleBrowserEvent,this),xd(i,Md.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(Md.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Pm(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(Md.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Sd(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Sd(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",cd(t)),this.viewPropertyListenerKey_=xd(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=xd(t,Md.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Sd),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[xd(t,"propertychange",this.render,this),xd(t,Md.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=[1/0,1/0,-1/0,-1/0],s=this.frameState_,o=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&i&&i.isDef()){for(var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),u={},c=0,h=l.length;c<h;++c)u[cd(l[c].layer)]=l[c];e=i.getState(this.pixelRatio_),o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:u,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}o&&(o.extent=Yf(e.center,e.resolution,e.rotation,o.size,r)),this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),s&&(!this.previousExtent_||!Qf(this.previousExtent_)&&!Nf(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Hd("movestart",this,s)),this.previousExtent_=Af(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!Nf(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Hd("moveend",this,o)),Ef(o.extent,this.previousExtent_))),this.dispatchEvent(new Hd("postrender",this,o)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set($p.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set($p.SIZE,t)},e.prototype.setTarget=function(t){this.set($p.TARGET,t)},e.prototype.setView=function(t){this.set($p.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[cd(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[cd(t)],this.render()},e}(Gd),Um=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:kd,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){Pm(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Pm(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Sd(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==kd&&this.listenerKeys.push(xd(t,"postrender",this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(Gd),zm="ol-hidden",Hm="ol-unselectable",Wm="ol-unsupported",Ym="ol-control",Bm="ol-collapsed",Xm=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}();function Km(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}var $m=function(t){function e(e){var n=fd({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),xd(this,Vd(Nm.SOURCE),this.handleSourcePropertyChange_,this),this.setSource(e.source?e.source:null)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(Nm.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Lm.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Sd(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=xd(t,Md.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Sd(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Sd(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=xd(t,"precompose",function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[cd(this)]=n},this),this.mapRenderKey_=xd(this,Md.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Nm.SOURCE,t)},e}(Mm);function qm(t){this.updateElement_(t.frameState)}var Zm=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||qm,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",s=void 0!==n.collapseLabel?n.collapseLabel:"\xbb";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var o=void 0!==n.label?n.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=r,l.appendChild(a),xd(l,Md.CLICK,this.handleClick_,this);var u=this.element;u.className=i+" "+Hm+" "+Ym+(this.collapsed_&&this.collapsible_?" "+Bm:"")+(this.collapsible_?"":" ol-uncollapsible"),u.appendChild(this.ulElement_),u.appendChild(l),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,s=0,o=i.length;s<o;++s){var a=i[s];if(Km(a,r)){var l=a.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,d=c.length;h<d;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Gp(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var s=document.createElement("li");s.innerHTML=e[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Bm),this.collapsed_?Am(this.collapseLabel_,this.label_):Am(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Um);function Qm(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(zm);r||0!==n?r&&0!==n&&this.element.classList.remove(zm):this.element.classList.add(zm)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var Jm=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||Qm,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"\u21e7";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var s=n.tipLabel?n.tipLabel:"Reset rotation",o=document.createElement("button");o.className=i+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),xd(o,Md.CLICK,this.handleClick_,this);var a=this.element;a.className=i+" "+Hm+" "+Ym,a.appendChild(o),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(zm)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:_f}):t.setRotation(0))},e}(Um),t_=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,s=void 0!==n.zoomInLabel?n.zoomInLabel:"+",o=void 0!==n.zoomOutLabel?n.zoomOutLabel:"\u2212",a=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",l=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i+"-in",u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof s?document.createTextNode(s):s),xd(u,Md.CLICK,this.handleClick_.bind(this,r));var c=document.createElement("button");c.className=i+"-out",c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof o?document.createTextNode(o):o),xd(c,Md.CLICK,this.handleClick_.bind(this,-r));var h=this.element;h.className=i+" "+Hm+" "+Ym,h.appendChild(u),h.appendChild(c),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:_f})):e.setResolution(i)}}},e}(Um);function e_(t){var e=t||{},n=new zd;return(void 0===e.zoom||e.zoom)&&n.push(new t_(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Jm(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Zm(e.attributionOptions)),n}var n_=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};n_.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n_.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n_.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],s=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/i,this.initialVelocity_>this.minVelocity_},n_.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n_.prototype.getAngle=function(){return this.angle_};var i_=n_,r_={ACTIVE:"active"};function s_(t,e,n,i){e=t.constrainRotation(e,0),o_(t,e,n,i)}function o_(t,e,n,i){if(void 0!==e){var r=t.getRotation(),s=t.getCenter();void 0!==r&&s&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:_f}):t.rotate(e,n)}}function a_(t,e,n,i){var r=t.getResolution(),s=t.constrainResolution(r,e,0);if(void 0!==s){var o=t.getResolutions();s=nf(s,t.getMinResolution()||o[o.length-1],t.getMaxResolution()||o[0])}if(n&&void 0!==s&&s!==r){var a=t.getCenter(),l=t.calculateCenterZoom(s,n);l=t.constrainCenter(l),n=[(s*a[0]-r*l[0])/(s-r),(s*a[1]-r*l[1])/(s-r)]}l_(t,s,n,i)}function l_(t,e,n,i){if(e){var r=t.getResolution(),s=t.getCenter();if(void 0!==r&&s&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:_f});else{if(n){var o=t.calculateCenterZoom(e,n);t.setCenter(o)}t.setResolution(e)}}}var u_=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getActive=function(){return this.get(r_.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(r_.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(Gd);function c_(t){var e=!1;if(t.type==ep.DBLCLICK){var n=t.coordinate,i=t.originalEvent.shiftKey?-this.delta_:this.delta_;a_(t.map.getView(),i,n,this.duration_),t.preventDefault(),e=!0}return!e}var h_=function(t){function e(e){t.call(this,{handleEvent:c_});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(u_),d_=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},p_=function(t){return t.target.getTargetElement()===document.activeElement},f_=Rd,g_=function(t){var e=t.originalEvent;return 0==e.button&&!(Kd&&$d&&e.ctrlKey)},m_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},__=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},y_=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},v_=function(t){var e=t.pointerEvent;return Zp(void 0!==e,56),"mouse"==e.pointerType};function b_(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var w_=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ep.POINTERDRAG)this.handleDragEvent(t);else if(t.type==ep.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==ep.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==ep.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===ep.POINTERDOWN||e===ep.POINTERDRAG||e===ep.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==ep.POINTERUP?delete this.trackedPointers_[n]:t.type==ep.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=md(this.trackedPointers_)}},e}(u_),x_=function(t){function e(e){t.call(this,{stopDown:Id});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.panning_=!1,this.condition_=n.condition?n.condition:m_,this.noKinetic_=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(1,1));var e=this.targetPointers,n=b_(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],s=t.map.getView(),o=[i,r];gf(o,s.getResolution()),ff(o,s.getRotation()),pf(o,s.getCenter()),o=s.constrainCenter(o),s.setCenter(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),s=n.getCenter(),o=e.getPixelFromCoordinate(s),a=e.getCoordinateFromPixel([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:_f})}return this.panning_&&(this.panning_=!1,n.setHint(1,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(w_),C_=function(t){function e(e){var n=e||{};t.call(this,{stopDown:Id}),this.condition_=n.condition?n.condition:d_,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){if(v_(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==hf){var i=e.getSize(),r=t.pixel,s=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var o=s-this.lastAngle_,a=n.getRotation();o_(n,a-o)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!v_(t))return!0;var e=t.map.getView();e.setHint(1,-1);var n=e.getRotation();return s_(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!v_(t)||!g_(t)||!this.condition_(t)||(t.map.getView().setHint(1,1),this.lastAngle_=void 0,0))},e}(w_),E_=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Tm([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Od),S_=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd);function T_(){var t,e=this.getMap(),n=e.getView(),i=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var s=n.calculateExtent(i),o=(t=[e.getPixelFromCoordinate(Uf(r)),e.getPixelFromCoordinate($f(r))],function(t,e){for(var n=0,i=e.length;n<i;++n)Lf(t,e[n]);return t}(Af(void 0),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(s,1/n.getResolutionForExtent(o,i)),r=s}var a=n.constrainResolution(n.getResolutionForExtent(r,i)),l=Hf(r);l=n.constrainCenter(l),n.animate({resolution:a,center:l,duration:this.duration_,easing:_f})}var O_=function(t){function e(e){var n=e||{};t.call(this,{condition:n.condition?n.condition:__,className:n.className||"ol-dragzoom",onBoxEnd:T_}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new E_(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:kd,this.startPixel_=null,this.condition_=n.condition?n.condition:f_,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){v_(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new S_("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!v_(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new S_("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!v_(t)||!g_(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new S_("boxstart",t.coordinate,t)),0))},e}(w_)),R_={LEFT:37,UP:38,RIGHT:39,DOWN:40};function I_(t){var e=!1;if(t.type==Md.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==R_.DOWN||n==R_.LEFT||n==R_.RIGHT||n==R_.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,s=0,o=0;n==R_.DOWN?o=-r:n==R_.LEFT?s=-r:n==R_.RIGHT?s=r:o=r;var a=[s,o];ff(a,i.getRotation()),function(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:vf,center:r}):t.setCenter(r)}}(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var k_=function(t){function e(e){t.call(this,{handleEvent:I_});var n=e||{};this.defaultCondition_=function(t){return m_(t)&&y_(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(u_);function D_(t){var e=!1;if(t.type==Md.KEYDOWN||t.type==Md.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;a_(i.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var A_=function(t){function e(e){t.call(this,{handleEvent:D_});var n=e||{};this.condition_=n.condition?n.condition:y_,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(u_),P_=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:f_,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(1,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==Md.WHEEL&&e!==Md.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Md.WHEEL?(n=r.deltaY,Bd&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=qd),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==Md.MOUSEWHEEL&&(n=-r.wheelDeltaY,Xd&&(n/=3)),0===n)return!1;var s=Date.now();if(void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel"),"trackpad"===this.mode_){var o=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):o.setHint(1,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=o.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=o.getMinResolution(),u=o.getMaxResolution(),c=0;if(a<l?(a=Math.max(a,l/this.trackpadZoomBuffer_),c=1):a>u&&(a=Math.min(a,u*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var h=o.calculateCenterZoom(a,this.lastAnchor_);o.setCenter(o.constrainCenter(h))}return o.setResolution(a),0===c&&this.constrainResolution_&&o.animate({resolution:o.constrainResolution(a,n>0?-1:1),easing:_f,anchor:this.lastAnchor_,duration:this.duration_}),c>0?o.animate({resolution:l,easing:_f,anchor:this.lastAnchor_,duration:500}):c<0&&o.animate({resolution:u,easing:_f,anchor:this.lastAnchor_,duration:500}),this.startTime_=s,!1}this.delta_+=n;var d=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),a_(e,-nf(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(u_),N_=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Id),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=r;var o=t.map,a=o.getView();if(a.getConstraints().rotation!==hf){var l=o.getViewport().getBoundingClientRect(),u=b_(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=o.getCoordinateFromPixel(u),this.rotating_){var c=a.getRotation();o.render(),o_(a,c+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(1,-1),this.rotating_){var n=e.getRotation();s_(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(1,1),!0}return!1},e}(w_),M_=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Id),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,s=n.clientY-i.clientY,o=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;var a=t.map,l=a.getView(),u=l.getResolution(),c=l.getMaxResolution(),h=l.getMinResolution(),d=u*e;d>c?(e=c/u,d=c):d<h&&(e=h/u,d=h),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),f=b_(this.targetPointers);f[0]-=p.left,f[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(f),a.render(),l_(l,d,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(1,-1);var n=e.getResolution();return(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution())&&function(t,e,n,i,r){e=t.constrainResolution(e,0,r),l_(t,e,n,i)}(e,n,this.anchor_,this.duration_,this.lastScaleDelta_-1),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(1,1),!0}return!1},e}(w_),L_=.5,j_={IDLE:0,LOADING:1,LOADED:2,ERROR:3},F_=function(t){function e(e,n,i,r,s){t.call(this,e,n,i,void 0!==s?j_.IDLE:j_.LOADED),this.loader_=void 0!==s?s:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=j_.ERROR):this.state=j_.LOADED,this.changed()},e.prototype.load=function(){this.state==j_.IDLE&&(this.state=j_.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){this.dispatchEvent(Md.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return ld()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){ld()},e}(Nd)),V_={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},G_={IMAGE:"image",VECTOR:"vector"},U_=function(t){function e(e,n,i,r,s){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=s}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),z_=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(Md.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Zp(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Zp(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Zp(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(Nd),H_=[0,0,0,1],W_=[],Y_=[0,0,0,1],B_=[0,0,0,0],X_=new z_,K_={},$_=null,q_={},Z_=function(){var t,e,n=60,i=K_,r="32px ",s=["monospace","serif"],o=s.length,a="wmytzilWMYTZIL@#/&?$%10\uf013";function l(t){for(var n=Q_(),i=100;i<=700;i+=300){for(var l=i+" ",u=!0,c=0;c<o;++c){var h=s[c];if(n.font=l+r+h,e=n.measureText(a).width,t!=h){n.font=l+r+t+","+h;var d=n.measureText(a).width;u=u&&d!=e}}if(u)return!0}return!1}function u(){var e=!0;for(var r in i)i[r]<n&&(l(r)?(i[r]=n,gd(q_),$_=null,X_.clear()):(++i[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=Xm(e);if(r)for(var s=0,o=r.length;s<o;++s){var a=r[s];a in i||(i[a]=n,l(a)||(i[a]=0,void 0===t&&(t=setInterval(u,32))))}}}();function Q_(){return $_||($_=Dm(1,1)),$_}var J_=function(){var t,e=q_;return function(n){var i=e[n];return null==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}();function ty(t,e){var n=Q_();return t!=n.font&&(n.font=t),n.measureText(e).width}function ey(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var ny=Lg();function iy(t,e,n,i,r,s,o,a,l,u,c){var h;1!=n&&(t.globalAlpha=(h=t.globalAlpha)*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,s,o,a,l,u,o*c,a*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,ny)}function ry(t){return"string"==typeof t?t:sy(t)}function sy(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function oy(t){return Array.isArray(t)?sy(t):t}var ay=function(){};ay.prototype.drawCustom=function(t,e,n){},ay.prototype.drawGeometry=function(t){},ay.prototype.setStyle=function(t){},ay.prototype.drawCircle=function(t,e){},ay.prototype.drawFeature=function(t,e){},ay.prototype.drawGeometryCollection=function(t,e){},ay.prototype.drawLineString=function(t,e){},ay.prototype.drawMultiLineString=function(t,e){},ay.prototype.drawMultiPoint=function(t,e){},ay.prototype.drawMultiPolygon=function(t,e){},ay.prototype.drawPoint=function(t,e){},ay.prototype.drawPolygon=function(t,e){},ay.prototype.drawText=function(t,e){},ay.prototype.setFillStrokeStyle=function(t,e){},ay.prototype.setImageStyle=function(t,e){},ay.prototype.setTextStyle=function(t,e){};var ly=ay,uy=function(t){function e(e,n,i,r,s){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=eg(t,e,n,2,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,a=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var h=r[u]-this.imageAnchorX_,d=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var p=h+this.imageAnchorX_,f=d+this.imageAnchorY_;Wg(o,p,f,this.imageScale_,this.imageScale_,l,-p,-f),s.setTransform.apply(s,o)}s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||s.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(s.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=eg(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.textRotation_;for(this.textRotateWithView_&&(o+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==o||1!=this.textScale_){var u=Wg(this.tmpLocalTransform_,a,l,this.textScale_,this.textScale_,o,-a,-l);s.setTransform.apply(s,u)}this.textStrokeState_&&s.strokeText(this.text_,a,l),this.textFillState_&&s.fillText(this.text_,a,l)}0===o&&1==this.textScale_||s.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var s=this.context_,o=eg(t,e,n,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);var a=o.length;r&&(a-=2);for(var l=2;l<a;l+=2)s.lineTo(o[l],o[l+1]);return r&&s.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,s=n.length;r<s;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Zf(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return eg(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Jf.POINT:this.drawPoint(t);break;case Jf.LINE_STRING:this.drawLineString(t);break;case Jf.POLYGON:this.drawPolygon(t);break;case Jf.MULTI_POINT:this.drawMultiPoint(t);break;case Jf.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Jf.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Jf.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Jf.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Zf(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Zf(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Zf(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,s=t.getEnds(),o=t.getStride();n.beginPath();for(var a=0,l=s.length;a<l;++a)r=this.moveToLineTo_(i,r,s[a],o,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(Zf(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Zf(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var o=0,a=r.length;o<a;++o)i=this.drawRings_(n,i,r[o],s);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),Zd&&(Gp(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,Zd&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:oy(n||H_)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),s=e.getLineDash(),o=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:s||W_,lineDashOffset:o||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==u?u:10,strokeStyle:oy(i||Y_)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:oy(n||H_)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),s=i.getLineCap(),o=i.getLineDash(),a=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:"round",lineDash:o||W_,lineDashOffset:a||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:oy(r||Y_)}}else this.textStrokeState_=null;var h=t.getFont(),d=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScale(),_=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==v?v:"middle"},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""},e}(ly),cy=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function hy(t,e,n){return e+":"+t+":"+(n?ry(n):"null")}cy.prototype.clear=function(){this.cache_={},this.cacheSize_=0},cy.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},cy.prototype.get=function(t,e,n){var i=hy(t,e,n);return i in this.cache_?this.cache_[i]:null},cy.prototype.set=function(t,e,n,i){var r=hy(t,e,n);this.cache_[r]=i,++this.cacheSize_},cy.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var dy=new cy;function py(t,e){dy.expire()}function fy(t,e){return t.zIndex-e.zIndex}var gy=[],my=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Dm(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Hm,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,s=e.pixelRatio,o=e.viewState.rotation,a=this.getTransform(e),l=new uy(i,s,r,a,o),u=new U_(t,l,e,i,null);n.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,n=t.pixelRatio/e.resolution;return Wg(this.transform_,this.canvas_.width/2,this.canvas_.height/2,n,-n,-e.rotation,-e.center[0],-e.center[1])},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var s=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent("precompose",t);var o=t.layerStatesArray;!function(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}(o,fy),s&&(e.save(),ey(e,s,i/2,r/2));var a,l,u=t.viewState.resolution;for(a=0,l=o.length;a<l;++a){var c=o[a],h=this.getLayerRenderer(c.layer);Km(c,u)&&c.sourceState==Lm.READY&&h.prepareFrame(t,c)&&h.composeFrame(t,c,e)}s&&e.restore(),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,s,o){var a,l,u=e.viewState.resolution,c=e.layerStatesArray,h=c.length,d=Ug(e.pixelToCoordinateTransform,t.slice());for(l=h-1;l>=0;--l){var p=c[l],f=p.layer;if(Km(p,u)&&s.call(o,f)&&(a=this.getLayerRenderer(f).forEachLayerAtCoordinate(d,e,n,i,r)))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];gy.indexOf(r)>=0||gy.push(r)}},e}(function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.dispatchRenderEvent=function(t,e){ld()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Wg(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),function(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];Zp(0!==n,32);var i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5];t[0]=o/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-o*a)/n,t[5]=-(i*l-r*a)/n}(Gg(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,s,o){var a,l=e.viewState,u=l.resolution;function c(t,n){var s=e.layerStates[cd(n)].managed;if(!(cd(t)in e.skippedFeatureUids)||s)return i.call(r,t,s?n:null)}var h=l.projection,d=t;if(h.canWrapX()){var p=h.getExtent(),f=qf(p),g=t[0];(g<p[0]||g>p[2])&&(d=[g+f*Math.ceil((p[0]-g)/f),t[1]])}var m,_=e.layerStatesArray;for(m=_.length-1;m>=0;--m){var y=_[m],v=y.layer;if(Km(y,u)&&s.call(o,v)){var b=this.getLayerRenderer(v),w=v.getSource();if(w&&(a=b.forEachFeatureAtCoordinate(w.getWrapX()?d:t,e,n,c)),a)return a}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,s,o){return ld()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,Rd,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=cd(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var s=this.layerRendererConstructors_[i];if(s.handles(t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=xd(n,Md.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Sd(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){ld()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(py)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Od)),_y=function(t){function e(e){t.call(this,e),this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,s=e.size[1]*i,o=e.viewState.rotation,a=Kf(n),l=$f(n),u=zf(n),c=Uf(n);Ug(e.coordinateToPixelTransform,a),Ug(e.coordinateToPixelTransform,l),Ug(e.coordinateToPixelTransform,u),Ug(e.coordinateToPixelTransform,c),t.save(),ey(t,-o,r/2,s/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),ey(t,o,r/2,s/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var s=n.size[0]*n.pixelRatio,o=n.size[1]*n.pixelRatio,a=n.viewState.rotation;ey(e,-a,s/2,o/2);var l=void 0!==i?i:this.getTransform(n,0),u=new uy(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new U_(t,u,n,e,null);r.dispatchEvent(c),ey(e,a,s/2,o/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,Rd)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_("postcompose",t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_("precompose",t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_("render",t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i/n.resolution;return Wg(this.transform_,i*t.size[0]/2,i*t.size[1]/2,r,-r,-n.rotation,-n.center[0]+e,-n.center[1])},e.prototype.composeFrame=function(t,e,n){ld()},e.prototype.prepareFrame=function(t,e){return ld()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===j_.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=j_.LOADED&&e!=j_.ERROR&&xd(t,Md.CHANGE,this.handleImageChange_,this),e==j_.IDLE&&(t.load(),e=t.getState()),e==j_.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Lm.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var i=cd(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var r=cd(e),s=n.toString();r in t?s in t[r]?t[r][s].extend(i):t[r][s]=i:(t[r]={},t[r][s]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,r,s,o,a,l,u){var c=cd(e);c in t.wantedTiles||(t.wantedTiles[c]={});var h,d,p,f,g,m,_=t.wantedTiles[c],y=t.tileQueue;for(m=n.getMinZoom();m<=o;++m)for(d=n.getTileRangeForExtentAndZ(s,m,d),p=n.getResolution(m),f=d.minX;f<=d.maxX;++f)for(g=d.minY;g<=d.maxY;++g)o-m<=a?((h=e.getTile(m,f,g,i,r)).getState()==qp.IDLE&&(_[h.getKey()]=!0,y.isKeyQueued(h.getKey())||y.enqueue([h,c,n.getTileCoordCenter(h.tileCoord),p])),void 0!==l&&l.call(u,h)):e.useTile(m,f,g,r)},e}(Ld)),yy=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=[1,0,0,1,0,0],this.hitCanvasContext_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,s=void 0!==r&&!Of(r,t.extent)&&Zf(r,t.extent);s&&this.clip(n,t,r);var o=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var l=o[5],u=i.width*o[0],c=i.height*o[3];u>=.5&&c>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(o[4]),Math.round(l),Math.round(u),Math.round(c)),n.globalAlpha=a,s&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return ld()},e.prototype.getImageTransform=function(){return ld()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var s=Ug(this.coordinateToCanvasPixelTransform,t.slice());gf(s,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Dm(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),s[0],s[1],1,1,0,0,1,1);var o=this.hitCanvasContext_.getImageData(0,0,1,1).data;return o[3]>0?i.call(r,this.getLayer(),o):void 0}},e}(_y),vy=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=[1,0,0,1,0,0],this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===V_.VECTOR)for(var i=0,r=gy.length;i<r;++i){var s=gy[i];if(s!==e&&s.handles(n)){this.vectorRenderer_=new s(n);break}}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,s=t.viewState,o=s.center,a=s.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=this.vectorRenderer_,h=t.extent;if(c||void 0===e.extent||(h=Xf(h,e.extent)),!u[0]&&!u[1]&&!Qf(h)){var d=s.projection,p=this.skippedFeatures_;if(c){var f=c.context,g=fd({},t,{size:[qf(h)/a,Bf(h)/a],viewState:fd({},t.viewState,{rotation:0})}),m=Object.keys(g.skippedFeatureUids).sort();n=new F_(h,a,i,f.canvas,function(t){!c.prepareFrame(g,e)||!c.replayGroupChanged&&Gp(p,m)||(f.canvas.width=g.size[0]*i,f.canvas.height=g.size[1]*i,c.compose(f,g,e),p=m,t())})}else n=l.getImage(h,a,i,d);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=p)}if(this.image_){var _=(n=this.image_).getExtent(),y=n.getResolution(),v=n.getPixelRatio(),b=i*y/(a*v),w=Wg(this.imageTransform_,i*r[0]/2,i*r[1]/2,b,b,0,v*(_[0]-o[0])/y,v*(o[1]-_[3])/y);Wg(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-o[0],-o[1]),this.renderedResolution=y*i/v}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(yy);vy.handles=function(t){return t.getType()===V_.IMAGE||t.getType()===V_.VECTOR&&t.getRenderMode()===G_.IMAGE},vy.create=function(t,e){return new vy(e)};var by=vy,wy=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function xy(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new wy(t,e,n,i)}wy.prototype.contains=function(t){return this.containsXY(t[1],t[2])},wy.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},wy.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},wy.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},wy.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},wy.prototype.getHeight=function(){return this.maxY-this.minY+1},wy.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},wy.prototype.getWidth=function(){return this.maxX-this.minX+1},wy.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var Cy=wy,Ey=function(t){function e(e,n){t.call(this,e),this.context=n?null:Dm(),this.renderedExtent_=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new Cy(0,0,0,0),this.imageTransform_=[1,0,0,1,0,0],this.zDirection=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==qp.LOADED||n==qp.EMPTY||n==qp.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var s=this.getLayer(),o=s.getSource().getTile(t,e,n,i,r);return o.getState()==qp.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):o.setState(qp.LOADED)),this.isDrawableTile_(o)||(o=o.getInterimTile()),o},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,r=t.viewState,s=r.projection,o=r.resolution,a=r.center,l=this.getLayer(),u=l.getSource(),c=u.getRevision(),h=u.getTileGridForProjection(s),d=h.getZForResolution(o,this.zDirection),p=h.getResolution(d),f=Math.round(o/p)||1,g=t.extent;if(void 0!==e.extent&&(g=Xf(g,e.extent)),Qf(g))return!1;var m=h.getTileRangeForExtentAndZ(g,d),_=h.getTileRangeExtent(d,m),y=u.getTilePixelRatio(n),v={};v[d]={};var b,w,x,C=this.createLoadedTileFinder(u,s,v),E=t.viewHints,S=E[0]||E[1],T=this.tmpExtent,O=this.tmpTileRange_;for(this.newTiles_=!1,w=m.minX;w<=m.maxX;++w)for(x=m.minY;x<=m.maxY;++x)if(!(Date.now()-t.time>16&&S)){if(b=this.getTile(d,w,x,n,s),this.isDrawableTile_(b)){var R=cd(this);if(b.getState()==qp.LOADED){v[d][b.tileCoord.toString()]=b;var I=b.inTransition(R);this.newTiles_||!I&&-1!==this.renderedTiles.indexOf(b)||(this.newTiles_=!0)}if(1===b.getAlpha(R,t.time))continue}var k=h.getTileCoordChildTileRange(b.tileCoord,O,T),D=!1;k&&(D=C(d+1,k)),D||h.forEachTileCoordParentTileRange(b.tileCoord,C,null,O,T)}var A=p*n/y*f;if(!(this.renderedResolution&&Date.now()-t.time>16&&S)&&(this.newTiles_||!this.renderedExtent_||!Of(this.renderedExtent_,g)||this.renderedRevision!=c||f!=this.oversampling_||!S&&A!=this.renderedResolution)){var P=this.context;if(P){var N=u.getTilePixelSize(d,n,s),M=Math.round(m.getWidth()*N[0]/f),L=Math.round(m.getHeight()*N[1]/f),j=P.canvas;j.width!=M||j.height!=L?(this.oversampling_=f,j.width=M,j.height=L):((this.renderedExtent_&&!Nf(_,this.renderedExtent_)||this.renderedRevision!=c)&&P.clearRect(0,0,M,L),f=this.oversampling_)}this.renderedTiles.length=0;var F,V,G,U,z,H,W,Y,B=Object.keys(v).map(Number);for(B.sort(function(t,e){return t===d?1:e===d?-1:t>e?1:t<e?-1:0}),U=0,z=B.length;U<z;++U)for(var X in V=u.getTilePixelSize(G=B[U],n,s),F=h.getResolution(G)/p,W=y*u.getGutterForProjection(s),Y=v[G])H=h.getTileCoordExtent((b=Y[X]).getTileCoord(),T),this.drawTileImage(b,t,e,w=(H[0]-_[0])/p*y/f,x=(_[3]-H[3])/p*y/f,V[0]*F/f,V[1]*F/f,W,d===G),this.renderedTiles.push(b);this.renderedRevision=c,this.renderedResolution=p*n/y*f,this.renderedExtent_=_}var K=this.renderedResolution/o,$=Wg(this.imageTransform_,n*i[0]/2,n*i[1]/2,K,K,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*n,(a[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Wg(this.coordinateToCanvasPixelTransform,n*i[0]/2-$[4],n*i[1]/2-$[5],n/o,-n/o,0,-a[0],-a[1]),this.updateUsedTiles(t.usedTiles,u,d,m),this.manageTilePyramid(t,u,h,n,s,g,d,l.getPreload()),this.scheduleExpireCache(t,u),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,r,s,o,a,l){var u=this.getTileImage(t);if(u){var c=cd(this),h=l?t.getAlpha(c,e.time):1,d=this.getLayer().getSource();1!==h||d.getOpaque(e.viewState.projection)||this.context.clearRect(i,r,s,o);var p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,r,s,o),p&&this.context.restore(),1!==h?e.animate=!0:l&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(yy);Ey.handles=function(t){return t.getType()===V_.TILE},Ey.create=function(t,e){return new Ey(e)};var Sy=Ey,Ty=n("A1R+"),Oy=n.n(Ty),Ry=function(){};Ry.prototype.getReplay=function(t,e){return ld()},Ry.prototype.isEmpty=function(){return ld()},Ry.prototype.addDeclutter=function(t){return ld()};var Iy=Ry,ky={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function Dy(t,e,n,i){for(var r=t[e],s=t[e+1],o=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];o+=Math.sqrt((l-r)*(l-r)+(u-s)*(u-s)),r=l,s=u}return o}function Ay(t,e,n,i,r,s,o,a){for(var l,u,c=[],h=t[e]>t[n-i],d=r.length,p=t[e],f=t[e+1],g=t[e+=i],m=t[e+1],_=0,y=Math.sqrt(Math.pow(g-p,2)+Math.pow(m-f,2)),v="",b=0,w=0;w<d;++w){var x=r.charAt(h?d-w-1:w),C=s(v=h?x+v:v+x)-b;b+=C;for(var E=o+C/2;e<n-i&&_+y<E;)p=g,f=m,g=t[e+=i],m=t[e+1],_+=y,y=Math.sqrt(Math.pow(g-p,2)+Math.pow(m-f,2));var S=E-_,T=Math.atan2(m-f,g-p);if(h&&(T+=T>0?-Math.PI:Math.PI),void 0!==u){var O=T-u;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>a)return null}var R=S/y,I=uf(p,g,R),k=uf(f,m,R);u==T?(h&&(l[0]=I,l[1]=k,l[2]=C/2),l[4]=v):(b=C,l=[I,k,C/2,T,v=x],h?c.unshift(l):c.push(l),u=T),o+=C}return c}var Py={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ny=[Py.FILL],My=[Py.STROKE],Ly=[Py.BEGIN_PATH],jy=[Py.CLOSE_PATH],Fy=Py,Vy=[ky.POLYGON,ky.CIRCLE,ky.LINE_STRING,ky.IMAGE,ky.TEXT,ky.DEFAULT],Gy={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Uy=kf(),zy=Lg(),Hy=function(t){function e(e,n,i,r,s,o){t.call(this),this.declutterTree=o,this.tolerance=e,this.maxExtent=n,this.overlaps=s,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,s,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,g,m,_){var y,v,b,w,x=m||_,C=f+u>i.width?i.width-u:f,E=a+c>i.height?i.height-c:a,S=g[3]+C*d+g[1],T=g[0]+E*d+g[2],O=(e-=r*=d)-g[3],R=(n-=s*=d)-g[0];(x||0!==h)&&(y=[O,R],v=[O+S,R],b=[O+S,R+T],w=[O,R+T]);var I=null;if(0!==h){var k=e+r,D=n+s;I=Wg(zy,k,D,1,1,h,-k,-D),Af(Uy),Lf(Uy,Ug(zy,y)),Lf(Uy,Ug(zy,v)),Lf(Uy,Ug(zy,b)),Lf(Uy,Ug(zy,w))}else Df(O,R,O+S,R+T,Uy);var A=t.canvas,P=_?_[2]*d/2:0,N=Uy[0]-P<=A.width&&Uy[2]+P>=0&&Uy[1]-P<=A.height&&Uy[3]+P>=0;if(p&&(e=Math.round(e),n=Math.round(n)),o){if(!N&&1==o[4])return;Mf(o,Uy);var M=N?[t,I?I.slice(0):null,l,i,u,c,C,E,e,n,d]:null;M&&x&&M.push(m,_,y,v,b,w),o.push(M)}else N&&(x&&this.replayTextBackground_(t,y,v,b,w,m,_),iy(t,I,l,i,u,c,C,E,e,n,d))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,s){var o=this.coordinates.length,a=this.getBufferedMaxExtent();s&&(e+=i);var l,u,c,h=[t[e],t[e+1]],d=[NaN,NaN],p=!0;for(l=e+i;l<n;l+=i)d[0]=t[l],d[1]=t[l+1],(c=If(a,d))!==u?(p&&(this.coordinates[o++]=h[0],this.coordinates[o++]=h[1]),this.coordinates[o++]=d[0],this.coordinates[o++]=d[1],p=!1):c===wf.INTERSECTING?(this.coordinates[o++]=d[0],this.coordinates[o++]=d[1],p=!1):p=!0,h[0]=d[0],h[1]=d[1],u=c;return(r&&p||l===e+i)&&(this.coordinates[o++]=h[0],this.coordinates[o++]=h[1]),o},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s],l=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,s,o,a,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==Jf.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),o=[];var h=t.getEndss();a=0;for(var d=0,p=h.length;d<p;++d){var f=[];a=this.drawCustomCoordinates_(i,a,h[d],u,f),o.push(f)}this.instructions.push([Fy.CUSTOM,c,o,t,n,om])}else l==Jf.POLYGON||l==Jf.MULTI_LINE_STRING?(s=[],i=l==Jf.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),u,s),this.instructions.push([Fy.CUSTOM,c,s,t,n,sm])):l==Jf.LINE_STRING||l==Jf.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([Fy.CUSTOM,c,r,t,n,rm])):l==Jf.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),this.instructions.push([Fy.CUSTOM,c,r=this.coordinates.length,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Fy.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Fy.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Ug(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,ny)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Zd&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,s=t.length;r<s;++r){var o=t[r];o&&(o.length>11&&this.replayTextBackground_(o[0],o[13],o[14],o[15],o[16],o[11],o[12]),iy.apply(void 0,o))}}t.length=5,Af(t)}}},e.prototype.replay_=function(t,e,n,i,r,s,o){var a;this.pixelCoordinates_&&Gp(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=eg(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Gg(this.renderedTransform_,e));for(var l,u,c,h,d,p,f,g,m,_,y,v,b=!_d(n),w=0,x=i.length,C=0,E=0,S=0,T=null,O=null,R=this.coordinateCache_,I=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:I},D=this.instructions!=i||this.overlaps?0:200;w<x;){var A=i[w];switch(A[0]){case Fy.BEGIN_GEOMETRY:_=A[1],b&&n[cd(_)]||!_.getGeometry()?w=A[2]:void 0===o||Zf(o,_.getGeometry().getExtent())?++w:w=A[2]+1;break;case Fy.BEGIN_PATH:E>D&&(this.fill_(t),E=0),S>D&&(t.stroke(),S=0),E||S||(t.beginPath(),h=d=NaN),++w;break;case Fy.CIRCLE:var P=a[C=A[1]],N=a[C+1],M=a[C+2]-P,L=a[C+3]-N,j=Math.sqrt(M*M+L*L);t.moveTo(P+j,N),t.arc(P,N,j,0,2*Math.PI,!0),++w;break;case Fy.CLOSE_PATH:t.closePath(),++w;break;case Fy.CUSTOM:C=A[1],l=A[2];var F=A[4],V=6==A.length?A[5]:void 0;k.geometry=A[3],k.feature=_,w in R||(R[w]=[]);var G=R[w];V?V(a,C,l,2,G):(G[0]=a[C],G[1]=a[C+1],G.length=2),F(G,k),++w;break;case Fy.DRAW_IMAGE:C=A[1],l=A[2],m=A[3],u=A[4],c=A[5],g=s?null:A[6];var U=A[7],z=A[8],H=A[9],W=A[10],Y=A[12],B=A[13],X=A[14],K=void 0,$=void 0,q=void 0;for(A.length>16?(K=A[15],$=A[16],q=A[17]):(K=B_,$=q=!1),A[11]&&(Y+=I);C<l;C+=2)this.replayImage_(t,a[C],a[C+1],m,u,c,g,U,z,H,W,Y,B,r,X,K,$?T:null,q?O:null);this.renderDeclutter_(g,_),++w;break;case Fy.DRAW_CHARS:var Z=A[1],Q=A[2],J=A[3];g=s?null:A[4];var tt=A[5],et=A[6],nt=A[7],it=A[8],rt=A[9],st=A[10],ot=A[11],at=A[12],lt=A[13],ut=A[14],ct=Dy(a,Z,Q,2),ht=it(at);if(tt||ht<=ct){var dt=Ay(a,Z,Q,2,at,it,(ct-ht)*Gy[this.textStates[lt].textAlign],nt);if(dt){var pt=void 0,ft=void 0,gt=void 0,mt=void 0;if(st)for(pt=0,ft=dt.length;pt<ft;++pt)gt=this.getImage((mt=dt[pt])[4],lt,"",st),this.replayImage_(t,mt[0],mt[1],gt,u=mt[2]+ot,c=J*gt.height+2*(.5-J)*ot-rt,g,gt.height,1,0,0,mt[3],ut,!1,gt.width,B_,null,null);if(et)for(pt=0,ft=dt.length;pt<ft;++pt)gt=this.getImage((mt=dt[pt])[4],lt,et,""),this.replayImage_(t,mt[0],mt[1],gt,u=mt[2],c=J*gt.height-rt,g,gt.height,1,0,0,mt[3],ut,!1,gt.width,B_,null,null)}}this.renderDeclutter_(g,_),++w;break;case Fy.END_GEOMETRY:if(void 0!==s){var _t=s(_=A[1]);if(_t)return _t}++w;break;case Fy.FILL:D?E++:this.fill_(t),++w;break;case Fy.MOVE_TO_LINE_TO:for(l=A[2],f=(v=a[(C=A[1])+1])+.5|0,(p=(y=a[C])+.5|0)===h&&f===d||(t.moveTo(y,v),h=p,d=f),C+=2;C<l;C+=2)p=(y=a[C])+.5|0,f=(v=a[C+1])+.5|0,C!=l-2&&p===h&&f===d||(t.lineTo(y,v),h=p,d=f);++w;break;case Fy.SET_FILL_STYLE:T=A,this.alignFill_=A[2],E&&(this.fill_(t),E=0,S&&(t.stroke(),S=0)),t.fillStyle=A[1],++w;break;case Fy.SET_STROKE_STYLE:O=A,S&&(t.stroke(),S=0),this.setStrokeStyle_(t,A),++w;break;case Fy.STROKE:D?S++:t.stroke(),++w;break;default:++w}}E&&this.fill_(t),S&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,s){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,s)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,s=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==Fy.END_GEOMETRY?s=t:i==Fy.BEGIN_GEOMETRY&&(n[2]=t,Fp(this.hitDetectionInstructions,s,t),s=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=oy(i||H_)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=oy(r||Y_);var s=e.getLineCap();n.lineCap=void 0!==s?s:"round";var o=e.getLineDash();n.lineDash=o?o.slice():W_;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[Fy.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Fy.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Gp(t.currentLineDash,r)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Fy.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=Ef(this.maxExtent),this.maxLineWidth>0&&Cf(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(ly),Wy=function(t){function e(e,n,i,r,s,o){t.call(this,e,n,i,r,s,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,s=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Fy.DRAW_IMAGE,r,s,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Fy.DRAW_IMAGE,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,s=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Fy.DRAW_IMAGE,r,s,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Fy.DRAW_IMAGE,r,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),s=t.getImage(1),o=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=s,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Hy),Yy=function(t){function e(e,n,i,r,s,o){t.call(this,e,n,i,r,s,o)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,s=this.appendFlatCoordinates(t,e,n,i,!1,!1),o=[Fy.MOVE_TO_LINE_TO,r,s];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Fy.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Ly);var i=t.getFlatCoordinates(),r=t.getStride();this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push(My),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Fy.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Ly);for(var i=t.getEnds(),r=t.getFlatCoordinates(),s=t.getStride(),o=0,a=0,l=i.length;a<l;++a)o=this.drawFlatCoordinates_(r,o,i[a],s);this.hitDetectionInstructions.push(My),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(My),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(My),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Ly)},e}(Hy),By=function(t){function e(e,n,i,r,s,o){t.call(this,e,n,i,r,s,o)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,s=void 0!==r.fillStyle,o=null!=r.strokeStyle,a=n.length;this.instructions.push(Ly),this.hitDetectionInstructions.push(Ly);for(var l=0;l<a;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,u,i,!0,!o),d=[Fy.MOVE_TO_LINE_TO,c,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),o&&(this.instructions.push(jy),this.hitDetectionInstructions.push(jy)),e=u}return s&&(this.instructions.push(Ny),this.hitDetectionInstructions.push(Ny)),o&&(this.instructions.push(My),this.hitDetectionInstructions.push(My)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Fy.SET_FILL_STYLE,ry(H_)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Fy.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),r=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(i,0,i.length,r,!1,!1);var o=[Fy.CIRCLE,s];this.instructions.push(Ly,o),this.hitDetectionInstructions.push(Ly,o),this.hitDetectionInstructions.push(Ny),void 0!==n.fillStyle&&this.instructions.push(Ny),void 0!==n.strokeStyle&&(this.instructions.push(My),this.hitDetectionInstructions.push(My)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Fy.SET_FILL_STYLE,ry(H_)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Fy.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),r=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(r,0,i,s),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Fy.SET_FILL_STYLE,ry(H_)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Fy.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),r=t.getOrientedFlatCoordinates(),s=t.getStride(),o=0,a=0,l=i.length;a<l;++a)o=this.drawFlatCoordinatess_(r,o,i[a],s);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=lm(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Hy);function Xy(t,e,n,i,r){var s,o,a,l,u,c,h,d,p,f=n,g=n,m=0,_=0,y=n;for(s=n;s<i;s+=r){var v=e[s],b=e[s+1];void 0!==l&&(d=v-l,p=b-u,a=Math.sqrt(d*d+p*p),void 0!==c&&(_+=o,Math.acos((c*d+h*p)/(o*a))>t&&(_>m&&(m=_,f=y,g=s),_=0,y=s-r)),o=a,c=d,h=p),l=v,u=b}return(_+=a)>m?[y,s]:[f,g]}var Ky={Circle:By,Default:Hy,Image:Wy,LineString:Yy,Polygon:By,Text:function(t){function e(e,n,i,r,s,o){t.call(this,e,n,i,r,s,o),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},X_.prune()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var i,r,s=this.coordinates.length,o=t.getType(),a=null,l=2,u=2;if("line"===n.placement){if(!Zf(this.getBufferedMaxExtent(),t.getExtent()))return;var c;if(a=t.getFlatCoordinates(),u=t.getStride(),o==Jf.LINE_STRING)c=[a.length];else if(o==Jf.MULTI_LINE_STRING)c=t.getEnds();else if(o==Jf.POLYGON)c=t.getEnds().slice(0,1);else if(o==Jf.MULTI_POLYGON){var h=t.getEndss();for(c=[],i=0,r=h.length;i<r;++i)c.push(h[i][0])}this.beginGeometry(t,e);for(var d,p=n.textAlign,f=0,g=0,m=c.length;g<m;++g){if(null==p){var _=Xy(n.maxAngle,a,f,c[g],u);f=_[0],d=_[1]}else d=c[g];for(i=f;i<d;i+=u)this.coordinates.push(a[i],a[i+1]);f=c[g],this.drawChars_(s,l=this.coordinates.length,this.declutterGroup_),s=l}this.endGeometry(t,e)}else{var y=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),v=y.width/this.pixelRatio;switch(o){case Jf.POINT:case Jf.MULTI_POINT:l=(a=t.getFlatCoordinates()).length;break;case Jf.LINE_STRING:a=t.getFlatMidpoint();break;case Jf.CIRCLE:a=t.getCenter();break;case Jf.MULTI_LINE_STRING:l=(a=t.getFlatMidpoints()).length;break;case Jf.POLYGON:if(a=t.getFlatInteriorPoint(),!n.overflow&&a[2]/this.resolution<v)return;u=3;break;case Jf.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(a=[],i=0,r=b.length;i<r;i+=3)(n.overflow||b[i+2]/this.resolution>=v)&&a.push(b[i],b[i+1]);if(0==(l=a.length))return}l=this.appendFlatCoordinates(a,0,l,u,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(y,s,l),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,s=i+e+t+n+this.pixelRatio;if(!X_.containsKey(s)){var o=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,l=this.textStates[e]||this.textState_,u=l.scale*this.pixelRatio,c=Gy[l.textAlign||"center"],h=i&&o.lineWidth?o.lineWidth:0,d=t.split("\n"),p=d.length,f=[],g=function(t,e,n){for(var i=e.length,r=0,s=0;s<i;++s){var o=ty(t,e[s]);r=Math.max(r,o),n.push(o)}return r}(l.font,d,f),m=J_(l.font),_=m*p,y=Dm(Math.ceil((g+h)*u),Math.ceil((_+h)*u));X_.set(s,r=y.canvas),1!=u&&y.scale(u,u),y.font=l.font,i&&(y.strokeStyle=o.strokeStyle,y.lineWidth=h,y.lineCap=o.lineCap,y.lineJoin=o.lineJoin,y.miterLimit=o.miterLimit,Zd&&o.lineDash.length&&(y.setLineDash(o.lineDash),y.lineDashOffset=o.lineDashOffset)),n&&(y.fillStyle=a.fillStyle),y.textBaseline="middle",y.textAlign="center";var v,b=.5-c,w=c*r.width/u+b*h;if(i)for(v=0;v<p;++v)y.strokeText(d[v],w+b*f[v],.5*(h+m)+v*m);if(n)for(v=0;v<p;++v)y.fillText(d[v],w+b*f[v],.5*(h+m)+v*m)}return X_.get(s)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,s=this.pixelRatio,o=Gy[i.textAlign||"center"],a=Gy[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=o*t.width/s+2*(.5-o)*l,c=a*t.height/s+2*(.5-a)*l;this.instructions.push([Fy.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*s,(c-this.textOffsetY_)*s,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==B_?B_:i.padding.map(function(t){return t*s}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([Fy.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*s,(c-this.textOffsetY_)*s,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/s,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,s=this.textFillState_,o=this.strokeKey_;i&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var l=this.fillKey_;s&&(l in this.fillStates||(this.fillStates[l]={fillStyle:s.fillStyle}));var u=this.pixelRatio,c=Gy[r.textBaseline],h=this.textOffsetY_*u,d=this.text_,p=r.font,f=r.scale,g=i?i.lineWidth*f/2:0,m=this.widths_[p];m||(this.widths_[p]=m={}),this.instructions.push([Fy.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=ty(p,t)),e*f*u},h,o,g*u,d,a,1]),this.hitDetectionInstructions.push([Fy.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=ty(p,t)),e*f},h,o,g,d,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var s=t.getFill();s?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=oy(s.getColor()||H_)):i=this.textFillState_=null;var o=t.getStroke();if(o){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var a=o.getLineDash(),l=o.getLineDashOffset(),u=o.getWidth(),c=o.getMiterLimit();r.lineCap=o.getLineCap()||"round",r.lineDash=a?a.slice():W_,r.lineDashOffset=void 0===l?0:l,r.lineJoin=o.getLineJoin()||"round",r.lineWidth=void 0===u?1:u,r.miterLimit=void 0===c?10:c,r.strokeStyle=oy(o.getColor()||Y_)}else r=this.textStrokeState_=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";Z_(h);var d=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||B_,n.scale=void 0===d?1:d;var p=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:cd(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+cd(i.fillStyle):""}else this.text_=""},e}(Hy)},$y=function(t){function e(e,n,i,r,s,o,a){t.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=s,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Dm(1,1),this.hitDetectionTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=[1/0,1/0,-1/0,-1/0]).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,s,o){var a,l=2*(i=Math.round(i))+1,u=Wg(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(Lf(a=[1/0,1/0,-1/0,-1/0],t),Cf(a,e*(this.renderBuffer_+i),a));var h,d,p=function(t){if(void 0!==qy[t])return qy[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var r=t,s=0,o=0;r>=s;)Zy(n,t+r,t+s),Zy(n,t+s,t+r),Zy(n,t-s,t+r),Zy(n,t-r,t+s),Zy(n,t-r,t-s),Zy(n,t-s,t-r),Zy(n,t+s,t-r),Zy(n,t+r,t-s),2*((o+=1+2*++s)-r)+1>0&&(o+=1-2*(r-=1));return qy[t]=n,n}(i);function f(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var i=0;i<l;i++)if(p[n][i]&&e[4*(i*l+n)+3]>0){var r=void 0;return(!h||d!=ky.IMAGE&&d!=ky.TEXT||-1!==h.indexOf(t))&&(r=s(t)),r||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(h=this.declutterTree_.all().map(function(t){return t.value}));var g,m,_,y,v,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(Lp),g=b.length-1;g>=0;--g){var w=b[g].toString();for(_=this.replaysByZIndex_[w],m=Vy.length-1;m>=0;--m)if(void 0!==(y=_[d=Vy[m]]))if(!o||d!=ky.IMAGE&&d!=ky.TEXT){if(v=y.replayHitDetection(c,u,n,r,f,a))return v}else{var x=o[w];x?x.push(y,u.slice(0)):o[w]=[y,u.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],s=e[3],o=[n,i,n,s,r,s,r,i];return eg(o,0,8,2,t,o),o},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(this.replaysByZIndex_[n]=i={});var r=i[e];return void 0===r&&(r=new(0,Ky[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return _d(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,s,o){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Lp),t.save(),this.clip(t,e);var l,u,c,h,d,p,f=s||Vy;for(l=0,u=a.length;l<u;++l){var g=a[l].toString();for(d=this.replaysByZIndex_[g],c=0,h=f.length;c<h;++c){var m=f[c];if(void 0!==(p=d[m]))if(!o||m!=ky.IMAGE&&m!=ky.TEXT)p.replay(t,e,n,i,r);else{var _=o[g];_?_.push(p,e.slice(0)):o[g]=[p,e.slice(0)]}}}t.restore()},e}(Iy),qy={0:[[!0]]};function Zy(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var Qy=$y,Jy=.5,tv={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=j_.LOADED)return;var s=t.getReplay(n.getZIndex(),ky.IMAGE);s.setImageStyle(r,t.addDeclutter(!1)),s.drawPoint(e,i)}var o=n.getText();if(o){var a=t.getReplay(n.getZIndex(),ky.TEXT);a.setTextStyle(o,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var s=t.getReplay(n.getZIndex(),ky.LINE_STRING);s.setFillStrokeStyle(null,r),s.drawLineString(e,i)}var o=n.getText();if(o){var a=t.getReplay(n.getZIndex(),ky.TEXT);a.setTextStyle(o,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),s=n.getStroke();if(r||s){var o=t.getReplay(n.getZIndex(),ky.POLYGON);o.setFillStrokeStyle(r,s),o.drawPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),ky.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=j_.LOADED)return;var s=t.getReplay(n.getZIndex(),ky.IMAGE);s.setImageStyle(r,t.addDeclutter(!1)),s.drawMultiPoint(e,i)}var o=n.getText();if(o){var a=t.getReplay(n.getZIndex(),ky.TEXT);a.setTextStyle(o,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var s=t.getReplay(n.getZIndex(),ky.LINE_STRING);s.setFillStrokeStyle(null,r),s.drawMultiLineString(e,i)}var o=n.getText();if(o){var a=t.getReplay(n.getZIndex(),ky.TEXT);a.setTextStyle(o,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),s=n.getStroke();if(s||r){var o=t.getReplay(n.getZIndex(),ky.POLYGON);o.setFillStrokeStyle(r,s),o.drawMultiPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),ky.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,s,o=e.getGeometriesArray();for(r=0,s=o.length;r<s;++r)(0,tv[o[r].getType()])(t,o[r],n,i)},Circle:function(t,e,n,i){var r=n.getFill(),s=n.getStroke();if(r||s){var o=t.getReplay(n.getZIndex(),ky.CIRCLE);o.setFillStrokeStyle(r,s),o.drawCircle(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),ky.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}}};function ev(t,e){return parseInt(cd(t),10)-parseInt(cd(e),10)}function nv(t,e){var n=iv(t,e);return n*n}function iv(t,e){return Jy*t/e}function rv(t,e,n,i,r,s){var o=!1,a=n.getImage();if(a){var l=a.getImageState();l==j_.LOADED||l==j_.ERROR?a.unlistenImageChange(r,s):(l==j_.IDLE&&a.load(),l=a.getImageState(),a.listenImageChange(r,s),o=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var s=r.getSimplifiedGeometry(i);n.getRenderer()?function t(e,n,i,r){if(n.getType()!=Jf.GEOMETRY_COLLECTION)e.getReplay(i.getZIndex(),ky.DEFAULT).drawCustom(n,r,i.getRenderer());else for(var s=n.getGeometries(),o=0,a=s.length;o<a;++o)t(e,s[o],i,r)}(t,s,n,e):(0,tv[s.getType()])(t,s,n,e)}}(t,e,n,i),o}var sv=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?Oy()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Dm(),xd(X_,Md.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){Ed(X_,Md.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,s=n.managed?e.skippedFeatureUids:{},o=e.viewState,a=o.projection,l=o.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(e,0),d=n.extent,p=void 0!==d;p&&this.clip(t,e,d);var f=this.replayGroup_;if(f&&!f.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,m=this.getLayer(),_=0,y=0,v=1!==n.opacity,b=m.hasListener("render");if(v||b){var w=t.canvas.width,x=t.canvas.height;if(l){var C=Math.round(Math.sqrt(w*w+x*x));_=(C-w)/2,y=(C-x)/2,w=x=C}this.context.canvas.width=w,this.context.canvas.height=x,g=this.context}else g=t;var E=g.globalAlpha;v||(g.globalAlpha=n.opacity),g!=t&&g.translate(_,y);var S=e.viewHints,T=!(S[0]||S[1]),O=e.size[0]*r,R=e.size[1]*r;if(ey(g,-l,O/2,R/2),f.replay(g,h,l,s,T),c.getWrapX()&&a.canWrapX()&&!Of(u,i)){for(var I=i[0],k=qf(u),D=0;I<u[0];)h=this.getTransform(e,k*--D),f.replay(g,h,l,s,T),I+=k;for(D=0,I=i[2];I>u[2];)h=this.getTransform(e,k*++D),f.replay(g,h,l,s,T),I-=k}if(ey(g,l,O/2,R/2),b&&this.dispatchRenderEvent(g,e,h),g!=t){if(v){var A=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(g.canvas,-_,-y),t.globalAlpha=A}else t.drawImage(g.canvas,-_,-y);g.translate(-_,-y)}v||(g.globalAlpha=E)}p&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){if(this.replayGroup_){var s=e.viewState.resolution,o=e.viewState.rotation,a=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,o,n,{},function(t){var e=cd(t);if(!(e in l))return l[e]=!0,i.call(r,t,a)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[0],s=t.viewHints[1],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&s)return!0;var l=t.extent,u=t.viewState,c=u.projection,h=u.resolution,d=t.pixelRatio,p=n.getRevision(),f=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=ev);var m=Cf(l,f*h),_=u.projection.getExtent();if(i.getWrapX()&&u.projection.canWrapX()&&!Of(_,t.extent)){var y=qf(_),v=Math.max(qf(m)/2,y);m[0]=_[0]-v,m[2]=_[2]+v}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&Of(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new Qy(iv(h,d),m,h,d,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(m,h,c);var w=(function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,h)),e){var r=this.renderFeature(t,h,d,e,b);this.dirty_=this.dirty_||r}}).bind(this);if(g){var x=[];i.forEachFeatureInExtent(m,function(t){x.push(t)}),x.sort(g);for(var C=0,E=x.length;C<E;++C)w(x[C])}else i.forEachFeatureInExtent(m,w);return b.finish(),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=g,this.renderedExtent_=m,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var o=0,a=i.length;o<a;++o)s=rv(r,t,i[o],nv(e,n),this.handleStyleImageChange_,this)||s;else s=rv(r,t,i,nv(e,n),this.handleStyleImageChange_,this);return s},e}(_y);sv.handles=function(t){return t.getType()===V_.VECTOR},sv.create=function(t,e){return new sv(e)};var ov=sv,av={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},lv={image:[ky.POLYGON,ky.CIRCLE,ky.LINE_STRING,ky.IMAGE,ky.TEXT],hybrid:[ky.POLYGON,ky.LINE_STRING]},uv={image:[ky.DEFAULT],hybrid:[ky.IMAGE,ky.TEXT,ky.DEFAULT],vector:Vy},cv=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?Oy()(9,void 0):null,this.dirty_=!1,this.tmpTransform_=[1,0,0,1,0,0];var n=e.getRenderMode();this.zDirection=n===av.VECTOR?1:0,n!==av.VECTOR&&(this.context=Dm()),xd(X_,Md.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){Ed(X_,Md.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,s){var o=t.prototype.getTile.call(this,e,n,i,r,s);return o.getState()===qp.LOADED&&(this.createReplayGroup_(o,r,s),this.context&&this.renderTileImage_(o,r,s)),o},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),s=r.getRevision(),o=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=s||a.renderedRenderOrder!=o){for(var l=r.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,d=function(s,d){var p=t.getTile(t.tileKeys[s]);if(p.getState()==qp.LOADED){var f=u.getTileCoordExtent(p.tileCoord),g=Xf(h,f),m=Nf(f,g)?null:Cf(g,r.getRenderBuffer()*c,i.tmpExtent),_=p.getProjection(),y=!1;Ag(n,_)||(y=!0,p.setProjection(n)),a.dirty=!1;var v=new Qy(0,g,c,e,l.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),b=nv(c,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,c)),e){var i=this.renderFeature(t,b,e,v);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},x=p.getFeatures();o&&o!==a.renderedRenderOrder&&x.sort(o);for(var C=0,E=x.length;C<E;++C){var S=x[C];y&&(_.getUnits()==og.TILE_PIXELS&&(_.setWorldExtent(f),_.setExtent(p.getExtent())),S.getGeometry().transform(_,n)),m&&!Zf(m,S.getGeometry().getExtent())||w.call(i,S)}v.finish(),p.setReplayGroup(r,t.tileCoord.toString(),v)}},p=0,f=t.tileKeys.length;p<f;++p)d(p);a.renderedRevision=s,a.renderedRenderOrder=o}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var s=e.viewState.resolution,o=e.viewState.rotation;n=null==n?0:n;var a,l,u,c,h=this.getLayer(),d={},p=this.renderedTiles;for(u=0,c=p.length;u<c;++u){var f=p[u];if(Tf(a=Cf(f.extent,n*s,a),t))for(var g=0,m=f.tileKeys.length;g<m;++g){var _=f.getTile(f.tileKeys[g]);if(_.getState()==qp.LOADED){var y=_.getReplayGroup(h,f.tileCoord.toString());l=l||y.forEachFeatureAtCoordinate(t,s,o,n,{},function(t){var e=cd(t);if(!(e in d))return d[e]=!0,i.call(r,t,h)},null)}}}return l},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),s=e.viewState,o=e.pixelRatio,a=s.resolution/o,l=n.getTileCoordExtent(i,this.tmpExtent),u=s.center,c=Kf(l),h=e.size,d=Math.round(o*h[0]/2),p=Math.round(o*h[1]/2);return Wg(this.tmpTransform_,d,p,r/a,r/a,s.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),s=r.getRenderMode();if(s!=av.IMAGE){var o,a,l=r.getDeclutter()?{}:null,u=r.getSource(),c=uv[s],h=n.pixelRatio,d=n.viewState.rotation,p=n.size;d&&ey(e,-d,o=Math.round(h*p[0]/2),a=Math.round(h*p[1]/2)),l&&this.declutterTree_.clear();for(var f=n.viewHints,g=!(f[0]||f[1]),m=this.renderedTiles,_=u.getTileGridForProjection(n.viewState.projection),y=[],v=[],b=m.length-1;b>=0;--b){var w=m[b];if(w.getState()!=qp.ABORT)for(var x=w.tileCoord,C=_.getTileCoordExtent(x,this.tmpExtent)[0]-w.extent[0],E=void 0,S=0,T=w.tileKeys.length;S<T;++S){var O=w.getTile(w.tileKeys[S]);if(O.getState()==qp.LOADED){var R=O.getReplayGroup(r,x.toString());if(R&&R.hasReplays(c)){E||(E=this.getTransform(n,C));var I=O.tileCoord[0],k=R.getClipCoords(E);e.save(),e.globalAlpha=i.opacity;for(var D=0,A=y.length;D<A;++D){var P=y[D];I<v[D]&&(e.beginPath(),e.moveTo(k[0],k[1]),e.lineTo(k[2],k[3]),e.lineTo(k[4],k[5]),e.lineTo(k[6],k[7]),e.moveTo(P[6],P[7]),e.lineTo(P[4],P[5]),e.lineTo(P[2],P[3]),e.lineTo(P[0],P[1]),e.clip())}R.replay(e,E,d,{},g,c,l),e.restore(),y.push(k),v.push(I)}}}}l&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(Lp),s={},o=0,a=r.length;o<a;++o)for(var l=t[r[o].toString()],u=0,c=l.length;u<c;){var h=l[u++],d=l[u++];h.replay(e,d,n,s,i)}}(l,e,d,g),d&&ey(e,d,o,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var s=0,o=n.length;s<o;++s)r=rv(i,t,n[s],e,this.handleStyleImageChange_,this)||r;else r=rv(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),s=i.getRevision(),o=lv[i.getRenderMode()];if(o&&r.renderedTileRevision!==s){r.renderedTileRevision=s;var a=t.wrappedTileCoord,l=a[0],u=i.getSource(),c=u.getTileGridForProjection(n),h=c.getResolution(l),d=t.getContext(i),p=u.getTilePixelSize(l,e,n);d.canvas.width=p[0],d.canvas.height=p[1];for(var f=c.getTileCoordExtent(a,this.tmpExtent),g=0,m=t.tileKeys.length;g<m;++g){var _=t.getTile(t.tileKeys[g]);if(_.getState()==qp.LOADED){var y=e/h,v=jg(this.tmpTransform_);zg(v,y,-y),Hg(v,-f[0],-f[3]),_.getReplayGroup(i,t.tileCoord.toString()).replay(d,v,0,{},!0,o)}}}},e}(Sy);cv.handles=function(t){return t.getType()===V_.VECTOR_TILE},cv.create=function(t,e){return new cv(e)};var hv=cv,dv=function(t){function e(e){(e=fd({},e)).controls||(e.controls=e_()),e.interactions||(e.interactions=function(t){var e={},n=new zd,i=new i_(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new C_),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new h_({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new x_({condition:e.onFocusOnly?p_:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new N_),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new M_({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new k_),n.push(new A_({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new P_({condition:e.onFocusOnly?p_:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new O_({duration:e.zoomDuration})),n}()),t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createRenderer=function(){var t=new my(this);return t.registerLayerRenderers([by,Sy,ov,hv]),t},e}(Gm),pv=function(t){function e(e){t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,xd(this,Vd(this.geometryName_),this.handleGeometryChanged_,this),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Sd(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=xd(t,Md.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(Zp("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Ed(this,Vd(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,xd(this,Vd(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(Gd),fv=function(t){function e(e,n,i){t.call(this),void 0!==i&&void 0===n?this.setFlatCoordinates(i,e):this.setCenterAndRadius(e,n||0,i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,s=t-r[0],o=e-r[1],a=s*s+o*o;if(a<i){if(0===a)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(a);n[0]=r[0]+u*s,n[1]=r[1]+u*o;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Df(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return Jf.CIRCLE},e.prototype.intersectsExtent=function(t){if(Zf(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||Vf(t,this.intersectsCoordinate,this)}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=em(i,0,t);i[r++]=i[0]+e;for(var s=1,o=this.stride;s<o;++s)i[r++]=i[s];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(Xg);function gv(t,e,n,i,r,s){var o=NaN,a=NaN,l=(n-e)/i;if(1===l)o=t[e],a=t[e+1];else if(2==l)o=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==l){for(var u=t[e],c=t[e+1],h=0,d=[0],p=e+i;p<n;p+=i){var f=t[p],g=t[p+1];h+=Math.sqrt((f-u)*(f-u)+(g-c)*(g-c)),d.push(h),u=f,c=g}var m=r*h,_=function(t,e,n){for(var i,r,s=Lp,o=0,a=t.length,l=!1;o<a;)(r=+s(t[i=o+(a-o>>1)],e))<0?o=i+1:(a=i,l=!r);return l?o:~o}(d,m);if(_<0){var y=(m-d[-_-2])/(d[-_-1]-d[-_-2]),v=e+(-_-2)*i;o=uf(t[v],t[v+i],y),a=uf(t[v+1],t[v+i+1],y)}else o=t[e+_*i],a=t[e+_*i+1]}return s?(s[0]=o,s[1]=a,s):[o,a]}function mv(t,e,n,i,r,s){if(n==e)return null;var o;if(r<t[e+i-1])return s?((o=t.slice(e,e+i))[i-1]=r,o):null;if(t[n-1]<r)return s?((o=t.slice(n-i,n))[i-1]=r,o):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,l=n/i;a<l;){var u=a+l>>1;r<t[(u+1)*i-1]?l=u:a=u+1}var c=t[a*i-1];if(r==c)return t.slice((a-1)*i,(a-1)*i+i);var h=(r-c)/(t[(a+1)*i-1]-c);o=[];for(var d=0;d<i-1;++d)o.push(uf(t[(a-1)*i+d],t[a*i+d],h));return o.push(r),o}var _v=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Vp(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Sf(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return _m(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return this.layout!=tg.XYM&&this.layout!=tg.XYZM?null:mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return gv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Dy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=am(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,tg.XY)},e.prototype.getType=function(){return Jf.LINE_STRING},e.prototype.intersectsExtent=function(t){return ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nm(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Xg),yv=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),s=e,o=[],a=[],l=0,u=s.length;l<u;++l){var c=s[l];0===l&&(r=c.getLayout()),Vp(o,c.getFlatCoordinates()),a.push(o.length)}this.setFlatCoordinates(r,o),this.ends_=a}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Vp(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Sf(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){return this.layout!=tg.XYM&&this.layout!=tg.XYZM||0===this.flatCoordinates.length?null:function(t,e,i,r,s,o,a){if(void 0!==n&&n)return mv(t,e,i[i.length-1],r,s,o);var l;if(s<t[r-1])return o?((l=t.slice(0,r))[r-1]=s,l):null;if(t[t.length-1]<s)return o?((l=t.slice(t.length-r))[r-1]=s,l):null;for(var u=0,c=i.length;u<c;++u){var h=i[u];if(e!=h){if(s<t[e+r-1])return null;if(s<=t[h-1])return mv(t,e,h,r,s,!1);e=h}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return sm(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new _v(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,s=0,o=e.length;s<o;++s){var a=e[s],l=new _v(t.slice(r,a),n);i.push(l),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,s=0,o=i.length;s<o;++s){var a=i[s];Vp(t,gv(e,n,a,r,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,s,o,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];o=am(t,e,c,i,r,s,o),a.push(o),e=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,tg.XY,i)},e.prototype.getType=function(){return Jf.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){if(ym(t,e,n[s],i,r))return!0;e=n[s]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=im(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Xg),vv=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Vp(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<Sf(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,s=this.stride,o=0,a=r.length;o<a;o+=s){var l=of(t,e,r[o],r[o+1]);if(l<i){i=l;for(var u=0;u<s;++u)n[u]=r[o+u];n.length=s}}return i},e.prototype.getCoordinates=function(){return rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new dm(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,s=t.length;r<s;r+=n){var o=new dm(t.slice(r,r+n),e);i.push(o)}return i},e.prototype.getType=function(){return Jf.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(Rf(t,e[i],e[i+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=nm(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Xg),bv=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),s=e,o=[],a=[],l=0,u=s.length;l<u;++l){var c=s[l];0===l&&(r=c.getLayout());for(var h=o.length,d=c.getEnds(),p=0,f=d.length;p<f;++p)d[p]+=h;Vp(o,c.getFlatCoordinates()),a.push(d)}n=r,e=o,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Vp(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<Sf(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s];r=Qg(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,s,o,a,l,u,c){for(var h=[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];u=tm(t,e,f,i,r,!0,o,a,l,u,h),e=f[f.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,r,s){if(0===n.length)return!1;for(var o=0,a=n.length;o<a;++o){var l=n[o];if(gm(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,s=0,o=n.length;s<o;++s){var a=n[s];r+=$g(t,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Em(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,om(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],s=[1/0,1/0,-1/0,-1/0],o=0,a=n.length;o<a;++o){var l=n[o];s=Pf(t,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,i,r){for(var s=[],o=0,a=n.length;o<a;++o){var l=n[o];s=mm(t,e,l,i,r,2*o,s),e=l[l.length-1]}return s}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new vv(this.getFlatInteriorPoints().slice(),tg.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s)if(!xm(t,0,n[s],i,void 0))return!1;return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Em(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,s,o,a){for(var l=0,u=n.length;l<u;++l){var c=n[l],h=[];o=cm(t,e,c,i,r,s,o,h),a.push(h),e=c[c.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,tg.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var s=0,o=i.length;s<o;++s)i[s]-=e;return new Tm(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,s=0,o=n.length;s<o;++s){var a=n[s].slice(),l=a[a.length-1];if(0!==r)for(var u=0,c=a.length;u<c;++u)a[u]-=r;var h=new Tm(e.slice(r,l),t,a);i.push(h),r=l}return i},e.prototype.getType=function(){return Jf.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var s=0,o=n.length;s<o;++s){var a=n[s];if(vm(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var s=r||[],o=0,a=0,l=n.length;a<l;++a){var u=im(t,e,n[a],i,s[o]);s[o++]=u,e=u[u.length-1]}return s.length=o,s}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(Xg),wv=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};wv.prototype.clone=function(){return new wv({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},wv.prototype.getOpacity=function(){return this.opacity_},wv.prototype.getRotateWithView=function(){return this.rotateWithView_},wv.prototype.getRotation=function(){return this.rotation_},wv.prototype.getScale=function(){return this.scale_},wv.prototype.getSnapToPixel=function(){return!1},wv.prototype.getAnchor=function(){return ld()},wv.prototype.getImage=function(t){return ld()},wv.prototype.getHitDetectionImage=function(t){return ld()},wv.prototype.getImageState=function(){return ld()},wv.prototype.getImageSize=function(){return ld()},wv.prototype.getHitDetectionImageSize=function(){return ld()},wv.prototype.getOrigin=function(){return ld()},wv.prototype.getSize=function(){return ld()},wv.prototype.setOpacity=function(t){this.opacity_=t},wv.prototype.setRotateWithView=function(t){this.rotateWithView_=t},wv.prototype.setRotation=function(t){this.rotation_=t},wv.prototype.setScale=function(t){this.scale_=t},wv.prototype.setSnapToPixel=function(t){},wv.prototype.listenImageChange=function(t,e){return ld()},wv.prototype.load=function(){ld()},wv.prototype.unlistenImageChange=function(t,e){ld()};var xv=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){function e(e){t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return j_.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",s=0,o=null,a=0,l=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=Y_),n=oy(n),void 0===(l=this.stroke_.getWidth())&&(l=1),o=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),Zd||(o=null,a=0),void 0===(r=this.stroke_.getLineJoin())&&(r="round"),void 0===(i=this.stroke_.getLineCap())&&(i="round"),void 0===(s=this.stroke_.getMiterLimit())&&(s=10));var u=2*(this.radius_+l)+1,c={strokeStyle:n,strokeWidth:l,size:u,lineCap:i,lineDash:o,lineDashOffset:a,lineJoin:r,miterLimit:s};if(void 0===t){var h=Dm(u,u);this.canvas_=h.canvas,e=u=this.canvas_.width,this.draw_(c,h,0,0),this.createHitDetectionCanvas_(c)}else{u=Math.round(u);var d,p=!this.fill_;p&&(d=this.drawHitDetectionCanvas_.bind(this,c));var f=this.getChecksum(),g=t.add(f,u,u,this.draw_.bind(this,c),d);this.canvas_=g.image,this.origin_=[g.offsetX,g.offsetY],e=g.image.width,p?(this.hitDetectionCanvas_=g.hitImage,this.hitDetectionImageSize_=[g.hitImage.width,g.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,s,o;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var a=this.points_;if(a===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(a*=2),r=0;r<=a;r++)s=2*r*Math.PI/a-Math.PI/2+this.angle_,e.lineTo(t.size/2+(o=r%2==0?this.radius_:l)*Math.cos(s),t.size/2+o*Math.sin(s))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=H_),e.fillStyle=oy(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Dm(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,o,a,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(r*=2),s=0;s<=r;s++)a=2*s*Math.PI/r-Math.PI/2+this.angle_,e.lineTo(t.size/2+(o=s%2==0?this.radius_:l)*Math.cos(a),t.size/2+o*Math.sin(a))}e.fillStyle=ry(H_),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(wv)),Cv=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};Cv.prototype.clone=function(){var t=this.getColor();return new Cv({color:Array.isArray(t)?t.slice():t||void 0})},Cv.prototype.getColor=function(){return this.color_},Cv.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Cv.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;this.checksum_=t?Array.isArray(t)||"string"==typeof t?"f"+ry(t):cd(this.color_):"f-"}return this.checksum_};var Ev=Cv,Sv=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};Sv.prototype.clone=function(){var t=this.getColor();return new Sv({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Sv.prototype.getColor=function(){return this.color_},Sv.prototype.getLineCap=function(){return this.lineCap_},Sv.prototype.getLineDash=function(){return this.lineDash_},Sv.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Sv.prototype.getLineJoin=function(){return this.lineJoin_},Sv.prototype.getMiterLimit=function(){return this.miterLimit_},Sv.prototype.getWidth=function(){return this.width_},Sv.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Sv.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},Sv.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},Sv.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},Sv.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},Sv.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},Sv.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},Sv.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.checksum_+=this.color_?"string"==typeof this.color_?this.color_:cd(this.color_):"-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var Tv=Sv,Ov=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Dv,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};Ov.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new Ov({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Ov.prototype.getRenderer=function(){return this.renderer_},Ov.prototype.setRenderer=function(t){this.renderer_=t},Ov.prototype.getGeometry=function(){return this.geometry_},Ov.prototype.getGeometryFunction=function(){return this.geometryFunction_},Ov.prototype.getFill=function(){return this.fill_},Ov.prototype.setFill=function(t){this.fill_=t},Ov.prototype.getImage=function(){return this.image_},Ov.prototype.setImage=function(t){this.image_=t},Ov.prototype.getStroke=function(){return this.stroke_},Ov.prototype.setStroke=function(t){this.stroke_=t},Ov.prototype.getText=function(){return this.text_},Ov.prototype.setText=function(t){this.text_=t},Ov.prototype.getZIndex=function(){return this.zIndex_},Ov.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Dv,this.geometry_=t},Ov.prototype.setZIndex=function(t){this.zIndex_=t};var Rv=null;function Iv(t,e){if(!Rv){var n=new Ev({color:"rgba(255,255,255,0.4)"}),i=new Tv({color:"#3399CC",width:1.25});Rv=[new Ov({image:new xv({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Rv}function kv(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[Jf.POLYGON]=[new Ov({fill:new Ev({color:[255,255,255,.5]})})],t[Jf.MULTI_POLYGON]=t[Jf.POLYGON],t[Jf.LINE_STRING]=[new Ov({stroke:new Tv({color:e,width:5})}),new Ov({stroke:new Tv({color:n,width:3})})],t[Jf.MULTI_LINE_STRING]=t[Jf.LINE_STRING],t[Jf.CIRCLE]=t[Jf.POLYGON].concat(t[Jf.LINE_STRING]),t[Jf.POINT]=[new Ov({image:new xv({radius:6,fill:new Ev({color:n}),stroke:new Tv({color:e,width:1.5})}),zIndex:1/0})],t[Jf.MULTI_POINT]=t[Jf.POINT],t[Jf.GEOMETRY_COLLECTION]=t[Jf.POLYGON].concat(t[Jf.LINE_STRING],t[Jf.POINT]),t}function Dv(t){return t.getGeometry()}var Av=function(t){function e(e){var n=e||{},i=fd({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||G_.VECTOR,this.type=V_.VECTOR}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,i;this.style_=void 0!==t?t:Iv,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?i=e:(Zp("function"==typeof e.getZIndex,41),i=[e]),n=function(){return i}),n),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}($m),Pv={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function Nv(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Mv(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Lv=function(t){function e(e){t.call(this),this.projection_=Rg(e.projection),this.attributions_=Mv(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:Lm.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return ld()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Mv(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Gd),jv=function(t){this.rbush_=Oy()(t,void 0),this.items_={}};jv.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[cd(e)]=n},jv.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var s=t[i],o=e[i],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:o};n[i]=a,this.items_[cd(o)]=a}this.rbush_.load(n)},jv.prototype.remove=function(t){var e=cd(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},jv.prototype.update=function(t,e){var n=this.items_[cd(e)];Nf([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},jv.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},jv.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},jv.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},jv.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},jv.prototype.forEach_=function(t,e,n){for(var i,r=0,s=t.length;r<s;r++)if(i=e.call(n,t[r]))return i;return i},jv.prototype.isEmpty=function(){return _d(this.items_)},jv.prototype.clear=function(){this.rbush_.clear(),this.items_={}},jv.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Df(e.minX,e.minY,e.maxX,e.maxY,t)},jv.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var Fv=jv,Vv=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),Gv=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:Lm.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=kd,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Zp(this.format_,7),this.loader_=function(t,e,n,i){return function(n,r,s){var o=new XMLHttpRequest;o.open("GET","function"==typeof t?t(n,r,s):t,!0),e.getType()==Pv.ARRAY_BUFFER&&(o.responseType="arraybuffer"),o.onload=(function(t){if(!o.status||o.status>=200&&o.status<300){var n,r=e.getType();r==Pv.JSON||r==Pv.TEXT?n=o.responseText:r==Pv.XML?(n=o.responseXML)||(n=(new DOMParser).parseFromString(o.responseText,"application/xml")):r==Pv.ARRAY_BUFFER&&(n=o.response),n?(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}).call(this,e.readFeatures(n,{featureProjection:s}),e.readProjection(n),e.getLastExtent()):i.call(this)}else i.call(this)}).bind(this),o.onerror=(function(){i.call(this)}).bind(this),o.send()}}(this.url_,this.format_,0,kd)),this.strategy_=void 0!==n.strategy?n.strategy:Nv;var i,r,s=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=s?new Fv:null,this.loadedExtentsRtree_=new Fv,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),s||void 0!==i||(i=new zd(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=cd(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Vv("addfeature",t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[xd(e,Md.CHANGE,this.handleFeatureChange_,this),xd(e,"propertychange",this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(Zp(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,s=t.length;r<s;r++){var o=t[r],a=cd(o);this.addToIndex_(a,o)&&n.push(o)}for(var l=0,u=n.length;l<u;l++){var c=n[l],h=cd(c);this.setupChangeEvents_(h,c);var d=c.getGeometry();if(d){var p=d.getExtent();e.push(p),i.push(c)}else this.nullGeometryFeatures_[h]=c}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var f=0,g=n.length;f<g;f++)this.dispatchEvent(new Vv("addfeature",n[f]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;xd(this,"addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),xd(this,"removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),xd(t,pd.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),xd(t,pd.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Sd);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new Vv("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),_d(this.nullGeometryFeatures_)||Vp(t,md(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,s=[NaN,NaN],o=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||Rd;return this.featuresRtree_.forEachInExtent(a,function(t){if(l(t)){var e=t.getGeometry(),u=o;if((o=e.closestPointXY(n,i,s,o))<u){r=t;var c=Math.sqrt(o);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=cd(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var o=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[o]=e):this.idIndex_[o]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[o]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new Vv("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:cd(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&_d(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,s=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var a=s[t];r.forEachInExtent(a,function(t){return Of(t.extent,a)})||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==kd)},a=0,l=s.length;a<l;++a)o(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Nf(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=cd(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=cd(t);this.featureChangeKeys_[e].forEach(Sd),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new Vv("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(Lv),Uv={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},zv=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd),Hv=function(t){function e(e){var n=e;n.stopDown||(n.stopDown=Id),t.call(this,n),this.shouldHandle_=!1,this.downPx_=null,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;return t===Jf.POINT||t===Jf.MULTI_POINT?e=Uv.POINT:t===Jf.LINE_STRING||t===Jf.MULTI_LINE_STRING?e=Uv.LINE_STRING:t===Jf.POLYGON||t===Jf.MULTI_POLYGON?e=Uv.POLYGON:t===Jf.CIRCLE&&(e=Uv.CIRCLE),e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===Uv.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Rd;var i,r=e.geometryFunction;if(!r)if(this.type_===Jf.CIRCLE)r=function(t,e){var n,i,r,s,o=e||new fv([NaN,NaN]),a=(r=(n=t[0])[0]-(i=t[1])[0])*r+(s=n[1]-i[1])*s;return o.setCenterAndRadius(t[0],Math.sqrt(a)),o};else{var s,o=this.mode_;o===Uv.POINT?s=dm:o===Uv.LINE_STRING?s=_v:o===Uv.POLYGON&&(s=Tm),r=function(t,e){var n=e;return n?n.setCoordinates(o===Uv.POLYGON?t[0].length?[t[0].concat([t[0][0]])]:[]:t):n=new s(t),n}}this.geometryFunction_=r,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Av({source:new Gv({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(i=kv(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:m_,this.freehandCondition_=e.freehand?f_:e.freehandCondition?e.freehandCondition:__,xd(this,Vd(r_.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===Md.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==Uv.POINT&&this.freehandCondition_(e);var n=e.type===ep.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===ep.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===ep.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===ep.POINTERDOWN?i=!1:n?(i=e.type===ep.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):(e.pointerEvent.pointerType==ap||e.type===ep.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===ep.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){this.handlePointerMove_(new np(ep.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}).bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;return this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_?(this.finishCoordinate_?this.freehand_||this.mode_===Uv.CIRCLE?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===Uv.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],s=i*i+r*r;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_];if(this.mode_===Uv.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===Uv.POLYGON){var r=this.sketchCoords_;n=r[0].length>this.minPoints_,i=[r[0][0],r[0][r[0].length-2]]}if(n)for(var s=t.map,o=0,a=i.length;o<a;o++){var l=i[o],u=s.getPixelFromCoordinate(l),c=t.pixel,h=c[0]-u[0],d=c[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+d*d)<=p){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new pv(new dm(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===Uv.POINT?this.sketchCoords_=e.slice():this.mode_===Uv.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new pv(new _v(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new pv,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new zv("drawstart",this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i,r=t.coordinate,s=this.sketchFeature_.getGeometry();if(this.mode_===Uv.POINT?n=this.sketchCoords_:this.mode_===Uv.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=r[0],n[1]=r[1],this.geometryFunction_(this.sketchCoords_,s),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r),s.getType()==Jf.POLYGON&&this.mode_!==Uv.POLYGON){this.sketchLine_||(this.sketchLine_=new pv);var o=s.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(o.getLayout(),o.getFlatCoordinates()),i.changed()):(i=new _v(o.getFlatCoordinates(),o.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===Uv.LINE_STRING?(this.finishCoordinate_=i.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),this.geometryFunction_(n,r)):this.mode_===Uv.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===Uv.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===Uv.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===Uv.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===Uv.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===Jf.MULTI_POINT?t.setGeometry(new vv([e])):this.type_===Jf.MULTI_LINE_STRING?t.setGeometry(new yv([e])):this.type_===Jf.MULTI_POLYGON&&t.setGeometry(new bv([e])),this.dispatchEvent(new zv("drawend",t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new zv("drawstart",this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(w_),Wv=function(t){function e(e){var n=e||{},i=fd({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=V_.TILE}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}($m),Yv=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){this.dispatchEvent(Md.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==qp.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==qp.LOADED){t.interimTile=null;break}t.getState()==qp.LOADING?e=t:t.getState()==qp.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var i=e-n+1e3/60;return i>=this.transition_?1:mf(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Nd);function Bv(){var t=Dm(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var Xv=function(t){function e(e,n,i,r,s,o){t.call(this,e,n,o),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=s}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.state==qp.LOADING&&(this.unlistenImage_(),this.image_=Bv()),this.interimTile&&this.interimTile.dispose(),this.state=qp.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=qp.ERROR,this.unlistenImage_(),this.image_=Bv(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?qp.LOADED:qp.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==qp.ERROR&&(this.state=qp.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==qp.IDLE&&(this.state=qp.LOADING,this.changed(),this.imageListenerKeys_=[Cd(this.image_,Md.ERROR,this.handleImageError_,this),Cd(this.image_,Md.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(Sd),this.imageListenerKeys_=null},e}(Yv);function Kv(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function $v(t,e,n){return t+"/"+e+"/"+n}function qv(t){return $v(t[0],t[1],t[2])}var Zv=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(qv(e.tileCoord)),e.dispose())},this)}},e}(z_);function Qv(t,e,n,i){var r=n-t,s=i-e,o=Math.sqrt(r*r+s*s);return[Math.round(n+r/o),Math.round(i+s/o)]}var Jv=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var s={},o=Ng(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=o(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&qf(i)==qf(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?qf(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?qf(this.targetProj_.getExtent()):null;var a=Kf(n),l=$f(n),u=zf(n),c=Uf(n),h=this.transformInv_(a),d=this.transformInv_(l),p=this.transformInv_(u),f=this.transformInv_(c);if(this.addQuad_(a,l,u,c,h,d,p,f,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}s={}};Jv.prototype.addTriangle_=function(t,e,n,i,r,s){this.triangles_.push({source:[i,r,s],target:[t,e,n]})},Jv.prototype.addQuad_=function(t,e,n,i,r,s,o,a,l){var u=xf([r,s,o,a]),c=this.sourceWorldWidth_?qf(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=qf(xf([t,e,n,i]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)),p||!this.maxSourceExtent_||Zf(u,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var f,g=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);f=d?(lf(r[0],h)+lf(o[0],h))/2-lf(g[0],h):(r[0]+o[0])/2-g[0];var m=(r[1]+o[1])/2-g[1];p=f*f+m*m>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],y=this.transformInv_(_),v=[(i[0]+t[0])/2,(i[1]+t[1])/2],b=this.transformInv_(v);this.addQuad_(t,e,_,v,r,s,y,b,l-1),this.addQuad_(v,_,n,i,b,y,o,a,l-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],x=this.transformInv_(w),C=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(C);this.addQuad_(t,w,C,i,r,x,E,a,l-1),this.addQuad_(w,e,n,C,x,s,o,E,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,o,a),this.addTriangle_(t,e,n,r,s,o)}},Jv.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var r=e.source;Lf(t,r[0]),Lf(t,r[1]),Lf(t,r[2])}),t},Jv.prototype.getTriangles=function(){return this.triangles_};var tb=Jv,eb=function(t){function e(e,n,i,r,s,o,a,l,u,c,h){t.call(this,s,qp.IDLE),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=r.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent(),f=this.sourceTileGrid_.getExtent(),g=p?Xf(d,p):d;if(0!==Gf(g)){var m=e.getExtent();m&&(f=f?Xf(f,m):m);var _=r.getResolution(this.wrappedTileCoord_[0]),y=function(t,e,n,i){var r,s=(r=n,Ng(e,t)(r,void 0,r.length)),o=Ig(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var l=t.getMetersPerUnit();void 0!==l&&(o/=l);var u=t.getExtent();if(!u||Tf(u,s)){var c=Ig(t,o,s)/o;isFinite(c)&&c>0&&(o/=c)}return o}(e,i,Hf(g),_);if(!isFinite(y)||y<=0)this.state=qp.EMPTY;else if(this.triangulation_=new tb(e,i,g,f,y*(void 0!==c?c:L_)),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(y);var v=this.triangulation_.calculateSourceExtent();if(f&&(e.canWrapX()?(v[1]=nf(v[1],f[1],f[3]),v[3]=nf(v[3],f[1],f[3])):v=Xf(v,f)),Gf(v)){for(var b=n.getTileRangeForExtentAndZ(v,this.sourceZ_),w=b.minX;w<=b.maxX;w++)for(var x=b.minY;x<=b.maxY;x++){var C=u(this.sourceZ_,w,x,a);C&&this.sourceTiles_.push(C)}0===this.sourceTiles_.length&&(this.state=qp.EMPTY)}else this.state=qp.EMPTY}else this.state=qp.EMPTY}else this.state=qp.EMPTY}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.state==qp.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,i){e&&e.getState()==qp.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=qp.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),o=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,s,o,a,l,u,c){var h=Dm(Math.round(n*t),Math.round(n*e));if(0===l.length)return h.canvas;h.scale(n,n);var d=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Mf(d,t.extent)});var p=qf(d),f=Bf(d),g=Dm(Math.round(n*p/i),Math.round(n*f/i)),m=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-d[0],r=-(t.extent[3]-d[3]),s=qf(t.extent),o=Bf(t.extent);g.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*m,r*m,s*m,o*m)});var _=Kf(o);return a.getTriangles().forEach(function(t,e,r){var o=t.source,a=t.target,l=o[0][0],u=o[0][1],c=o[1][0],p=o[1][1],f=o[2][0],m=o[2][1],y=(a[0][0]-_[0])/s,v=-(a[0][1]-_[1])/s,b=(a[1][0]-_[0])/s,w=-(a[1][1]-_[1])/s,x=(a[2][0]-_[0])/s,C=-(a[2][1]-_[1])/s,E=l,S=u;l=0,u=0;var T=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),s=n+1;s<e;s++){var o=Math.abs(t[s][n]);o>r&&(r=o,i=s)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*h[d]}return h}([[c-=E,p-=S,0,0,b-y],[f-=E,m-=S,0,0,x-y],[0,0,c,p,w-v],[0,0,f,m,C-v]]);if(T){h.save(),h.beginPath();var O=(y+b+x)/3,R=(v+w+C)/3,I=Qv(O,R,y,v),k=Qv(O,R,b,w),D=Qv(O,R,x,C);h.moveTo(k[0],k[1]),h.lineTo(I[0],I[1]),h.lineTo(D[0],D[1]),h.clip(),h.transform(T[0],T[2],T[1],T[3],y,v),h.translate(d[0]-E,d[3]-S),h.scale(i/n,-i/n),h.drawImage(g.canvas,0,0),h.restore()}}),c&&(h.save(),h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-_[0])/s,o=-(i[0][1]-_[1])/s,a=(i[1][0]-_[0])/s,l=-(i[1][1]-_[1])/s,u=(i[2][0]-_[0])/s,c=-(i[2][1]-_[1])/s;h.beginPath(),h.moveTo(a,l),h.lineTo(r,o),h.lineTo(u,c),h.closePath(),h.stroke()}),h.restore()),h.canvas}(i,r,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),s,a,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=qp.LOADED}this.changed()},e.prototype.load=function(){if(this.state==qp.IDLE){this.state=qp.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,i){var r=e.getState();if(r==qp.IDLE||r==qp.LOADING){t++;var s=xd(e,Md.CHANGE,function(n){var i=e.getState();i!=qp.LOADED&&i!=qp.ERROR&&i!=qp.EMPTY||(Sd(s),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}).bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==qp.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Sd),this.sourcesListenerKeys_=null},e}(Yv);function nb(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){return o?t.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,function(){return(-o[2]-1).toString()}).replace(s,function(){var t=e.getFullTileRange(o[0]);return Zp(t,55),(t.getHeight()+o[2]).toString()}):void 0}}function ib(t,e,n){}var rb=[0,0,0],sb=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Zp(function(t,e,n){var i=function(t,e){return e-t}||Lp;return t.every(function(e,n){if(0===n)return!0;var r=i(t[n-1],e);return!(r>0||0===r)})}(this.resolutions_),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Zp(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=Kf(r)),Zp(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Zp(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:ef,Zp(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Cy(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):r&&this.calculateTileRanges_(r)};sb.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,s=i.maxX;r<=s;++r)for(var o=i.minY,a=i.maxY;o<=a;++o)n([e,r,o])},sb.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var s,o,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(s=2===this.zoomFactor_?xy(o=Math.floor(o/2),o,a=Math.floor(a/2),a,i):this.getTileRangeForExtentAndZ(l,u,i),e.call(n,u,s))return!0;--u}return!1},sb.prototype.getExtent=function(){return this.extent_},sb.prototype.getMaxZoom=function(){return this.maxZoom},sb.prototype.getMinZoom=function(){return this.minZoom},sb.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},sb.prototype.getResolution=function(t){return this.resolutions_[t]},sb.prototype.getResolutions=function(){return this.resolutions_},sb.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return xy(i,i+1,r,r+1,e)}var s=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},sb.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),s=Vm(this.getTileSize(t),this.tmpSize_);return Df(i[0]+e.minX*s[0]*r,i[1]+e.minY*s[1]*r,i[0]+(e.maxX+1)*s[0]*r,i[1]+(e.maxY+1)*s[1]*r,n)},sb.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=rb;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],s=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),xy(r,i[1],s,i[2],n)},sb.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Vm(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},sb.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Vm(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*r[0]*i,o=n[1]+t[2]*r[1]*i;return Df(s,o,s+r[0]*i,o+r[1]*i,e)},sb.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},sb.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var s=this.getZForResolution(n),o=n/this.getResolution(s),a=this.getOrigin(s),l=Vm(this.getTileSize(s),this.tmpSize_),u=i?0:.5,c=Math.floor((t-a[0])/n+(i?.5:0)),h=Math.floor((e-a[1])/n+u),d=o*c/l[0],p=o*h/l[1];return i?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),Kv(s,d,p,r)},sb.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var s=this.getOrigin(n),o=this.getResolution(n),a=Vm(this.getTileSize(n),this.tmpSize_),l=i?0:.5,u=Math.floor((t-s[0])/o+(i?.5:0)),c=Math.floor((e-s[1])/o+l),h=u/a[0],d=c/a[1];return i?(h=Math.ceil(h)-1,d=Math.ceil(d)-1):(h=Math.floor(h),d=Math.floor(d)),Kv(n,h,d,r)},sb.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},sb.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},sb.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},sb.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},sb.prototype.getZForResolution=function(t,e){return nf(jp(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},sb.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var ob=sb;function ab(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=bf.TOP_LEFT,s=lb(t,void 0,void 0);return new ob({extent:t,origin:Wf(t,r),resolutions:s,tileSize:void 0})}(ub(t))}(t),t.setDefaultTileGrid(e)),e}function lb(t,e,n){for(var i=void 0!==e?e:tf,r=Bf(t),s=qf(t),o=Vm(void 0!==n?n:ef),a=Math.max(s/o[0],r/o[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=a/Math.pow(2,c);return u}function ub(t){var e=(t=Rg(t)).getExtent();if(!e){var n=180*sg[og.DEGREES]/t.getMetersPerUnit();e=Df(-n,-n,n,n)}return e}var cb=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new Zv(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,o,a,l=!0,u=n.minX;u<=n.maxX;++u)for(var c=n.minY;c<=n.maxY;++c)o=$v(e,u,c),a=!1,r.containsKey(o)&&(a=(s=r.get(o)).getState()===qp.LOADED)&&(a=!1!==i(s)),a||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return ld()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:ab(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ag(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,r,s,o=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),l=Vm(o.getTileSize(t),this.tmpSize);return 1==a?l:(void 0===(s=this.tmpSize)&&(s=[0,0]),s[0]=(i=l)[0]*(r=a)+.5|0,s[1]=i[1]*r+.5|0,s)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),s=ub(n);if(Tf(s,r))return e;var o=qf(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var s,o=e.getExtent();return!(s=o?e.getTileRangeForExtentAndZ(o,n):e.getFullTileRange(n))||s.containsXY(i,r)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(Lv),hb=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pd);function db(t,e){t.getImage().src=e}var pb='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',fb=function(t){function e(e){var n=e||{};t.call(this,{attributions:void 0!==n.attributions?n.attributions:[pb],cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(function(t){function e(e){var n,i,r,s=e||{},o=void 0!==s.projection?s.projection:"EPSG:3857",a=void 0!==s.tileGrid?s.tileGrid:(r={extent:i=(n={extent:ub(o),maxZoom:s.maxZoom,minZoom:s.minZoom,tileSize:s.tileSize}||{}).extent||Rg("EPSG:3857").getExtent(),minZoom:n.minZoom,tileSize:n.tileSize,resolutions:lb(i,n.maxZoom,n.tileSize)},new ob(r));t.call(this,{attributions:s.attributions,cacheSize:s.cacheSize,crossOrigin:s.crossOrigin,opaque:s.opaque,projection:o,reprojectionErrorThreshold:s.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:s.tileLoadFunction,tilePixelRatio:s.tilePixelRatio,tileUrlFunction:s.tileUrlFunction,url:s.url,urls:s.urls,wrapX:void 0===s.wrapX||s.wrapX,transition:s.transition,attributionsCollapsible:s.attributionsCollapsible})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:db,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:Xv,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ag(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ag(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ag(e,t)){var n=cd(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ab(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ag(e,t))return this.tileCache;var n=cd(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Zv(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,s){var o=[t,e,n],a=this.getTileCoordForTileUrlFunction(o,r),l=a?this.tileUrlFunction(a,i,r):void 0,u=new this.tileClass(o,void 0!==l?qp.IDLE:qp.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,xd(u,Md.CHANGE,this.handleTileChange,this),u},e.prototype.getTile=function(t,e,n,i,r){var s=this.getProjection();if(s&&r&&!Ag(s,r)){var o,a=this.getTileCacheForProjection(r),l=[t,e,n],u=qv(l);a.containsKey(u)&&(o=a.get(u));var c=this.getKey();if(o&&o.key==c)return o;var h=this.getTileGridForProjection(s),d=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(l,r),f=new eb(s,h,r,d,l,p,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return f.key=c,o?(f.interimTile=o,f.refreshInterimChain(),a.replace(u,f)):a.set(u,f),f}return this.getTileInternal(t,e,n,i,s||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var s=null,o=$v(t,e,n),a=this.getKey();if(this.tileCache.containsKey(o)){if((s=this.tileCache.get(o)).key!=a){var l=s;(s=this.createTile_(t,e,n,i,r,a)).interimTile=l.getState()==qp.IDLE?l.interimTile:l,s.refreshInterimChain(),this.tileCache.replace(o,s)}}else s=this.createTile_(t,e,n,i,r,a),this.tileCache.set(o,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=Rg(t);if(n){var i=cd(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):ib,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=cd(n),r=n.getState();r==qp.LOADING?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==qp.ERROR?"tileloaderror":r==qp.LOADED||r==qp.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new hb(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),s=n[2].charCodeAt(0);for(i=r;i<=s;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(n[2],10),a=parseInt(n[1],10);a<=o;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=nb(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=lf(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[r](e,n,i)}}}(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=$v(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(cb)))),gb=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();function mb(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function _b(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function yb(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}var vb=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"\u2922";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var r=void 0!==n.labelActive?n.labelActive:"\xd7";this.labelActiveNode_="string"==typeof r?document.createTextNode(r):r,this.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,_b()),this.button_.setAttribute("type","button"),this.button_.title=s,this.button_.appendChild(this.labelNode_),xd(this.button_,Md.CLICK,this.handleClick_,this);var o=this.cssClassName_+" "+Hm+" "+Ym+" "+(mb()?"":Wm),a=this.element;a.className=o,a.appendChild(this.button_),this.keys_=void 0!==n.keys&&n.keys,this.source_=n.source}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(mb()){var t,e=this.getMap();e&&(_b()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():yb(t)}(t):yb(t)))}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();_b()?(this.setClassName_(this.button_,!0),Am(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Am(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",i=this.cssClassName_+"-false",r=e?n:i;t.classList.remove(n),t.classList.remove(i),t.classList.add(r)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(xd(document,gb(),this.handleFullScreenChange_,this))},e}(Um);class bb{constructor(){this.raster=new Wv({source:new fb}),this.source=new Gv({wrapX:!1}),this.vector=new Av({source:this.source}),this.map=new dv({target:"map",controls:e_().extend([new vb]),layers:[this.raster,this.vector],view:new km({center:[0,0],zoom:2})}),this.addInteraction("LineString")}addInteraction(t){"None"!==t&&(this.draw=new Hv({source:this.source,type:t,freehand:!0}),this.map.addInteraction(this.draw))}}class wb{constructor(){}ngOnInit(){this.map=new bb}}var xb=qe({encapsulation:0,styles:[[".map[_ngcontent-%COMP%]:-moz-full-screen{height:100%}.map[_ngcontent-%COMP%]:-webkit-full-screen{height:100%}.map[_ngcontent-%COMP%]:-ms-fullscreen{height:100%}.map[_ngcontent-%COMP%]:fullscreen{height:100%}.ol-rotate[_ngcontent-%COMP%]{top:3em}"]],data:{}});function Cb(t){return Jr(0,[(t()(),jr(0,0,null,null,0,"div",[["class","map"],["id","map"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),jr(2,0,null,null,6,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(t()(),jr(3,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(t()(),jr(4,0,null,null,1,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(t()(),qr(-1,null,["SCAN"])),(t()(),jr(6,0,null,null,2,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(t()(),jr(7,0,null,null,1,"button",[["class","btn btn-success"]],null,null,null,null,null)),(t()(),qr(-1,null,["BROADCAST"]))],null,null)}function Eb(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"app-map",[],null,null,null,Cb,xb)),li(1,114688,null,0,wb,[],null,null)],function(t,e){t(e,1,0)},null)}var Sb=Fn("app-map",wb,Eb,{},{},[]),Tb=n("cp0P");const Ob=new D("NgValueAccessor");function Rb(t){return null==t||0===t.length}const Ib=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class kb{static min(t){return e=>{if(Rb(e.value)||Rb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Rb(e.value)||Rb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Rb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Rb(t.value)?null:Ib.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Rb(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return kb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Rb(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Db);return 0==e.length?null:function(t){return Pb(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Db);return 0==e.length?null:function(t){const n=function(t,n){return e.map(e=>e(t))}(t).map(Ab);return Object(Tb.a)(n).pipe(Object(wa.a)(Pb))}}}function Db(t){return null!=t}function Ab(t){const e=Lt(t)?Object(ga.a)(t):t;if(!jt(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Pb(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Nb(t){return t.validate?e=>t.validate(e):t}function Mb(t){return t.validate?e=>t.validate(e):t}let Lb=(()=>(class{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}))(),jb=(()=>(class{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();function Fb(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Vb=(()=>(class{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Fb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Fb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}))();const Gb="VALID",Ub="INVALID",zb="PENDING",Hb="DISABLED";function Wb(t){const e=Bb(t)?t.validators:t;return Array.isArray(e)?null!=(n=e)?kb.compose(n.map(Nb)):null:e||null;var n}function Yb(t,e){const n=Bb(e)?e.asyncValidators:t;return Array.isArray(n)?null!=(i=n)?kb.composeAsync(i.map(Mb)):null:n||null;var i}function Bb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Xb{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Gb}get invalid(){return this.status===Ub}get pending(){return this.status==zb}get disabled(){return this.status===Hb}get enabled(){return this.status!==Hb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Wb(t)}setAsyncValidators(t){this.asyncValidator=Yb(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hb,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gb,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Gb&&this.status!==zb||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hb:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zb;const e=Ab(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof $b?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof qb&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Si,this.statusChanges=new Si}_calculateStatus(){return this._allControlsDisabled()?Hb:this.errors?Ub:this._anyControlsHaveStatus(zb)?zb:this._anyControlsHaveStatus(Ub)?Ub:Gb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Kb extends Xb{constructor(t=null,e,n){super(Wb(e),Yb(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $b extends Xb{constructor(t,e,n){super(Wb(e),Yb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Kb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class qb extends Xb{constructor(t,e,n){super(Wb(e),Yb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Kb?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Zb=new D("NgFormSelectorWarning"),Qb=new D("NgModelWithFormControlWarning");let Jb=(()=>(class{}))(),tw=(()=>(class{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new $b(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new Kb(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new qb(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Kb||t instanceof $b||t instanceof qb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}))(),ew=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Zb,useValue:e.warnOnDeprecatedNgFormSelector}]}}}return t})(),nw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Qb,useValue:e.warnOnNgModelWithFormControl}]}}}return t})();n("PqYM");var iw=n("xgIS"),rw=(n("Nv8m"),n("1G5W")),sw=n("zp1y");function ow(t){return parseInt(`${t}`,10)}function aw(t){return null!=t?`${t}`:""}function lw(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function uw(t){return null!=t}function cw(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}n("3E0/"),"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let hw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),dw=(()=>{class t{constructor(){this.dismissible=!0,this.type="warning"}}return t.ngInjectableDef=_({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pw=(()=>(class{constructor(t,e,n){this._renderer=e,this._element=n,this.close=new Si,this.dismissible=t.dismissible,this.type=t.type}closeHandler(){this.close.emit(null)}ngOnChanges(t){const e=t.type;e&&!e.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${e.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${e.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}))(),fw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),gw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),mw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),_w=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})();class yw{static from(t){return t instanceof yw?t:t?new yw(t.year,t.month,t.day):null}constructor(t,e,n){this.year=lw(t)?t:null,this.month=lw(e)?e:null,this.day=lw(n)?n:null}equals(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function vw(t){return new yw(t.getFullYear(),t.getMonth()+1,t.getDate())}function bw(t){const e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function ww(){return new Cw}let xw=(()=>{class t{}return t.ngInjectableDef=_({factory:ww,token:t,providedIn:"root"}),t})(),Cw=(()=>(class extends xw{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,e="d",n=1){let i=bw(t);switch(e){case"y":return new yw(t.year+n,1,1);case"m":i=new Date(t.year,t.month+n-1,1,12);break;case"d":i.setDate(i.getDate()+n);break;default:return t}return vw(i)}getPrev(t,e="d",n=1){return this.getNext(t,e,-n)}getWeekday(t){let e=bw(t).getDay();return 0===e?7:e}getWeekNumber(t,e){7===e&&(e=0);const n=bw(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const i=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n.getTime())/864e5)/7)+1}getToday(){return vw(new Date)}isValid(t){if(!(t&&lw(t.year)&&lw(t.month)&&lw(t.day)))return!1;if(0===t.year)return!1;const e=bw(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}))();function Ew(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function Sw(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function Tw(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t}function Ow(t,e){const{minDate:n,maxDate:i,disabled:r,markDisabled:s}=e;return!(!uw(t)||r||s&&s(t,{year:t.year,month:t.month})||n&&t.before(n)||i&&t.after(i))}let Rw=(()=>{class t{getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}}return t.ngInjectableDef=_({factory:function(){return t=k(kr),new Iw(t);var t},token:t,providedIn:"root"}),t})(),Iw=(()=>(class extends Rw{constructor(t){super(),this._locale=t;const e=To(t,xo.Standalone,Co.Short);this._weekdaysShort=e.map((t,n)=>e[(n+1)%7]),this._monthsShort=Oo(t,xo.Standalone,Co.Abbreviated),this._monthsFull=Oo(t,xo.Standalone,Co.Wide)}getWeekdayShortName(t){return this._weekdaysShort[t-1]}getMonthShortName(t){return this._monthsShort[t-1]}getMonthFullName(t){return this._monthsFull[t-1]}getDayAriaLabel(t){return function(t,e,n,i){let r=function(t){if(Qo(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(Lo))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(n)}const e=new Date(t);if(!Qo(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Mo(t)[0]}(e);if(jo[i]=jo[i]||{},jo[i][n])return jo[i][n];let r="";switch(n){case"shortDate":r=Ro(e,Eo.Short);break;case"mediumDate":r=Ro(e,Eo.Medium);break;case"longDate":r=Ro(e,Eo.Long);break;case"fullDate":r=Ro(e,Eo.Full);break;case"shortTime":r=Io(e,Eo.Short);break;case"mediumTime":r=Io(e,Eo.Medium);break;case"longTime":r=Io(e,Eo.Long);break;case"fullTime":r=Io(e,Eo.Full);break;case"short":const i=t(e,"shortTime"),s=t(e,"shortDate");r=zo(ko(e,Eo.Short),[i,s]);break;case"medium":const o=t(e,"mediumTime"),a=t(e,"mediumDate");r=zo(ko(e,Eo.Medium),[o,a]);break;case"long":const l=t(e,"longTime"),u=t(e,"longDate");r=zo(ko(e,Eo.Long),[l,u]);break;case"full":const c=t(e,"fullTime"),h=t(e,"fullDate");r=zo(ko(e,Eo.Full),[c,h])}return r&&(jo[i][n]=r),r}(n,e)||e;let s,o=[];for(;e;){if(!(s=Fo.exec(e))){o.push(e);break}{const t=(o=o.concat(s.slice(1))).pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=Zo(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Zo(e,i)-i))}(r,i));let l="";return o.forEach(t=>{const e=function(t){if(qo[t])return qo[t];let e;switch(t){case"G":case"GG":case"GGG":e=Yo(Uo.Eras,Co.Abbreviated);break;case"GGGG":e=Yo(Uo.Eras,Co.Wide);break;case"GGGGG":e=Yo(Uo.Eras,Co.Narrow);break;case"y":e=Wo(Go.FullYear,1,0,!1,!0);break;case"yy":e=Wo(Go.FullYear,2,0,!0,!0);break;case"yyy":e=Wo(Go.FullYear,3,0,!1,!0);break;case"yyyy":e=Wo(Go.FullYear,4,0,!1,!0);break;case"M":case"L":e=Wo(Go.Month,1,1);break;case"MM":case"LL":e=Wo(Go.Month,2,1);break;case"MMM":e=Yo(Uo.Months,Co.Abbreviated);break;case"MMMM":e=Yo(Uo.Months,Co.Wide);break;case"MMMMM":e=Yo(Uo.Months,Co.Narrow);break;case"LLL":e=Yo(Uo.Months,Co.Abbreviated,xo.Standalone);break;case"LLLL":e=Yo(Uo.Months,Co.Wide,xo.Standalone);break;case"LLLLL":e=Yo(Uo.Months,Co.Narrow,xo.Standalone);break;case"w":e=$o(1);break;case"ww":e=$o(2);break;case"W":e=$o(1,!0);break;case"d":e=Wo(Go.Date,1);break;case"dd":e=Wo(Go.Date,2);break;case"E":case"EE":case"EEE":e=Yo(Uo.Days,Co.Abbreviated);break;case"EEEE":e=Yo(Uo.Days,Co.Wide);break;case"EEEEE":e=Yo(Uo.Days,Co.Narrow);break;case"EEEEEE":e=Yo(Uo.Days,Co.Short);break;case"a":case"aa":case"aaa":e=Yo(Uo.DayPeriods,Co.Abbreviated);break;case"aaaa":e=Yo(Uo.DayPeriods,Co.Wide);break;case"aaaaa":e=Yo(Uo.DayPeriods,Co.Narrow);break;case"b":case"bb":case"bbb":e=Yo(Uo.DayPeriods,Co.Abbreviated,xo.Standalone,!0);break;case"bbbb":e=Yo(Uo.DayPeriods,Co.Wide,xo.Standalone,!0);break;case"bbbbb":e=Yo(Uo.DayPeriods,Co.Narrow,xo.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yo(Uo.DayPeriods,Co.Abbreviated,xo.Format,!0);break;case"BBBB":e=Yo(Uo.DayPeriods,Co.Wide,xo.Format,!0);break;case"BBBBB":e=Yo(Uo.DayPeriods,Co.Narrow,xo.Format,!0);break;case"h":e=Wo(Go.Hours,1,-12);break;case"hh":e=Wo(Go.Hours,2,-12);break;case"H":e=Wo(Go.Hours,1);break;case"HH":e=Wo(Go.Hours,2);break;case"m":e=Wo(Go.Minutes,1);break;case"mm":e=Wo(Go.Minutes,2);break;case"s":e=Wo(Go.Seconds,1);break;case"ss":e=Wo(Go.Seconds,2);break;case"S":e=Wo(Go.FractionalSeconds,1);break;case"SS":e=Wo(Go.FractionalSeconds,2);break;case"SSS":e=Wo(Go.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Bo(Vo.Short);break;case"ZZZZZ":e=Bo(Vo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Bo(Vo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Bo(Vo.Long);break;default:return null}return qo[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}))(),kw=(()=>(class{constructor(t,e){this._calendar=t,this._i18n=e,this._model$=new i.a,this._select$=new i.a,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Object(Aa.a)(t=>t.months.length>0))}get select$(){return this._select$.pipe(Object(Aa.a)(t=>null!==t))}set dayTemplateData(t){this._state.dayTemplateData!==t&&this._nextState({dayTemplateData:t})}set disabled(t){this._state.disabled!==t&&this._nextState({disabled:t})}set displayMonths(t){lw(t=ow(t))&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})}set firstDayOfWeek(t){lw(t=ow(t))&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})}set focusVisible(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})}set maxDate(t){const e=this.toValidDate(t,null);Ew(this._state.maxDate,e)&&this._nextState({maxDate:e})}set markDisabled(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})}set minDate(t){const e=this.toValidDate(t,null);Ew(this._state.minDate,e)&&this._nextState({minDate:e})}set navigation(t){this._state.navigation!==t&&this._nextState({navigation:t})}set outsideDays(t){this._state.outsideDays!==t&&this._nextState({outsideDays:t})}focus(t){!this._state.disabled&&this._calendar.isValid(t)&&Ew(this._state.focusDate,t)&&this._nextState({focusDate:t})}focusMove(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))}focusSelect(){Ow(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!Sw(this._state.firstDate,t)||this._nextState({firstDate:e})}select(t,e={}){const n=this.toValidDate(t,null);this._state.disabled||(Ew(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&Ow(n,this._state)&&this._select$.next(n))}toValidDate(t,e){const n=yw.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}_nextState(t){const e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}_patchContexts(t){const{months:e,displayMonths:n,selectedDate:i,focusDate:r,focusVisible:s,disabled:o,outsideDays:a}=t;t.months.forEach(t=>{t.weeks.forEach(l=>{l.days.forEach(l=>{r&&(l.context.focused=r.equals(l.date)&&s),l.tabindex=!o&&l.date.equals(r)&&r.month===t.number?0:-1,!0===o&&(l.context.disabled=!0),void 0!==i&&(l.context.selected=null!==i&&i.equals(l.date)),t.number!==l.date.month&&(l.hidden="hidden"===a||"collapsed"===a||n>1&&l.date.after(e[0].firstDate)&&l.date.before(e[n-1].lastDate))})})})}_updateState(t){const e=Object.assign({},this._state,t);let n=e.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${t}`)}(e.minDate,e.maxDate),e.focusDate=Tw(e.focusDate,e.minDate,e.maxDate),e.firstDate=Tw(e.firstDate,e.minDate,e.maxDate),n=e.focusDate),"disabled"in t&&(e.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(n=e.selectedDate),"focusVisible"in t)return e;if("focusDate"in t&&(e.focusDate=Tw(e.focusDate,e.minDate,e.maxDate),n=e.focusDate,0!==e.months.length&&!e.focusDate.before(e.firstDate)&&!e.focusDate.after(e.lastDate)))return e;if("firstDate"in t&&(e.firstDate=Tw(e.firstDate,e.minDate,e.maxDate),n=e.firstDate),n){const r=function(t,e,n,i,r){const{displayMonths:s,months:o}=n,a=o.splice(0,o.length);return Array.from({length:s},(n,i)=>{const s=t.getNext(e,"m",i);if(o[i]=null,!r){const t=a.findIndex(t=>t.firstDate.equals(s));-1!==t&&(o[i]=a.splice(t,1)[0])}return s}).forEach((e,r)=>{null===o[r]&&(o[r]=function(t,e,n,i,r={}){const{dayTemplateData:s,minDate:o,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:c}=n,h=t.getToday();r.firstDate=null,r.lastDate=null,r.number=e.month,r.year=e.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],e=function(t,e,n){const i=t.getDaysPerWeek(),r=new yw(e.year,e.month,1),s=t.getWeekday(r)%i;return t.getPrev(r,"d",(i+s-n)%i)}(t,e,l);for(let d=0;d<t.getWeeksPerMonth();d++){let n=r.weeks[d];n||(n=r.weeks[d]={number:0,days:[],collapsed:!0});const p=n.days;for(let l=0;l<t.getDaysPerWeek();l++){0===d&&(r.weekdays[l]=t.getWeekday(e));const n=new yw(e.year,e.month,e.day),c=t.getNext(n),f=i.getDayAriaLabel(n);let g=!!(o&&n.before(o)||a&&n.after(a));!g&&u&&(g=u(n,{month:r.number,year:r.year}));let m=n.equals(h),_=s?s(n,{month:r.number,year:r.year}):void 0;null===r.firstDate&&n.month===r.number&&(r.firstDate=n),n.month===r.number&&c.month!==r.number&&(r.lastDate=n);let y=p[l];y||(y=p[l]={}),y.date=n,y.context=Object.assign(y.context||{},{$implicit:n,date:n,data:_,currentMonth:r.number,disabled:g,focused:!1,selected:!1,today:m}),y.tabindex=-1,y.ariaLabel=f,y.hidden=!1,e=c}n.number=t.getWeekNumber(p.map(t=>t.date),l),n.collapsed="collapsed"===c&&p[0].date.month!==r.number&&p[p.length-1].date.month!==r.number}return r}(t,e,n,i,a.shift()||{}))}),o}(this._calendar,n,e,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);e.months=r,e.firstDate=r.length>0?r[0].firstDate:void 0,e.lastDate=r.length>0?r[r.length-1].lastDate:void 0,"selectedDate"in t&&!Ow(e.selectedDate,e)&&(e.selectedDate=null),"firstDate"in t&&(void 0===e.focusDate||e.focusDate.before(e.firstDate)||e.focusDate.after(e.lastDate))&&(e.focusDate=n);const s=!this._state.firstDate||this._state.firstDate.year!==e.firstDate.year,o=!this._state.firstDate||this._state.firstDate.month!==e.firstDate.month;"select"===e.navigation?(("minDate"in t||"maxDate"in t||0===e.selectBoxes.years.length||s)&&(e.selectBoxes.years=function(t,e,n){if(!t)return[];const i=e&&e.year||t.year-10;return Array.from({length:(n&&n.year||t.year+10)-i+1},(t,e)=>i+e)}(e.firstDate,e.minDate,e.maxDate)),("minDate"in t||"maxDate"in t||0===e.selectBoxes.months.length||s)&&(e.selectBoxes.months=function(t,e,n,i){if(!e)return[];let r=t.getMonths(e.year);if(n&&e.year===n.year){const t=r.findIndex(t=>t===n.month);r=r.slice(t)}if(i&&e.year===i.year){const t=r.findIndex(t=>t===i.month);r=r.slice(0,t+1)}return r}(this._calendar,e.firstDate,e.minDate,e.maxDate))):e.selectBoxes={years:[],months:[]},"arrows"!==e.navigation&&"select"!==e.navigation||!(o||s||"minDate"in t||"maxDate"in t||"disabled"in t)||(e.prevDisabled=e.disabled||function(t,n,i){const r=t.getPrev(e.firstDate,"m");return i&&(r.year===i.year&&r.month<i.month||r.year<i.year&&1===i.month)}(this._calendar,0,e.minDate),e.nextDisabled=e.disabled||(i=e.maxDate)&&this._calendar.getNext(e.lastDate,"m").after(i))}var i;return e}}))();const Dw=function(){var t={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return t[t.Tab]="Tab",t[t.Enter]="Enter",t[t.Escape]="Escape",t[t.Space]="Space",t[t.PageUp]="PageUp",t[t.PageDown]="PageDown",t[t.End]="End",t[t.Home]="Home",t[t.ArrowLeft]="ArrowLeft",t[t.ArrowUp]="ArrowUp",t[t.ArrowRight]="ArrowRight",t[t.ArrowDown]="ArrowDown",t}();let Aw=(()=>(class{constructor(t,e){this._service=t,this._calendar=e,t.model$.subscribe(t=>{this._minDate=t.minDate,this._maxDate=t.maxDate,this._firstViewDate=t.firstDate,this._lastViewDate=t.lastDate})}processKey(t){switch(t.which){case Dw.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case Dw.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case Dw.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case Dw.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case Dw.ArrowLeft:this._service.focusMove("d",-1);break;case Dw.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case Dw.ArrowRight:this._service.focusMove("d",1);break;case Dw.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case Dw.Enter:case Dw.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}))();const Pw=function(){var t={PREV:0,NEXT:1};return t[t.PREV]="PREV",t[t.NEXT]="NEXT",t}();let Nw=(()=>{class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return t.ngInjectableDef=_({factory:function(){return new t},token:t,providedIn:"root"}),t})();function Mw(){return new jw}let Lw=(()=>{class t{}return t.ngInjectableDef=_({factory:Mw,token:t,providedIn:"root"}),t})(),jw=(()=>(class extends Lw{fromModel(t){return t&&lw(t.year)&&lw(t.month)&&lw(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&lw(t.year)&&lw(t.month)&&lw(t.day)?{year:t.year,month:t.month,day:t.day}:null}}))(),Fw=(()=>(class{constructor(t,e,n,r,s,o,a,l,u){this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=r,this._cd=o,this._elementRef=a,this._ngbDateAdapter=l,this._ngZone=u,this._destroyed$=new i.a,this.navigate=new Si,this.select=new Si,this.onChange=t=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(t=>this[t]=s[t]),e.select$.pipe(Object(rw.a)(this._destroyed$)).subscribe(t=>{this.select.emit(t)}),e.model$.pipe(Object(rw.a)(this._destroyed$)).subscribe(t=>{const e=t.firstDate,n=this.model?this.model.firstDate:null;let i=!1;if(!e.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:()=>i=!0}),i&&null!==n))return void this._service.open(n);const r=t.selectedDate,s=t.focusDate,a=this.model?this.model.focusDate:null;this.model=t,Ew(r,this._controlValue)&&(this._controlValue=r,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(r))),Ew(s,a)&&a&&t.focusVisible&&this.focus(),o.markForCheck()})}focus(){this._ngZone.onStable.asObservable().pipe(Object(Ia.a)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(yw.from(t?t.day?t:Object.assign({},t,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Object(iw.a)(this._monthsEl.nativeElement,"focusin"),e=Object(iw.a)(this._monthsEl.nativeElement,"focusout");Object(o.a)(t,e).pipe(Object(Aa.a)(({target:t,relatedTarget:e})=>!(cw(t,"ngb-dp-day")&&cw(e,"ngb-dp-day"))),Object(rw.a)(this._destroyed$)).subscribe(({type:t})=>this._ngZone.run(()=>this._service.focusVisible="focusin"===t))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){void 0===this.model&&(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(t=>this._service[t]=this[t]),this.navigateTo(this.startDate))}ngOnChanges(t){if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(e=>e in t).forEach(t=>this._service[t]=this[t]),"startDate"in t){const{currentValue:e,previousValue:n}=t.startDate;Sw(n,e)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onKeyDown(t){this._keyMapService.processKey(t)}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Pw.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Pw.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.disabled=t}writeValue(t){this._controlValue=yw.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}))(),Vw=(()=>(class{constructor(t){this.i18n=t,this.select=new Si}doSelect(t){t.context.disabled||t.hidden||this.select.emit(t.date)}}))(),Gw=(()=>(class{constructor(t){this.i18n=t,this.navigation=Pw,this.months=[],this.navigate=new Si,this.select=new Si}}))();"undefined"!=typeof navigator&&navigator.userAgent&&navigator;const Uw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zw(t){const e=Array.from(t.querySelectorAll(Uw)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Hw=(t,e,n=!1)=>{const i=Object(iw.a)(t,"focusin").pipe(Object(rw.a)(e),Object(wa.a)(t=>t.target));Object(iw.a)(t,"keydown").pipe(Object(rw.a)(e),Object(Aa.a)(t=>t.which===Dw.Tab),Object(sw.a)(i)).subscribe(([e,n])=>{const[i,r]=zw(t);n!==i&&n!==t||!e.shiftKey||(r.focus(),e.preventDefault()),n!==r||e.shiftKey||(i.focus(),e.preventDefault())}),n&&Object(iw.a)(t,"click").pipe(Object(rw.a)(e),Object(sw.a)(i),Object(wa.a)(t=>t[1])).subscribe(t=>t.focus())};let Ww=(()=>(class{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}))(),Yw=(()=>(class{constructor(t){this.i18n=t,this.select=new Si}changeMonth(t){this.select.emit(new yw(this.date.year,ow(t),1))}changeYear(t){this.select.emit(new yw(ow(t),this.date.month,1))}}))(),Bw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),Xw=(()=>(class{}))(),Kw=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),$w=(()=>{class t{constructor(){this.backdrop=!0,this.keyboard=!0}}return t.ngInjectableDef=_({factory:function(){return new t},token:t,providedIn:"root"}),t})();class qw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Zw=()=>{};let Qw=(()=>{class t{constructor(t){this._document=t}compensate(){return this._isPresent()?this._adjustBody(this._getWidth()):Zw}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${i+t}px`,()=>e.style["padding-right"]=n}_isPresent(){const t=this._document.body.getBoundingClientRect();return t.left+t.right<window.innerWidth}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.ngInjectableDef=_({factory:function(){return new t(k(ha))},token:t,providedIn:"root"}),t})(),Jw=(()=>(class{}))();class tx{close(t){}dismiss(t){}}class ex{constructor(t,e,n,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=i,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const nx=function(){var t={BACKDROP_CLICK:0,ESC:1};return t[t.BACKDROP_CLICK]="BACKDROP_CLICK",t[t.ESC]="ESC",t}();let ix=(()=>(class{constructor(t,e){this._document=t,this._elRef=e,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Si}backdropClick(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(nx.BACKDROP_CLICK)}escKey(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(nx.ESC)}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){if(!this._elRef.nativeElement.contains(document.activeElement)){const t=this._elRef.nativeElement.querySelector("[ngbAutofocus]"),e=zw(this._elRef.nativeElement)[0];(t||e||this._elRef.nativeElement).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;(n=e&&e.focus&&t.contains(e)?e:t).focus(),this._elWithFocus=null}}))(),rx=(()=>{class t{constructor(t,e,n,r,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=s,this._activeWindowCmptHasChanged=new i.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];Hw(t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,i){const r=uw(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const l=new tx,u=this._getContentRef(t,i.injector||e,n,l);let c=!1!==i.backdrop?this._attachBackdrop(t,r):null,h=this._attachWindowComponent(t,r,u),d=new ex(h,u,c,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,i),d}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Jw).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let i=t.resolveComponentFactory(ix).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{uw(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{uw(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i){return n?n instanceof ke?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i):new qw([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new qw([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new qw([[e]])}_createFromComponent(t,e,n,i){const r=t.resolveComponentFactory(n),s=L.create({providers:[{provide:tx,useValue:i}],parent:e}),o=r.create(s);return this._applicationRef.attachView(o.hostView),new qw([[o.location.nativeElement]],o.hostView,o)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.ngInjectableDef=_({factory:function(){return new t(k(_r),k(N),k(ha),k(Qw),k(ae))},token:t,providedIn:"root"}),t})(),sx=(()=>{class t{constructor(t,e,n,i){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=i}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.ngInjectableDef=_({factory:function(){return new t(k(Qt),k(N),k(rx),k($w))},token:t,providedIn:"root"}),t})(),ox=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),ax=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),lx=(()=>(class{isTitleTemplate(){return this.title instanceof ke}}))(),ux=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),cx=(()=>{class t{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}return t.ngInjectableDef=_({factory:function(){return new t},token:t,providedIn:"root"}),t})(),hx=(()=>(class{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.striped=t.striped,this.type=t.type,this.showValue=t.showValue,this.height=t.height}getValue(){return function(t,e,n=0){return Math.max(Math.min(t,e),n)}(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}))(),dx=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),px=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),fx=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),gx=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),mx=(()=>(class{}))(),_x=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),yx=(()=>(class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(t){const e=aw(this.result);if(!e)return void(this.parts=[e]);let n=Array.isArray(this.term)?this.term.map(t=>aw(t)):[aw(this.term)];if(!(n=n.filter(t=>t)).length)return void(this.parts=[e]);const i=`(${n.map(t=>(function(e){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})()).join("|")})`;this.parts=e.split(new RegExp(i,"gmi"))}}))(),vx=(()=>(class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=aw,this.selectEvent=new Si,this.activeChangeEvent=new Si}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(t){this.activeIdx=t,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(t){this.selectEvent.emit(t)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}))(),bx=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})(),wx=(()=>{class t{static forRoot(){return{ngModule:t}}}return t})();var xx=qe({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function Cx(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeHandler()&&i),i},null,null)),(t()(),jr(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),qr(-1,null,["\xd7"]))],null,null)}function Ex(t){return Jr(2,[Xr(null,0),(t()(),Lr(16777216,null,null,1,null,Cx)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.dismissible)},null)}function Sx(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,Ex,xx)),li(1,638976,null,0,pw,[dw,ue,re],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,$n(e,1).dismissible)})}var Tx=Fn("ngb-alert",pw,Sx,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),Ox=qe({encapsulation:2,styles:["ngb-datepicker-month-view{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}"],data:{}});function Rx(t){return Jr(0,[(t()(),jr(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function Ix(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"]],null,null,null,null,null)),(t()(),qr(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))})}function kx(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,Rx)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,Ix)),li(4,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.showWeekNumbers),t(e,4,0,n.month.weekdays)},null)}function Dx(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(t()(),qr(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekNumerals(e.parent.parent.context.$implicit.number))})}function Ax(t){return Jr(0,[(t()(),Lr(0,null,null,0))],null,null)}function Px(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,Ax)),li(1,540672,null,0,ua,[Ae],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),Lr(0,null,null,0))],function(t,e){t(e,1,0,e.parent.context.$implicit.context,e.component.dayTemplate)},null)}function Nx(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.doSelect(t.context.$implicit)&&i),i},null,null)),(t()(),Lr(16777216,null,null,1,null,Px)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit.hidden)},function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.context.$implicit.tabindex,e.context.$implicit.hidden,e.context.$implicit.context.today,e.context.$implicit.ariaLabel)})}function Mx(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,Dx)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,Nx)),li(4,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.showWeekNumbers),t(e,4,0,e.parent.context.$implicit.days)},null)}function Lx(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,Mx)),li(1,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(0,null,null,0))],function(t,e){t(e,1,0,!e.context.$implicit.collapsed)},null)}function jx(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,kx)),li(1,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,Lx)),li(3,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.showWeekdays),t(e,3,0,n.month.weeks)},null)}var Fx=qe({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function Vx(t){return Jr(2,[(t()(),qr(0,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n.i18n.getDayNumerals(n.date))})}var Gx=qe({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Ux(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.select.emit(n)&&i),i},qx,Xx)),li(1,49152,null,0,Yw,[Rw],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function zx(t){return Jr(0,[(t()(),jr(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Hx(t){return Jr(0,[(t()(),jr(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Wx(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,zx)),li(1,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),qr(3,null,[" "," "," "])),(t()(),Lr(16777216,null,null,1,null,Hx)),li(5,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,e.context.index>0),t(e,5,0,e.context.index!==n.months.length-1)},function(t,e){var n=e.component;t(e,3,0,n.i18n.getMonthFullName(e.context.$implicit.number,e.context.$implicit.year),n.i18n.getYearNumerals(e.context.$implicit.year))})}function Yx(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,Wx)),li(1,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null),(t()(),Lr(0,null,null,0))],function(t,e){t(e,1,0,e.component.months)},null)}function Bx(t){return Jr(2,[(t()(),jr(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.navigate.emit(r.navigation.PREV)&&i),i},null,null)),(t()(),jr(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,Ux)),li(4,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,Yx)),li(6,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),jr(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.navigate.emit(r.navigation.NEXT)&&i),i},null,null)),(t()(),jr(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.showSelect),t(e,6,0,!n.showSelect)},function(t,e){var n=e.component;t(e,1,0,n.prevDisabled),t(e,8,0,n.nextDisabled)})}var Xx=qe({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}"],data:{}});function Kx(t){return Jr(0,[(t()(),jr(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),li(1,147456,null,0,jb,[re,ue,[8,null]],{value:[0,"value"]},null),li(2,147456,null,0,Vb,[re,ue,[8,null]],{value:[0,"value"]},null),(t()(),qr(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){var n=e.component;t(e,0,0,n.i18n.getMonthFullName(e.context.$implicit,null==n.date?null:n.date.year)),t(e,3,0,n.i18n.getMonthShortName(e.context.$implicit,null==n.date?null:n.date.year))})}function $x(t){return Jr(0,[(t()(),jr(0,0,null,null,3,"option",[],null,null,null,null,null)),li(1,147456,null,0,jb,[re,ue,[8,null]],{value:[0,"value"]},null),li(2,147456,null,0,Vb,[re,ue,[8,null]],{value:[0,"value"]},null),(t()(),qr(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.component.i18n.getYearNumerals(e.context.$implicit))})}function qx(t){return Jr(2,[(t()(),jr(0,0,null,null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeMonth(n.target.value)&&i),i},null,null)),(t()(),Lr(16777216,null,null,1,null,Kx)),li(2,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null),(t()(),jr(3,0,null,null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeYear(n.target.value)&&i),i},null,null)),(t()(),Lr(16777216,null,null,1,null,$x)),li(5,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.months),t(e,5,0,n.years)},function(t,e){var n=e.component;t(e,0,0,n.disabled,null==n.date?null:n.date.month),t(e,3,0,n.disabled,null==n.date?null:n.date.year)})}var Zx=qe({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month-view{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function Qx(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,Vx,Fx)),li(1,49152,null,0,Ww,[Rw],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],function(t,e){t(e,1,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)},function(t,e){t(e,0,0,$n(e,1).selected,$n(e,1).selected,$n(e,1).isMuted(),$n(e,1).isMuted(),$n(e,1).focused)})}function Jx(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(t,e,n){var i=!0,r=t.component;return"navigate"===e&&(i=!1!==r.onNavigateEvent(n)&&i),"select"===e&&(i=!1!==r.onNavigateDateSelect(n)&&i),i},Bx,Gx)),li(1,49152,null,0,Gw,[Rw],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function tC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"div",[["class","ngb-dp-month-name bg-light"]],null,null,null,null,null)),(t()(),qr(1,null,[" "," "," "]))],null,function(t,e){var n=e.component;t(e,1,0,n.i18n.getMonthFullName(e.parent.context.$implicit.number,e.parent.context.$implicit.year),n.i18n.getYearNumerals(e.parent.context.$implicit.year))})}function eC(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,tC)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onDateSelect(n)&&i),i},jx,Ox)),li(4,49152,null,0,Vw,[Rw],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],function(t,e){var n=e.component;t(e,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,4,0,n.dayTemplate||$n(e.parent,1),e.context.$implicit,n.showWeekdays,n.showWeekNumbers)},null)}function nC(t){return Jr(0,[(t()(),Lr(0,null,null,0))],null,null)}function iC(t){return Jr(2,[zr(402653184,1,{_monthsEl:0}),(t()(),Lr(0,[["dt",2]],null,0,null,Qx)),(t()(),jr(2,0,null,null,2,"div",[["class","ngb-dp-header bg-light"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,Jx)),li(4,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(5,0,[[1,0],["months",1]],null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"]],function(t,e,n){var i=!0;return"keydown"===e&&(i=!1!==t.component.onKeyDown(n)&&i),i},null,null)),(t()(),Lr(16777216,null,null,1,null,eC)),li(7,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null),(t()(),Lr(16777216,null,null,1,null,nC)),li(9,540672,null,0,ua,[Ae],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(t,e){var n=e.component;t(e,4,0,"none"!==n.navigation),t(e,7,0,n.model.months),t(e,9,0,n.footerTemplate)},null)}function rC(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"ngb-datepicker",[],null,null,null,iC,Zx)),ui(5120,null,Ob,function(t){return[t]},[Fw]),ui(512,null,kw,kw,[xw,Rw]),ui(512,null,Aw,Aw,[kw,xw]),li(4,4964352,null,0,Fw,[Aw,kw,xw,Rw,Nw,Se,re,Lw,Qi],null,null)],function(t,e){t(e,4,0)},null)}var sC=Fn("ngb-datepicker",Fw,rC,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),oC=qe({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom .arrow,ngb-popover-window.bs-popover-top .arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left .arrow,ngb-popover-window.bs-popover-top-left .arrow{left:2em}ngb-popover-window.bs-popover-bottom-right .arrow,ngb-popover-window.bs-popover-top-right .arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left .arrow,ngb-popover-window.bs-popover-right .arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top .arrow,ngb-popover-window.bs-popover-right-top .arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom .arrow,ngb-popover-window.bs-popover-right-bottom .arrow{top:auto;bottom:.7em}"],data:{}});function aC(t){return Jr(0,[(t()(),qr(0,null,["",""]))],null,function(t,e){t(e,0,0,e.component.title)})}function lC(t){return Jr(0,[(t()(),Lr(0,null,null,0))],null,null)}function uC(t){return Jr(0,[(t()(),jr(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),Lr(0,[["simpleTitle",2]],null,0,null,aC)),(t()(),Lr(16777216,null,null,1,null,lC)),li(3,540672,null,0,ua,[Ae],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],function(t,e){var n=e.component;t(e,3,0,n.context,n.isTitleTemplate()?n.title:$n(e,1))},null)}function cC(t){return Jr(2,[(t()(),jr(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,uC)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),Xr(null,0)],function(t,e){t(e,2,0,null!=e.component.title)},null)}function hC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,cC,oC)),li(1,49152,null,0,lx,[],null,null)],null,function(t,e){t(e,0,0,"popover"+($n(e,1).popoverClass?" "+$n(e,1).popoverClass:""),$n(e,1).id)})}var dC=Fn("ngb-popover-window",lx,hC,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),pC=qe({encapsulation:2,styles:[],data:{}});function fC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qr(1,null,["","%"]))],null,function(t,e){t(e,1,0,e.component.getPercentValue())})}function gC(t){return Jr(2,[(t()(),jr(0,0,null,null,4,"div",[["class","progress"]],[[4,"height",null]],null,null,null,null)),(t()(),jr(1,0,null,null,3,"div",[["aria-valuemin","0"],["role","progressbar"]],[[8,"className",0],[4,"width","%"],[1,"aria-valuenow",0],[1,"aria-valuemax",0]],null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,fC)),li(3,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),Xr(null,0)],function(t,e){t(e,3,0,e.component.showValue)},function(t,e){var n,i,r=e.component;t(e,0,0,r.height),t(e,1,0,(n=r.animated?" progress-bar-animated":"",i=r.striped?" progress-bar-striped":"","progress-bar"+En(r.type?" bg-"+r.type:"")+""+En(n)+En(i)),r.getPercentValue(),r.getValue(),r.max)})}var mC=qe({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function _C(t){return Jr(2,[(t()(),jr(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),Xr(null,0)],null,null)}function yC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,_C,mC)),li(1,49152,null,0,mx,[],null,null)],null,function(t,e){t(e,0,0,"tooltip show"+($n(e,1).tooltipClass?" "+$n(e,1).tooltipClass:""),$n(e,1).id)})}var vC=Fn("ngb-tooltip-window",mx,yC,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),bC=qe({encapsulation:2,styles:[],data:{}});function wC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-highlight",[],null,null,null,DC,OC)),li(1,573440,null,0,yx,[],{result:[0,"result"],term:[1,"term"]},null)],function(t,e){var n=e.context.formatter(e.context.result);t(e,1,0,n,e.context.term)},null)}function xC(t){return Jr(0,[(t()(),Lr(0,null,null,0))],null,null)}function CC(t){return Jr(0,[(t()(),jr(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"mouseenter"===e&&(i=!1!==r.markActive(t.context.index)&&i),"click"===e&&(i=!1!==r.select(t.context.$implicit)&&i),i},null,null)),(t()(),Lr(16777216,null,null,2,null,xC)),li(2,540672,null,0,ua,[Ae],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),$r(3,{result:0,term:1,formatter:2})],function(t,e){var n=e.component,i=t(e,3,0,e.context.$implicit,n.term,n.formatter);t(e,2,0,i,n.resultTemplate||$n(e.parent,0))},function(t,e){var n=e.component;t(e,0,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)})}function EC(t){return Jr(0,[(t()(),Lr(0,[["rt",2]],null,0,null,wC)),(t()(),Lr(16777216,null,null,1,null,CC)),li(2,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.results)},null)}function SC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==n.preventDefault()&&i),i},EC,bC)),li(1,114688,null,0,vx,[],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,$n(e,1).id)})}var TC=Fn("ngb-typeahead-window",vx,SC,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),OC=qe({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function RC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),qr(1,null,["",""]))],null,function(t,e){t(e,0,0,e.component.highlightClass),t(e,1,0,e.parent.context.$implicit)})}function IC(t){return Jr(0,[(t()(),qr(0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit)})}function kC(t){return Jr(0,[(t()(),Lr(16777216,null,null,1,null,RC)),li(1,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Lr(0,[["even",2]],null,0,null,IC))],function(t,e){t(e,1,0,e.context.odd,$n(e,2))},null)}function DC(t){return Jr(2,[(t()(),Lr(16777216,null,null,1,null,kC)),li(1,278528,null,0,ra,[Ae,ke,Ce],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.parts)},null)}var AC=qe({encapsulation:2,styles:[],data:{}});function PC(t){return Jr(0,[],null,null)}function NC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,PC,AC)),li(1,49152,null,0,Jw,[],null,null)],null,function(t,e){t(e,0,0,"modal-backdrop fade show"+($n(e,1).backdropClass?" "+$n(e,1).backdropClass:""))})}var MC=Fn("ngb-modal-backdrop",Jw,NC,{backdropClass:"backdropClass"},{},[]),LC=qe({encapsulation:2,styles:[],data:{}});function jC(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),jr(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),Xr(null,0)],null,function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":""))})}function FC(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(t,e,n){var i=!0;return"keyup.esc"===e&&(i=!1!==$n(t,1).escKey(n)&&i),"click"===e&&(i=!1!==$n(t,1).backdropClick(n)&&i),i},jC,LC)),li(1,4440064,null,0,ix,[ha,re],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"modal fade show d-block"+($n(e,1).windowClass?" "+$n(e,1).windowClass:""),!0,$n(e,1).ariaLabelledBy)})}var VC=Fn("ngb-modal-window",ix,FC,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);class GC{constructor(t){this.contextService=t}ngOnInit(){}setDatabaseName(t){this.contextService.setDatabaseName(t)}}var UC=qe({encapsulation:0,styles:[[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;z-index:100;padding:48px 0 0;box-shadow:inset -1px 0 0 rgba(0,0,0,.1);width:150px!important}.sidebar-sticky[_ngcontent-%COMP%]{position:relative;top:0;height:calc(100vh - 48px);padding-top:.5rem;overflow-x:hidden;overflow-y:auto;background-color:#392a1d;color:#999}@supports ((position:-webkit-sticky) or (position:sticky)){.sidebar-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;color:#333}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%]{margin-right:4px;color:#999}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#007bff}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .feather[_ngcontent-%COMP%]{color:inherit}.sidebar-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;color:#dbdbdb!important}.nav-link[_ngcontent-%COMP%]{color:#fff!important;font-size:1rem;font-family:Nunito,sans-serif!important}"]],data:{}});function zC(t){return Jr(0,[(t()(),jr(0,0,null,null,58,"nav",[["class","col-sm-2 d-none d-md-block bg-light sidebar"]],null,null,null,null,null)),(t()(),jr(1,0,null,null,57,"div",[["class","sidebar-sticky"]],null,null,null,null,null)),(t()(),jr(2,0,null,null,12,"ul",[["class","nav flex-column"]],null,null,null,null,null)),(t()(),jr(3,0,null,null,6,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(4,0,null,null,5,"a",[["class","nav-link active"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==$n(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),li(5,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(6,0,null,null,0,"i",[["class","fas fa-home"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Dashboard "])),(t()(),jr(8,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),qr(-1,null,["(current)"])),(t()(),jr(10,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(11,0,null,null,3,"a",[["class","nav-link btn-light"],["routerLink","session"],["style","color: black !important;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==$n(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),li(12,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(13,0,null,null,0,"i",[["class","fas fa-male"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Session "])),(t()(),jr(15,0,null,null,2,"h6",[["class","sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"]],null,null,null,null,null)),(t()(),jr(16,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qr(-1,null,["Analysis"])),(t()(),jr(18,0,null,null,40,"ul",[["class","nav flex-column mb-2"]],null,null,null,null,null)),(t()(),jr(19,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(20,0,null,null,3,"a",[["class","nav-link btn-primary"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("homeopathy")&&i),i},null,null)),li(21,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(22,0,null,null,0,"i",[["class","fas fa-prescription-bottle"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Homeopathy "])),(t()(),jr(24,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(25,0,null,null,3,"a",[["class","nav-link btn-success"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("agriculture")&&i),i},null,null)),li(26,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(27,0,null,null,0,"i",[["class","fas fa-compass"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Agriculture "])),(t()(),jr(29,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(30,0,null,null,3,"a",[["class","nav-link btn-danger"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,31).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("energy")&&i),i},null,null)),li(31,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(32,0,null,null,0,"i",[["class","fas fa-battery-half"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Energy "])),(t()(),jr(34,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(35,0,null,null,3,"a",[["class","nav-link btn-warning"],["routerLink","analysis"],["style","color: black !important;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("biology")&&i),i},null,null)),li(36,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(37,0,null,null,0,"i",[["class","fas fa-diagnoses"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Biology "])),(t()(),jr(39,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(40,0,null,null,3,"a",[["class","nav-link btn-secondary"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,41).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("chemical")&&i),i},null,null)),li(41,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(42,0,null,null,0,"i",[["class","fas fa-diagnoses"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Chemical "])),(t()(),jr(44,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(45,0,null,null,3,"a",[["class","nav-link btn-info"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,46).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("essences")&&i),i},null,null)),li(46,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(47,0,null,null,0,"i",[["class","fas fa-diagnoses"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Essences "])),(t()(),jr(49,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(50,0,null,null,3,"a",[["class","nav-link btn-dark"],["routerLink","analysis"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==$n(t,51).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.setDatabaseName("food")&&i),i},null,null)),li(51,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(52,0,null,null,0,"i",[["class","fas fa-diagnoses"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Food "])),(t()(),jr(54,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),jr(55,0,null,null,3,"a",[["class","nav-link btn-dark"],["routerLink","map"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==$n(t,56).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),li(56,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(57,0,null,null,0,"i",[["class","fas fa-map"]],null,null,null,null,null)),(t()(),qr(-1,null,[" Map "]))],function(t,e){t(e,5,0,""),t(e,12,0,"session"),t(e,21,0,"analysis"),t(e,26,0,"analysis"),t(e,31,0,"analysis"),t(e,36,0,"analysis"),t(e,41,0,"analysis"),t(e,46,0,"analysis"),t(e,51,0,"analysis"),t(e,56,0,"map")},function(t,e){t(e,4,0,$n(e,5).target,$n(e,5).href),t(e,11,0,$n(e,12).target,$n(e,12).href),t(e,20,0,$n(e,21).target,$n(e,21).href),t(e,25,0,$n(e,26).target,$n(e,26).href),t(e,30,0,$n(e,31).target,$n(e,31).href),t(e,35,0,$n(e,36).target,$n(e,36).href),t(e,40,0,$n(e,41).target,$n(e,41).href),t(e,45,0,$n(e,46).target,$n(e,46).href),t(e,50,0,$n(e,51).target,$n(e,51).href),t(e,55,0,$n(e,56).target,$n(e,56).href)})}var HC=n("Hlea"),WC=n.n(HC);class YC{constructor(t){this.http=t,this.serverUrl=`${oo.serverUrl}:${oo.serverPort}`}ngOnInit(){console.log(`get status from ${this.serverUrl}/status`),WC()(this.http.get(`${this.serverUrl}/status`),{interval:5e3}).subscribe(t=>{console.log("polling status ..."),this.aetherOnePiStatus=t},t=>{console.error(t)})}}class BC{}class XC{}class KC{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof KC?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new KC;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof KC?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===r.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $C{encodeKey(t){return qC(t)}encodeValue(t){return qC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function qC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ZC{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $C,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new ZC({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function QC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function JC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function tE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class eE{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new KC),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ZC,this.urlWithParams=e}serializeBody(){return null===this.body?null:QC(this.body)||JC(this.body)||tE(this.body)||"string"==typeof this.body?this.body:this.body instanceof ZC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:tE(this.body)?null:JC(this.body)?this.body.type||null:QC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ZC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new eE(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const nE=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class iE{constructor(t,e=200,n="OK"){this.headers=t.headers||new KC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rE extends iE{constructor(t={}){super(t),this.type=nE.ResponseHeader}clone(t={}){return new rE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sE extends iE{constructor(t={}){super(t),this.type=nE.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sE({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oE extends iE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function aE(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let lE=(()=>(class{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof eE)i=t;else{let r=void 0;r=n.headers instanceof KC?n.headers:new KC(n.headers);let s=void 0;n.params&&(s=n.params instanceof ZC?n.params:new ZC({fromObject:n.params})),i=new eE(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(fa.a)(i).pipe(Object(Pa.a)(t=>this.handler.handle(t)));if(t instanceof eE||"events"===n.observe)return r;const s=r.pipe(Object(Aa.a)(t=>t instanceof sE));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(wa.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(wa.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(wa.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(wa.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ZC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,aE(n,e))}post(t,e,n={}){return this.request("POST",t,aE(n,e))}put(t,e,n={}){return this.request("PUT",t,aE(n,e))}}))();class uE{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const cE=new D("HTTP_INTERCEPTORS");let hE=(()=>(class{intercept(t,e){return e.handle(t)}}))();const dE=/^\)\]\}',?\n/;class pE{}let fE=(()=>(class{constructor(){}build(){return new XMLHttpRequest}}))(),gE=(()=>(class{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new KC(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new rE({headers:s,status:e,statusText:i,url:o})},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(dE,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new sE({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new oE({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new oE({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const u=i=>{l||(e.next(s()),l=!0);let r={type:nE.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:nE.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:nE.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}))();const mE=new D("XSRF_COOKIE_NAME"),_E=new D("XSRF_HEADER_NAME");class yE{}let vE=(()=>(class{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=na(t,this.cookieName),this.lastCookieString=t),this.lastToken}}))(),bE=(()=>(class{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}))(),wE=(()=>(class{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(cE,[]);this.chain=t.reduceRight((t,e)=>new uE(t,e),this.backend)}return this.chain.handle(t)}}))(),xE=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:bE,useClass:hE}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:mE,useValue:e.cookieName}:[],e.headerName?{provide:_E,useValue:e.headerName}:[]]}}}return t})(),CE=(()=>(class{}))();var EE=qe({encapsulation:0,styles:[[".statusComponent[_ngcontent-%COMP%]{position:fixed;bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left;margin-right:5px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:16px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#111}"]],data:{}});function SE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(t()(),qr(-1,null,["Simulation Mode"]))],null,null)}function TE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(t()(),qr(-1,null,["broadcasting"]))],null,null)}function OE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(t()(),qr(-1,null,["grounding"]))],null,null)}function RE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(t()(),qr(-1,null,["copying"]))],null,null)}function IE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-info"]],null,null,null,null,null)),(t()(),qr(-1,null,["clearing"]))],null,null)}function kE(t){return Jr(0,[(t()(),jr(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,1,"span",[["class","badge badge-secondary"]],null,null,null,null,null)),(t()(),qr(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.aetherOnePiStatus.text)})}function DE(t){return Jr(0,[(t()(),jr(0,0,null,null,15,"ul",[],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,SE)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),jr(3,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),jr(4,0,null,null,1,"span",[["class","badge badge-primary"]],null,null,null,null,null)),(t()(),qr(5,null,["hotbitsPackages ",""])),(t()(),Lr(16777216,null,null,1,null,TE)),li(7,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,OE)),li(9,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,RE)),li(11,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,IE)),li(13,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,kE)),li(15,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,0==n.aetherOnePiStatus.pseudoRandom),t(e,7,0,1==n.aetherOnePiStatus.broadcasting),t(e,9,0,1==n.aetherOnePiStatus.grounding),t(e,11,0,1==n.aetherOnePiStatus.copying),t(e,13,0,1==n.aetherOnePiStatus.clearing),t(e,15,0,null!=n.aetherOnePiStatus.text&&n.aetherOnePiStatus.text.length>0)},function(t,e){t(e,5,0,e.component.aetherOnePiStatus.hotbitsPackages)})}function AE(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"span",[["class","badge badge-warning"]],null,null,null,null,null)),(t()(),qr(-1,null,["No connection to AetherOnePi Server"]))],null,null)}function PE(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,3,"ngb-progressbar",[["type","primary"]],null,null,null,gC,pC)),li(2,49152,null,0,hx,[cx],{animated:[0,"animated"],striped:[1,"striped"],type:[2,"type"],value:[3,"value"]},null),(t()(),jr(3,0,null,0,1,"i",[],null,null,null,null,null)),(t()(),qr(4,null,["progress ","%"]))],function(t,e){t(e,2,0,!0,!0,"primary",e.component.aetherOnePiStatus.progress)},function(t,e){t(e,4,0,e.component.aetherOnePiStatus.progress)})}function NE(t){return Jr(0,[(t()(),jr(0,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),jr(1,0,null,null,3,"ngb-progressbar",[["type","primary"]],null,null,null,gC,pC)),li(2,49152,null,0,hx,[cx],{animated:[0,"animated"],striped:[1,"striped"],type:[2,"type"],value:[3,"value"]},null),(t()(),jr(3,0,null,0,1,"i",[],null,null,null,null,null)),(t()(),qr(4,null,["queue ","%"]))],function(t,e){t(e,2,0,!0,!0,"primary",e.component.aetherOnePiStatus.queue)},function(t,e){t(e,4,0,e.component.aetherOnePiStatus.queue)})}function ME(t){return Jr(0,[(t()(),jr(0,0,null,null,8,"div",[["class","statusComponent"]],null,null,null,null,null)),(t()(),Lr(16777216,null,null,1,null,DE)),li(2,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,AE)),li(4,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,PE)),li(6,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null),(t()(),Lr(16777216,null,null,1,null,NE)),li(8,16384,null,0,oa,[Ae,ke],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,null!=n.aetherOnePiStatus),t(e,4,0,null==n.aetherOnePiStatus),t(e,6,0,null!=n.aetherOnePiStatus&&n.aetherOnePiStatus.progress>0),t(e,8,0,null!=n.aetherOnePiStatus&&n.aetherOnePiStatus.queue>0)},null)}var LE=qe({encapsulation:0,styles:[[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body[_ngcontent-%COMP%]{font-size:.875rem!important;font-family:Nunito,sans-serif!important}@media (min-width:1024px){.ml-sm-auto[_ngcontent-%COMP%], .mx-sm-auto[_ngcontent-%COMP%]{margin-left:200px!important}}main[_ngcontent-%COMP%]{color:#fff}.feather[_ngcontent-%COMP%]{vertical-align:text-bottom}@media (min-width:768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}[role=main][_ngcontent-%COMP%]{padding-top:48px}}.bg-dark[_ngcontent-%COMP%]{background-color:#130c09!important}.navbar-brand[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem;font-size:1rem;background-color:#130c09;box-shadow:inset -1px 0 0 rgba(0,0,0,.25)}.navbar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border-width:0;border-radius:0;background-color:#130c09}.form-control-dark[_ngcontent-%COMP%]{color:#fff;background-color:#1c1209;border-color:#130c09}.form-control-dark[_ngcontent-%COMP%]:focus{border-color:transparent;box-shadow:0 0 0 3px rgba(255,255,255,.25)}"]],data:{}});function jE(t){return Jr(0,[(t()(),jr(0,0,null,null,10,"nav",[["class","navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"]],null,null,null,null,null)),li(1,16384,null,0,Xw,[],null,null),(t()(),jr(2,0,null,null,3,"a",[["class","navbar-brand mr-sm-4"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==$n(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),li(3,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(4,0,null,null,1,"b",[["style","margin-left: 10px"]],null,null,null,null,null)),(t()(),qr(-1,null,[" AetherOnePi V1.1"])),(t()(),jr(6,0,null,null,0,"input",[["aria-label","Search"],["class","form-control form-control-dark w-100"],["placeholder","Search"],["type","text"]],null,null,null,null,null)),(t()(),jr(7,0,null,null,3,"ul",[["class","navbar-nav px-3"]],null,null,null,null,null)),(t()(),jr(8,0,null,null,2,"li",[["class","nav-item text-nowrap"]],null,null,null,null,null)),(t()(),jr(9,0,null,null,1,"a",[["class","nav-link"],["routerLink",""]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==$n(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),li(10,671744,null,0,gh,[fh,ic,ho],{routerLink:[0,"routerLink"]},null),(t()(),jr(11,0,null,null,8,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),jr(12,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),jr(13,0,null,null,1,"app-sidebar",[],null,null,null,zC,UC)),li(14,114688,null,0,GC,[nd],null,null),(t()(),jr(15,0,null,null,4,"main",[["class","col-sm-9 ml-sm-auto col-lg-10 px-4"],["role","main"]],null,null,null,null,null)),(t()(),jr(16,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),li(17,212992,null,0,vh,[yh,Ae,Qt,[8,null],Se],null,null),(t()(),jr(18,0,null,null,1,"app-status",[],null,null,null,ME,EE)),li(19,114688,null,0,YC,[lE],null,null)],function(t,e){t(e,3,0,""),t(e,10,0,""),t(e,14,0),t(e,17,0),t(e,19,0)},function(t,e){t(e,2,0,$n(e,3).target,$n(e,3).href),t(e,9,0,$n(e,10).target,$n(e,10).href)})}function FE(t){return Jr(0,[(t()(),jr(0,0,null,null,1,"app-root",[],null,null,null,jE,LE)),li(1,49152,null,0,lo,[],null,null)],null,null)}var VE=Fn("app-root",lo,FE,{},{},[]);class GE{}var UE=ro(ao,[lo],function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const s=t[r];s.token===Bt&&!0===s.value&&(i=!0),1073741824&s.flags&&n.push(s.token),s.index=r,e[Xe(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([In(512,Qt,Jt,[[8,[Wh,$h,td,ad,Sb,Tx,sC,MC,VC,dC,vC,TC,VE]],[3,Qt],ee]),In(5120,kr,Pr,[[3,kr]]),In(4608,ta,ea,[kr,[2,Jo]]),In(5120,Ei,Nr,[Qi]),In(5120,ki,Di,[]),In(5120,Ce,Dr,[]),In(5120,Ee,Ar,[]),In(4608,Fl,Vl,[ha]),In(6144,Dt,null,[Fl]),In(4608,Dl,Pl,[]),In(5120,rl,function(t,e,n,i,r,s,o,a){return[new Il(t,e,n),new jl(i),new Nl(r,s,o,a)]},[ha,Qi,Ni,ha,ha,Dl,Li,[2,Al]]),In(4608,sl,sl,[rl,Qi]),In(135680,ll,ll,[ha]),In(4608,gl,gl,[sl,ll,ki]),In(6144,ae,null,[gl]),In(6144,al,null,[ll]),In(4608,sr,sr,[Qi]),In(5120,ic,Lh,[fh]),In(4608,Ch,Ch,[]),In(6144,wh,null,[Ch]),In(135680,Eh,Eh,[fh,Oi,Wi,L,wh]),In(4608,xh,xh,[]),In(5120,Sh,Dh,[fh,da,Th]),In(5120,Gh,Vh,[jh]),In(5120,Mi,function(t){return[t]},[Gh]),In(4608,tw,tw,[]),In(4608,Lb,Lb,[]),In(4608,sx,sx,[Qt,L,rx,$w]),In(4608,yE,vE,[ha,Ni,mE]),In(4608,bE,bE,[yE,_E]),In(5120,cE,function(t){return[t]},[bE]),In(4608,fE,fE,[]),In(6144,pE,null,[fE]),In(4608,gE,gE,[pE]),In(6144,XC,null,[gE]),In(4608,BC,wE,[XC,L]),In(4608,lE,lE,[BC]),In(1073742336,ca,ca,[]),In(1024,st,Xl,[]),In(1024,dr,function(){return[Ih()]},[]),In(512,jh,jh,[L]),In(1024,Ri,function(t,e){return[(n=t,el("probe",il),el("coreTokens",Object.assign({},nl,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>il),Fh(e)];var n},[[2,dr],jh]),In(512,Ii,Ii,[[2,Ri]]),In(131584,_r,_r,[Qi,Li,L,st,Qt,Ii]),In(1073742336,Mr,Mr,[_r]),In(1073742336,Kl,Kl,[[3,Kl]]),In(1024,Oh,Ph,[[3,fh]]),In(512,Mu,Lu,[]),In(512,yh,yh,[]),In(256,Th,{},[]),In(1024,ho,Ah,[uo,[2,po],Th]),In(512,fo,fo,[ho,uo]),In(512,Wi,Wi,[]),In(512,Oi,wr,[Wi,[2,vr]]),In(1024,ah,function(){return[[{path:"",component:Yh},{path:"dashboard",component:Yh},{path:"session",component:qh},{path:"analysis",component:id},{path:"map",component:wb}]]},[]),In(1024,fh,Mh,[_r,Mu,yh,fo,L,Oi,Wi,ah,Th,[2,uh],[2,sh]]),In(1073742336,kh,kh,[[2,Oh],[2,fh]]),In(1073742336,GE,GE,[]),In(1073742336,Jb,Jb,[]),In(1073742336,nw,nw,[]),In(1073742336,hw,hw,[]),In(1073742336,fw,fw,[]),In(1073742336,gw,gw,[]),In(1073742336,mw,mw,[]),In(1073742336,_w,_w,[]),In(1073742336,ew,ew,[]),In(1073742336,Bw,Bw,[]),In(1073742336,Kw,Kw,[]),In(1073742336,ox,ox,[]),In(1073742336,ax,ax,[]),In(1073742336,ux,ux,[]),In(1073742336,dx,dx,[]),In(1073742336,px,px,[]),In(1073742336,fx,fx,[]),In(1073742336,gx,gx,[]),In(1073742336,_x,_x,[]),In(1073742336,bx,bx,[]),In(1073742336,wx,wx,[]),In(1073742336,xE,xE,[]),In(1073742336,CE,CE,[]),In(1073742336,ao,ao,[]),In(256,Bt,!0,[]),In(256,mE,"XSRF-TOKEN",[]),In(256,_E,"X-XSRF-TOKEN",[])])});oo.production&&function(){if(at)throw new Error("Cannot enable prod mode after platform setup.");ot=!1}(),Bl().bootstrapModuleFactory(UE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("l7GE"),r=n("ZUHj");function s(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}class o{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends i.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let s=0;s<i;s++){let t=e[s];this.add(Object(r.a)(this,t,t,s))}}notifyNext(t,e,n,i,r){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}}},[[0,0]]]);